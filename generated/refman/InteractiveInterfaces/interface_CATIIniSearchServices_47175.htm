<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
 <meta http-equiv="Content-Language" content="en-us"> 
 <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
 <meta name="Generator" content="CppGene v1.1">
 <meta http-equiv="Expires" content="Tue, 04 Dec 1993 21:29:02 GMT">
 <title>InteractiveInterfaces Interface CATIIniSearchServices</title>
<link rel="Stylesheet" type="text/css" href="../../../caav5.css">
<script language="Javascript" src="../_index/jslink.js"></script> 
<script language="Javascript" src="jsFwLink.js"></script> 
<script language="Javascript" type="text/javascript" src="../_index/jsTree.js"></script>  
</head>
<body>
<pre><a href="../_index/main.htm">All Frameworks</a>  <a href="../_index/tree.htm">Class Hierarchy</a>  <a href="../InteractiveInterfaces.htm">This Framework</a>  <a href="../_index/HomeIdx.htm">Indexes</a>  <script type="text/javascript"> 
 var test=locateObject('CATIIniSearchServices','interface','0'); 
 if(test==1){ 
     document.write("<a href=\"#\" onclick=\"openLinkNP('CATIIniSearchServices','interface','0');return false\">Previous</a> "); 
 } 
 test=locateObject('CATIIniSearchServices','interface','1'); 
 if(test==1){ 
     document.write("<a href=\"#\" onclick=\"openLinkNP('CATIIniSearchServices','interface','1');return false\">Next</a> "); 
 } 
 </script> 
</pre>
<hr>
<h1>InteractiveInterfaces Interface CATIIniSearchServices</h1>
<script type="text/javascript" > 
 generatedFatherClass('interface_CATIIniSearchServices_47175','CATIIniSearchServices','0');</script>
<p><b>Usage: an implementation of this interface is supplied and you must use it as is. You should not reimplement it.</b></p>
<hr>
<p>
 interface <b>CATIIniSearchServices</b>
</p>
<p>
<b><i> Class providing general services for analysing a query (string format 
 of a criterion).</i></b><br>

 <b>Role</b>: This class offers different services to generate a criterion
 from a query.
 <br>A query is a string format of a criterion. There exist two kinds of 
 queries: 
 <br>
 <li><b>NLS</b> queries are dependant on the session's language</li>, 
 <li><b>TransFormat</b> queries are independant on this parameters.</li>
 <br><br>
 NLS queries are useful in a user interface, whether TransFormat queries
 are useful for a stable and language independant view. TransFormat queries
 can be used in .CATSettings files, in a code definition of a query for instance.</p>
<hr>
 <h2>Method Index</h2> <br>
<dl>
 <dt> o 
    <a href="#ConvertFromNLSToTransFormat(CATUnicodeString&amp;,CATUnicodeString&amp;)"><b>ConvertFromNLSToTransFormat</b></a>(CATUnicodeString&amp;,CATUnicodeString&amp;)
<dd>  Converts an NLS query into a Transformat query.
 <dt> o 
    <a href="#ConvertFromTransFormatToNLS(CATUnicodeString&amp;,CATUnicodeString&amp;)"><b>ConvertFromTransFormatToNLS</b></a>(CATUnicodeString&amp;,CATUnicodeString&amp;)
<dd>  Converts a TransFormat query into an NLS query.
 <dt> o 
    <a href="#CorrectString(CATUnicodeString&amp;,CATUnicodeString&amp;)"><b>CorrectString</b></a>(CATUnicodeString&amp;,CATUnicodeString&amp;)
<dd>  Corrects a string before feeding it into a query.
 <dt> o 
    <a href="#DecodeStringToCriterion(CATUnicodeString&amp;,CATBoolean,CATIIniSearchCriterion*&amp;)"><b>DecodeStringToCriterion</b></a>(CATUnicodeString&amp;,CATBoolean,CATIIniSearchCriterion*&amp;)
<dd>  Decodes a query into a criterion.
 <dt> o 
    <a href="#GetQueryAndContextFromString(CATUnicodeString&amp;,CATUnicodeString&amp;,CATIIniSearchContext*&amp;,CATBoolean)"><b>GetQueryAndContextFromString</b></a>(CATUnicodeString&amp;,CATUnicodeString&amp;,CATIIniSearchContext*&amp;,CATBoolean)
<dd>  Decomposes a complete query (i.
 <dt> o 
    <a href="#GetWildCardCharacter(CATUnicodeChar&amp;)"><b>GetWildCardCharacter</b></a>(CATUnicodeChar&amp;)
<dd>  Retrieves the wild characters.
 <dt> o 
    <a href="#TestNumValidity(CATUnicodeString&amp;,CATBoolean)"><b>TestNumValidity</b></a>(CATUnicodeString&amp;,CATBoolean)
<dd>  Tests the validity of a string as a digital value.
 <dt> o 
    <a href="#TestNumValidity(CATUnicodeString&amp;,CATBoolean,CATUnicodeString&amp;,CATUnicodeString&amp;)"><b>TestNumValidity</b></a>(CATUnicodeString&amp;,CATBoolean,CATUnicodeString&amp;,CATUnicodeString&amp;)
<dd>  Tests the validity of a string as a digital value with a unit.
</dl>
<dl>
</dl>
<dl>
</dl>
 <h2>Methods</h2> <br>
<a name="ConvertFromNLSToTransFormat"></a><a name="ConvertFromNLSToTransFormat(CATUnicodeString&amp;,CATUnicodeString&amp;)"></a> <dt> o <b>ConvertFromNLSToTransFormat</b>

<dt>  <table><tr><td>  public virtual <script type="text/javascript"> activateLink('HRESULT','HRESULT')</script>  <b>ConvertFromNLSToTransFormat</b>(<td> const <script type="text/javascript"> activateLink('CATUnicodeString','CATUnicodeString&amp;')</script> <td><tt>iNLSQuery</tt>,<tr><td></td><td><script type="text/javascript"> activateLink('CATUnicodeString','CATUnicodeString&amp;')</script> <td><tt>oTransformatQuery</tt>)<script type="text/javascript"> activateLink('0',' = 0')</script>  </table></dt>
<dl>
  <dd>
 Converts an NLS query into a Transformat query.
 <br><b>Role</b>: This service enables you to convert an NLS query into 
 a Transformat query without tinkering with a CATIIniSearchCriterion pointer.
 
<dl>
  <dt> <b>Parameters:</b>
  <dd>
    <dl>
    <dt><tt> iNLSQuery</tt>
   <dd>    The NLS query
 </dd>
    <dt><tt> oTransformatQuery</tt>
   <dd>    The equivalent Transformat query
 </dd>
</dl>
  <dt> <b>Returns:</b> 
  <dd>     <ul><li>S_OK if iNLSQuery corresponds to a correct query.</li>
    <li>E_FAIL otherwise.</li></ul>
</dl>
</dl>
<a name="ConvertFromTransFormatToNLS"></a><a name="ConvertFromTransFormatToNLS(CATUnicodeString&amp;,CATUnicodeString&amp;)"></a> <dt> o <b>ConvertFromTransFormatToNLS</b>

<dt>  <table><tr><td>  public virtual <script type="text/javascript"> activateLink('HRESULT','HRESULT')</script>  <b>ConvertFromTransFormatToNLS</b>(<td> const <script type="text/javascript"> activateLink('CATUnicodeString','CATUnicodeString&amp;')</script> <td><tt>iTransformatQuery</tt>,<tr><td></td><td><script type="text/javascript"> activateLink('CATUnicodeString','CATUnicodeString&amp;')</script> <td><tt>oNLSQuery</tt>)<script type="text/javascript"> activateLink('0',' = 0')</script>  </table></dt>
<dl>
  <dd>
 Converts a TransFormat query into an NLS query.
 <br><b>Role</b>: This service enables you to convert a TransFormat query into 
 an NLS query without tinkering with a CATIIniSearchCriterion pointer.
 
<dl>
  <dt> <b>Parameters:</b>
  <dd>
    <dl>
    <dt><tt> iTransFormatQuery</tt>
   <dd>    The TransFormat query
 </dd>
    <dt><tt> oNLSQuery</tt>
   <dd>    The equivalent NLS query
 </dd>
</dl>
  <dt> <b>Returns:</b> 
  <dd>     <ul><li>S_OK if iTransFormatQuery corresponds to a correct query</li>
    <li>E_FAIL otherwise</li></ul>
</dl>
</dl>
<a name="CorrectString"></a><a name="CorrectString(CATUnicodeString&amp;,CATUnicodeString&amp;)"></a> <dt> o <b>CorrectString</b>

<dt>  <table><tr><td>  public virtual <script type="text/javascript"> activateLink('HRESULT','HRESULT')</script>  <b>CorrectString</b>(<td> const <script type="text/javascript"> activateLink('CATUnicodeString','CATUnicodeString&amp;')</script> <td><tt>iStringToCorrect</tt>,<tr><td></td><td><script type="text/javascript"> activateLink('CATUnicodeString','CATUnicodeString&amp;')</script> <td><tt>oCorrectedString</tt>)<script type="text/javascript"> activateLink('0',' = 0')</script>  </table></dt>
<dl>
  <dd>
 Corrects a string before feeding it into a query.
 <br><b>Role</b>: Sometimes input strings can contain symbols that 
 could be analyzed as special caracters in a Search query. 
 It is then necessary to enclose those symbols within special
 exclusive caracters, so that they could be recognized.
 <br><br>Let us consider the following query string: <tt>Name=little, johnny</tt>
 <br>The GetQueryAndContextFromString method would return E_FAIL, 
 for the string would be decomposed as <tt>Name=little</tt>, and 
 an unknown context <tt>johnny</tt> would have been found.
 <br>The solution is to call this method so that the <tt>little, johnny</tt>
 string is corrected into a String1 CATUnicodeString instance, which in turned 
 could be correctly analyzed.
 <br><br>Let us consider the following query string: <tt>NAME=Lonely*</tt>
 <br>This looks for every object whose name starts with Lonely (case sensitivity
 respected). But what if we are looking for every object named Lonely* (star
 being part of the name) ?
 <br>The <tt>Lonely*</tt> string should be fed into the CorrectString method,
 and the returned CATUnicodeString instance could be then correctly used.
 <br><br>
 
<dl>
  <dt> <b>Parameters:</b>
  <dd>
    <dl>
    <dt><tt> iStringToCorrect</tt>
   <dd>    The string to be corrected.
 </dd>
    <dt><tt> oCorrectedString</tt>
   <dd>    The string once corrected.
 </dd>
</dl>
  <dt> <b>Returns:</b> 
  <dd>      S_OK always
</dl>
</dl>
<a name="DecodeStringToCriterion"></a><a name="DecodeStringToCriterion(CATUnicodeString&amp;,CATBoolean,CATIIniSearchCriterion*&amp;)"></a> <dt> o <b>DecodeStringToCriterion</b>

<dt>  <table><tr><td>  public virtual <script type="text/javascript"> activateLink('HRESULT','HRESULT')</script>  <b>DecodeStringToCriterion</b>(<td> const <script type="text/javascript"> activateLink('CATUnicodeString','CATUnicodeString&amp;')</script> <td><tt>iQueryString</tt>,<tr><td></td><td><script type="text/javascript"> activateLink('CATBoolean','CATBoolean')</script> <td><tt>iDisplayMessage</tt>,<tr><td></td><td><script type="text/javascript"> activateLink('CATIIniSearchCriterion','CATIIniSearchCriterion*&amp;')</script> <td><tt>oCriterion</tt>)<script type="text/javascript"> activateLink('0',' = 0')</script>  </table></dt>
<dl>
  <dd>
 Decodes a query into a criterion.
 <br><b>Role</b>: This service enables the conversion of a query without 
 context into a Search criterion. In addition, there is the possibility
 to display a pop-up window on the screen in case the query is incorrect:
 the message would indicate where the errors lay.
 <br><br>
 <b>Example</b>: 
 <br>Let us consider the following NLS query: <tt>Name=*1</tt>.
 <br>This service would decompose it as a CATIIniSearchNameCriterion pointer, 
 and return S_OK.
 <br><br>
 Let us consider the following TransFormat query: <tt>CATPrtSearch.Pad</tt>.
 <br>This service would decompose it as a CATIIniSearchTypeCriterion pointer, 
 and return S_OK.
 <br><br>
 Let us consider the following incorrect NLS query: <tt>NameWithTypo=*1</tt>.
 <br>It is impossible to decompose this query. Hence, a pop-up window would
 show up (if iDisplayMessage==TRUE), and E_FAIL would be returned.
 
<dl>
  <dt> <b>Parameters:</b>
  <dd>
    <dl>
    <dt><tt> iQueryString</tt>
   <dd>    The NLS or TransFormat query corresponding to the criterion.
 </dd>
    <dt><tt> iDisplayMessage</tt>
   <dd>    A CATBoolean to indicate if a pop-up window should be displayed in 
    case the query is incorrect.
 </dd>
    <dt><tt> oCriterion</tt>
   <dd>    The Search criterion generated from the NLS or TransFormat query.
 </dd>
</dl>
  <dt> <b>Returns:</b> 
  <dd>      <ul><li>S_OK if the conversion is successful.</li>
    <li>E_FAIL otherwise. The pointer to CATIIniSearchCriterion is then NULL.</li></ul>
</dl>
</dl>
<a name="GetQueryAndContextFromString"></a><a name="GetQueryAndContextFromString(CATUnicodeString&amp;,CATUnicodeString&amp;,CATIIniSearchContext*&amp;,CATBoolean)"></a> <dt> o <b>GetQueryAndContextFromString</b>

<dt>  <table><tr><td>  public virtual <script type="text/javascript"> activateLink('HRESULT','HRESULT')</script>  <b>GetQueryAndContextFromString</b>(<td> const <script type="text/javascript"> activateLink('CATUnicodeString','CATUnicodeString&amp;')</script> <td><tt>iCompleteQuery</tt>,<tr><td></td><td><script type="text/javascript"> activateLink('CATUnicodeString','CATUnicodeString&amp;')</script> <td><tt>oQuery</tt>,<tr><td></td><td><script type="text/javascript"> activateLink('CATIIniSearchContext','CATIIniSearchContext*&amp;')</script> <td><tt>oContext</tt>,<tr><td></td><td><script type="text/javascript"> activateLink('CATBoolean','CATBoolean')</script> <td><tt>iTransFormat</tt>)<script type="text/javascript"> activateLink('0',' = 0')</script>  </table></dt>
<dl>
  <dd>
 Decomposes a complete query (i.e. a query and the string-format
 context) into a query and a context.
 <br><b>Role</b>: This service enables the decomposition of an NLS or TransFormat
 complete query string (i.e. a string containing both the query and the context),
 into an NLS or TransFormat query (which will be used to generate a criterion) 
 and a context.
 <br>
 The validity of the query part of the complete string is not analyzed.
 <br><br>
 <b>Example</b>: 
 <br>Let us consider the following complete complete query: <tt>Name=*1,all</tt>.
 <br>This service would decompose it as a query <tt>Name=*1</tt>, and a 
 CATIIniSearchContext pointer. S_OK is returned.
 <br><br>
 Let us consider the following complete query: <tt>CATPrtSearch.Pad,in</tt>.
 <br>This service would decompose it as a query <tt>CATPrtSearch.Pad</tt>, 
 and a CATIIniSearchContext pointer. S_OK is returned.
 <br><br>
 Let us consider the following incorrect complete query: <tt>NameWithTypo=*1</tt>.
 <br>This service would decompose it as a query <tt>NameWithTypo=*1</tt> and a
 CATIIniSearchContext pointer. S_OK is returned. 
 <br>When nothing is specified at the end of the string, the default context
 is taken into account (refer to <tt>InUIActiveObject</tt> in 
<a href="#" onClick="openLink('CATIIniSearchContext','Scope');return false">CATIIniSearchContext.Scope</a> ). <br><br>
 
<dl>
  <dt> <b>Parameters:</b>
  <dd>
    <dl>
    <dt><tt> iCompleteQuery</tt>
   <dd>    The complete NLS or TransFormat query to be decomposed.
 </dd>
    <dt><tt> oQuery</tt>
   <dd>    The corresponding NLS or TransFormat query, that can be fed into 
    the </dd>
<a href="#" onClick="openLink('','DecodeStringToCriterion');return false">DecodeStringToCriterion</a> method to generate a criterion. 
    <dt><tt> oContext</tt>
   <dd>    The corresponding context.
 </dd>
    <dt><tt> iTransFormat</tt>
   <dd>    A CATBoolean to specify if the query is a TransFormat query. 
    <ul><li>TRUE, if the query is a TransFormat query.</li>
    <li>FALSE, if the query is an NLS query.</li></ul>
 </dd>
</dl>
  <dt> <b>Returns:</b> 
  <dd>     <ul><li>S_OK, if the complete query has successfully been decomposed into a query 
    and a context part.</li>
    <li>E_FAIL, if the context (when found) is incorrect.</li></ul>
</dl>
</dl>
<a name="GetWildCardCharacter"></a><a name="GetWildCardCharacter(CATUnicodeChar&amp;)"></a> <dt> o <b>GetWildCardCharacter</b>

<dt>  <table><tr><td>  public virtual <script type="text/javascript"> activateLink('HRESULT','HRESULT')</script>  <b>GetWildCardCharacter</b>(<td><script type="text/javascript"> activateLink('CATUnicodeChar','CATUnicodeChar&amp;')</script> <td><tt>oWildCardChar</tt>)<script type="text/javascript"> activateLink('0',' = 0')</script>  </table></dt>
<dl>
  <dd>
 Retrieves the wild characters.
 <br><b>Role</b>: This service enables you to retrieve the wild card 
 character used to replace from 0 to n characters.
 
<dl>
  <dt> <b>Parameters:</b>
  <dd>
    <dl>
    <dt><tt> oWildCardChar</tt>
   <dd>    The wild card character.
 </dd>
</dl>
  <dt> <b>Returns:</b> 
  <dd>     <ul><li>S_OK on success.</li>
    <li>E_FAIL otherwise.</li></ul>
</dl>
</dl>
<a name="TestNumValidity"></a><a name="TestNumValidity(CATUnicodeString&amp;,CATBoolean)"></a> <dt> o <b>TestNumValidity</b>

<dt>  <table><tr><td>  public virtual <script type="text/javascript"> activateLink('HRESULT','HRESULT')</script>  <b>TestNumValidity</b>(<td> const <script type="text/javascript"> activateLink('CATUnicodeString','CATUnicodeString&amp;')</script> <td><tt>iValue</tt>,<tr><td></td><td><script type="text/javascript"> activateLink('CATBoolean','CATBoolean')</script> <td><tt>iWithDecimal</tt>)<script type="text/javascript"> activateLink('0',' = 0')</script>  </table></dt>
<dl>
  <dd>
 Tests the validity of a string as a digital value.
 <br><b>Role</b>: This service checks if an input string is a valid 
 digital value.
 <br><br>
 
<dl>
  <dt> <b>Parameters:</b>
  <dd>
    <dl>
    <dt><tt> iValue</tt>
   <dd>    a CATUnicodeString format of a possible digital value (1.2 for instance).
 </dd>
    <dt><tt> iWithDecimal</tt>
   <dd>    TRUE if the string can contain a decimal symbol.
    FALSE if the string must not contain any decimal symbol.
 </dd>
</dl>
  <dt> <b>Returns:</b> 
  <dd>     <ul><li>S_OK if the CATUnicodeString is a valid digital value.
    E_FAIL if the CATUnicodeString is not a valid digital value (for instance 1.2.3)</li></ul>
</dl>
</dl>
<a name="TestNumValidity"></a><a name="TestNumValidity(CATUnicodeString&amp;,CATBoolean,CATUnicodeString&amp;,CATUnicodeString&amp;)"></a> <dt> o <b>TestNumValidity</b>

<dt>  <table><tr><td>  public virtual <script type="text/javascript"> activateLink('HRESULT','HRESULT')</script>  <b>TestNumValidity</b>(<td> const <script type="text/javascript"> activateLink('CATUnicodeString','CATUnicodeString&amp;')</script> <td><tt>iValueUnit</tt>,<tr><td></td><td><script type="text/javascript"> activateLink('CATBoolean','CATBoolean')</script> <td><tt>iWithDecimal</tt>,<tr><td></td><td><script type="text/javascript"> activateLink('CATUnicodeString','CATUnicodeString&amp;')</script> <td><tt>oValue</tt>,<tr><td></td><td><script type="text/javascript"> activateLink('CATUnicodeString','CATUnicodeString&amp;')</script> <td><tt>oUnit</tt>)<script type="text/javascript"> activateLink('0',' = 0')</script>  </table></dt>
<dl>
  <dd>
 Tests the validity of a string as a digital value with a unit.
 <br><b>Role</b>: This service checks if an input string is a valid digital
 value with a unit.
 <br><br>
 
<dl>
  <dt> <b>Parameters:</b>
  <dd>
    <dl>
    <dt><tt> iValueUnit</tt>
   <dd>    a CATUnicodeString format of a possible digital value with unit (1.2kg for instance)
 </dd>
    <dt><tt> iWithDecimal</tt>
   <dd>    TRUE if the digital value can contain a decimal symbol.
    FALSE if the digital value must not contain any decimal symbol.
 </dd>
    <dt><tt> oValue</tt>
   <dd>    The digital value as a CATUnicodeString. Then use the appropriate
    </dd>
<a href="#" onClick="openLink('CATUnicodeString','ConvertToNum');return false">CATUnicodeString.ConvertToNum</a> method to convert it into the desired format.    <br>A CATUnicodeString containing <tt>1.2</tt> is returned in our example.
 
    <dt><tt> oUnit</tt>
   <dd>    The unit found in the input string.
    <br>A CATUnicodeString containing <tt>kg</tt> is returned in our example.
 </dd>
</dl>
  <dt> <b>Returns:</b> 
  <dd>     <ul><li>S_OK if the CATUnicodeString is a valid digital value.</li>
    <li>S_FALSE if no unit has been found.</li>
    <li>E_FAIL if the CATUnicodeString is not a valid digital value (for instance 1.2.3)</li></ul>
</dl>
</dl>
<hr>
 This object is included in the file: <b>CATIIniSearchServices.h</b><br>
If needed, your Imakefile.mk should include the module: <b>CATInteractiveInterfaces</b>

</body>
<hr><p><i>
Copyright &#169; 1999-2011, Dassault Syst&#232;mes. All rights reserved.</i></p>
</html>
