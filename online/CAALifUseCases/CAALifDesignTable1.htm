<html>

 <head>
 <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
 <meta name="GENERATOR" content="Microsoft FrontPage 5.0">
 <meta name="ProgId" content="FrontPage.Editor.Document">
 <link rel="Stylesheet" type="text/css" href="../CAADocStyleSheets/caav5.css">
 <title>Accessing the Design Table Values</title>
 </head>

 <body>

 <table width="100%">
   <tr>
     <td valign="top">
     <h1>3D PLM PPR Hub Open Gateway</h1>
     </td>
     <td>
     <h2>Knowledge Modeler</h2>
     </td>
     <td rowspan="2" align="right" valign="top">
     <h3><a name="Top"></a>Accessing the Design Table Values</h3>
     <p><em>How to read values in the design table cells</em></td>
   </tr>
   <tr>
     <td class="use" colspan="2">Use Case</td>
   </tr>
 </table>
 <hr>
 <!---------------------------------comment------------------------------------->
 <table class="abstract">
   <tr>
     <td>
     <h3>Abstract</h3>
     <p>This article discusses the CAALifDesignTableAccess use case which 
     illustrates how to access the values in a design table. </p>
     <ul>
       <li><a href="#Learn"><b>What You Will Learn With This Use Case</b></a></li>
       <li><a href="#UseCase"><b>The CAALifDesignTableAccess Use Case</b></a></li>
       <ul>
         <li><a href="#What">What Does CAALifDesignTableAccess Do</a></li>
         <li><a href="#How">How to Launch CAALifDesignTableAccess</a></li>
         <li><a href="#Where">Where to Find the CAALifDesignTableAccess Code</a></li>
       </ul>
       </li>
       <li><a href="#Step"><strong>Step-by-Step</strong></a></li>
       <li><a href="#InShort"><strong>In Short</strong></a></li>
       <li><a href="#References"><strong>References</strong></a></li>
     </ul>
     </td>
   </tr>
 </table>
 <hr>
 <!---------------------------------comment------------------------------------->
 <h3><a name="Learn"></a>What You Will Learn With This Use Case</h3>
 <p>In this use case, you will learn how to retrieve the values of a design 
 table.</p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <!---------------------------------comment------------------------------------->
 <h3><a name="UseCase"></a>The CAALifDesignTableAccess Use Case</h3>
 <p>CAALifDesignTableAccess is a use case of the CAALiteralFeatures.edu 
 framework that illustrates KnowledgeInterfaces framework capabilities.</p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <!---------------------------------comment------------------------------------->
 <h4><a name="What"></a>What Does the CAALifDesignTableAccess Do</h4>
 <p>The main operations performed in this use case are</p>
 <ul>
   <li>Creating a design table from a .txt file</li>
   <li>Doing the associations required for the use case</li>
   <li>Displaying the column names</li>
   <li>Reading the cell values.</li>
 </ul>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <!---------------------------------comment------------------------------------->
 <h4><a name="How"></a>How to Launch CAALifDesignTableAccess</h4>
 <p>To launch CAALifDesignTableAccess, you will need to set up the build time 
 environment, then compile CALifDesignTableMain along with its prerequisites, 
 set up the run time environment, and then execute the use case which main 
 program is CALifDesignTableMain [<a href="#References">1</a>] with a string 
 argument containing the path of the graphic directory in the runtimeview where 
 the text file of the design table can be found (&quot; ...../intel_a(or solaris_a)/resources/graphic&quot;).</p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <!---------------------------------comment------------------------------------->
 <h4><a name="Where"></a>Where to Find the CAALifDesignTableAccess Code</h4>
 <p>The CAALifDesignTableAccess use case is made of single source file named 
 CAALifDesignTableAccess.cpp which is called by its CAALifDesignTableMain.cpp 
 main program. Both files are located in the CAALifDesignTable.m module of the 
 CAALiteralFeatures.edu framework:</p>
 <table>
   <tr>
     <td>Windows</td>
     <td><code>InstallRootDirectory\CAALiteralFeatures.edu\CAALifDesignTable.m\</code></td>
   </tr>
   <tr>
     <td>Unix</td>
     <td><code>InstallRootDirectory/CAALiteralFeatures.edu/CAALifDesignTable.m/</code></td>
   </tr>
 </table>
 <p>where <code>InstallRootDirectory</code> is the directory where the CAA 
 CD-ROM is installed.</p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <!---------------------------------comment------------------------------------->
 <h3><a name="Step"></a>Step-by-Step</h3>
 <p>Here is the step-by-step description of the program:</p>
 <ol>
   <li><a href="#Step1">Prolog</a></li>
   <li><a href="#Step2">Creating Parameters</a></li>
   <li><a href="#Step3">Creating the Design Table</a></li>
   <li><a href="#Step4">Displaying the List of Associations</a></li>
   <li><a href="#Step5">Retrieving the Column Associated With a Parameter</a></li>
   <li><a href="#Step7">Setting the Active Configuration</a></li>
   <li><a href="#Step7">Retrieving the Parameter Associated With a Column</a></li>
   <li><a href="#Step8">Retrieving the Value Located in a Given Row and a Given 
   Column</a></li>
 </ol>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <!---------------------------------comment------------------------------------->
 <h4><a name="Step1"></a>Prolog</h4>
 <p>This step creates a session, a Part document, and retrieves from the 
 document's root container a pointer to the factory to be used to create the 
 parameters as well as the formula [<a href="#References">2</a>].</p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <!---------------------------------comment------------------------------------->
 <h4><a name="Step2"></a>Creating Parameters</h4>
 <p>Six parameters are created [<a href="#References">2</a>] [<a href="#References">3</a>]. 
 Note that in a usual application, these parameters are retrieved from a 
 document by using the <code>VisibleParms</code> method of <i>CATParmDictionary</i>. 
 For the purpose of the example, the parameter names are identical to the design 
 table column names. That way all the parameters can be automatically associated 
 with the design table columns. </p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <!---------------------------------comment------------------------------------->
 <h4><a name="Step3"></a>Creating the Design Table</h4>
 <p>See [<a href="#References">4</a>].</p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <!---------------------------------comment------------------------------------->
 <h4><a name="Step4"></a>Displaying the List of Associations</h4>
 <table class="code">
   <tr>
     <td>
     <pre>const CATListOfCATUnicodeString* pLass = spDesign-&gt;Associations();
cout &lt;&lt; &quot;List of associations&quot; &lt;&lt; endl;
for (int i=1 ; i &lt;= pLass-&gt;Size() ; i++)
{
  cout &lt;&lt; ((*pLass)[i]).CastToCharPtr() &lt;&lt; endl;
} </pre>
     </td>
   </tr>
 </table>
 <p>You can check that all the parameters have been associated with all the 
 columns. Here is the list of associations which is displayed at run-time:</p>
 <table class="code">
   <tr>
     <td>
     <pre>List of associations
Column1
Column2
Column3
Column4
Column5
Column6</pre>
     </td>
   </tr>
 </table>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <!---------------------------------comment------------------------------------->
 <h4><a name="Step5"></a>Retrieving the Column Associated With a Parameter</h4>
 <p>The column p2 is associated with, is retrieved by using the ParameterColumn 
 method of <i>CATIDesignTable</i> interface. The column number is returned. </p>
 <table class="code">
   <tr>
     <td>
     <pre>cout &lt;&lt; (spPp2-&gt;Name()).CastToCharPtr() &lt;&lt; &quot; is on column&quot; ;
// 2 is expected
cout &lt;&lt; spDesign-&gt;ParameterColumn(spPp2) &lt;&lt; endl;</pre>
     </td>
   </tr>
 </table>
 <p>This method returns 0 when the parameter is not associated with any column.</p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <!---------------------------------comment------------------------------------->
 <h4><a name="Step6"></a>Setting the Active Configuration</h4>
 <p>Configuration2 is declared as active by using the SetCurrentConfiguration 
 method of the <i>CATIDesignTable</i> interface.</p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <!---------------------------------comment------------------------------------->
 <h4><a name="Step7"></a>Retrieving the Parameter Associated With a Column</h4>
 <p>The parameter associated with Column4 is retrieved and displayed. Before 
 retrieving the parameter associated with a column, you must specify a current 
 configuration. Otherwise, the ColumnParameter method may return unpredictable 
 result.</p>
 <table class="code">
   <tr>
     <td>
     <pre>...
CATUnicodeString col4 = &quot;Column4&quot;;
CATICkeParm_var spPar0 = spDesign-&gt;ColumnParameter(0,&amp;col4);
cout &lt;&lt; &quot;The value of the parameter in Column4 is: &quot; ; 
cout &lt;&lt; (spPar0-&gt;Show()).CastToCharPtr() &lt;&lt; endl;</pre>
     </td>
   </tr>
 </table>
 <p>The ColumnParameter method returns the parameter which is found in the 
 column whose index is specified as the first argument. If the first argument 
 value is 0, the method returns the parameter which is found in the column whose 
 name is specified in the second argument.</p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <!---------------------------------comment------------------------------------->
 <h4><a name="Step8"></a>Retrieving the Value Located in a Given Row and a Given 
 Column</h4>
 <table class="code">
   <tr>
     <td>
     <pre>...
cout &lt;&lt; &quot;The parameter value(CellWithColumnType) in Column5 Row2 is: &quot; ; 
cout &lt;&lt; (spDesign-&gt;CellWithColumnType(2,5)).CastToCharPtr() &lt;&lt; endl;

// Display the value in Col5/Row2 as a double in MKS unit 
cout &lt;&lt; &quot;The parameter value(CellAsDouble) in Column5 Row2 is: &quot; ; 
cout &lt;&lt; spDesign-&gt;CellAsDouble(2,5) &lt;&lt; endl;</pre>
     </td>
   </tr>
 </table>
 <p>The value located in column5 row5 is displayed. The CellWithColumnType 
 method of <i>CATIDesignTable</i> returns either the value with unit if the unit 
 is specified in the cell or the raw value concatenated with the unit specified 
 with the column name, if any. The value located in column5 row5 is displayed. 
 CATIDesignTable::CellAsDouble returns the value read in a cell in SI units.</p>
 <p>Compare the string returned by CATIDesignTable::CellWithColumnType (15mm) 
 with the value returned by CATIDesignTable::CellAsDouble (0.015).</p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <hr>
 <!---------------------------------comment------------------------------------->
 <h3><a name="InShort"></a>In Short</h3>
 <p>To access a design table, you are provided with methods to:</p>
 <ul>
   <li>read the values contained in cells.</li>
   <li>list the associations created between parameters and design table 
   columns.</li>
   <li>find out in what column a parameter is defined for the current 
   configuration.</li>
   <li>find out the parameter defined in a column for the current configuration.</li>
 </ul>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <hr>
 <!---------------------------------comment------------------------------------->
 <h3><a name="References"></a>References</h3>
 <table width="100%">
   <tr>
     <td valign="top">[1]</td>
     <td>
     <a href="../CAADocUseCases/CAADocRunSample.htm">
     Building and Launching a CAA V5 Use Case</a></td>
   </tr>
   <tr>
     <td valign="top">[2]</td>
     <td><a href="CAALifFirstApplication.htm">Getting Started with Literal 
     Feature Programming</a></td>
   </tr>
   <tr>
     <td valign="top">[3]</td>
     <td><a href="CAALifParamPers.htm">Using Persistent Parameters</a></td>
   </tr>
   <tr>
     <td valign="top">[4]</td>
     <td><a href="CAALifDesignTable0.htm">Programming with Design Tables</a></td>
   </tr>
   <tr>
     <td valign="top" align="right" colspan="2">[<a href="#Top">Top</a>]</td>
   </tr>
 </table>
 <hr>
 <!---------------------------------comment------------------------------------->
 <h3><a name="History"></a>History</h3>
 <table width="100%">
   <tr>
     <td valign="top">Version: <strong>1</strong> [Jan 2000]</td>
     <td valign="top">Document created</td>
   </tr>
   <tr>
     <td valign="top" align="right" colspan="2">[<a href="#Top">Top</a>]</td>
   </tr>
 </table>
 <hr>
 <!---------------------------------comment------------------------------------->
 <p><i>Copyright © 2000, Dassault Systèmes. All rights reserved.</i></p>

  </body>

</html>
