<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 6.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<link rel="Stylesheet" type="text/css" href="../CAADocStyleSheets/caav5.css">
<title>mkodt</title>
</head>

<body>

<table width="100%">
  <tr>
    <td valign="top">
      <h1>RADE</h1>
    </td>
    <td valign="top">
      <h2>Java Unit Test Manager</h2>
    </td>
    <td rowspan="2" align="right" valign="top">
      <h3><a name="Top"></a>mkodt</h3>
      <em>Runs test objects</em></td>
  </tr>
  <tr>
    <td class="quick" colspan="2">Quick Reference</td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->

<h4>Name</h4>
<blockquote>
  <table>
    <tr>
      <td><b>mkodt</b></td>
      <td></td>
      <td>Runs java test objects</td>
    </tr>
  </table>
</blockquote>

<!---------------------------------comment------------------------------------->
<h4>Synopsis</h4>
<blockquote>
  <p>mkodt can be run in contextual or descriptive mode:</p>
  <ul>
    <li>Contextual mode: mkodt is run from a framework directory and applies to
      test objects of this framework
      <table>
        <tr>
          <td>
            <pre><b>mkodt</b> [<b>-htX</b>] <b>-D</b> [ <b>-s</b> shell | <b>-a</b> ]</pre>
          </td>
        </tr>
      </table>
    </li>
    <li>Descriptive mode: mkodt is run from any directory and applies to the
      workspace and frameworks passed using appropriate options
      <table>
        <tr>
          <td valign="top"><code><b>mkodt</b></code></td>
          <td><code>[<b>-chkqStX</b>] [<b>-d</b> wsabspath [<b>-F</b> framework]
            | <b>-W</b> wsrelpath | [</code><code><b>-a</b></code><code> | <b>-L</b>
            scriptlist1 | <b>-l</b> scriptlist2 <b>-s</b> shell]] [<b>-NOMaxTime</b>]
            [<b>-NoPert</b>] [<b>-o</b> output] [<b>-p</b> path] [<b>-r</b>
            rtpath] [<b>-UpdateInit</b>]</code></td>
        </tr>
      </table>
    </li>
  </ul>
</blockquote>
<p align="right">[<a href="#Top">Top</a>]</p>

<!---------------------------------comment------------------------------------->
<h4>Description</h4>
<blockquote>
  <p>Runs java test objects, that is, shell scripts that launch java
  applications delivered in test frameworks. Using its options, <b>mkodt</b>
  gives the choice of running one test object or all the test objects found
  either in a given framework or workspace.</p>
  <p><b>mkodt</b> is available with mkmk commands, and can be accessed after
  running the <code>mkmk_profile</code> or <code>adl_profile</code> command.</p>
</blockquote>
<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->
<h4>Options</h4>
<blockquote>
  <p>mkodt accepts the following options:</p>
  <table>
    <tr>
      <td valign="top" width="15%"><code>-a</code></td>
      <td>Replays all tests objects for a workspace, a framework, or a directory
        <i>TestCases</i> or <i>SwitchTestCases</i></td>
    </tr>
    <tr>
      <td valign="top" width="15%"><code>-D</code></td>
      <td>Sets the display mode for debug purposes, that is, opens a window
        (&quot;xterm&quot; or &quot;DOS&quot;) for interactive testing. This
        window is opened in the same environment that the one used by the test
        object, thus it is possible to check for the value of environment
        variables. Available in contextual mode only</td>
    </tr>
    <tr>
      <td valign="top" width="15%"><code>-d wsabspath</code></td>
      <td>Specifies the workspace root directory using an absolute path</td>
    </tr>
    <tr>
      <td valign="top" width="15%"><code>-F framework</code></td>
      <td>Specifies a framework directory or a list of framework directories of
        the workspace</td>
    </tr>
    <tr>
      <td valign="top" width="15%"><code>-h</code></td>
      <td>Displays the mkodt help</td>
    </tr>
    <tr>
      <td valign="top" width="15%"><code>-k</code></td>
      <td>Keeps the temporary directory set using <code>ADL_ODT_TMP</code></td>
    </tr>
    <tr>
      <td valign="top" width="15%"><code>-L scriptlist1</code></td>
      <td>Reads the file <code>scriptlist1</code> to get a list of shell scripts
        to execute. These shell scripts can be in different frameworks of the
        workspace. <code>scriptlist1</code> must have the following format:
        <pre>  FW1   Type   ODTName1
  FW2   Type   ODTName2
  FW3   Type   ODTName3</pre>
        <p>where <code>Type</code> can be either <code>TestCases</code> or <code>SwitchTestCases</code>.
        If the path of the <code>scriptfile</code> is not specified, this file
        must be in the current directory or in the workspace root directory</td>
    </tr>
    <tr>
      <td valign="top" width="15%"><code>-l scriptlist2</code></td>
      <td>Reads the file <code>scriptlist2</code> to get a list of shell scripts
        to execute. <code>scriptlist2</code> must have the following format
        <pre>  ODTName1
  ODTName2
  ODTName3</pre>
        <p>If the path of the <code>scriptfile</code> is not specified, this
        file must be in the current directory or in the workspace root directory</p>
      </td>
    </tr>
    <tr>
      <td valign="top" width="15%"><code>-NOMaxTime</code></td>
      <td>Disables the supervision of the ODT's execution time</td>
    </tr>
    <tr>
      <td valign="top" width="15%"><code>-NoPert</code></td>
      <td>Disables the pertinence measure for an ODT</td>
    </tr>
    <tr>
      <td valign="top" width="15%"><code>-o output</code></td>
      <td>Specifies an output directory and sets the <code>ADL_ODT_OUT</code>
        variable. Results of mkodt ( .traces and .mkodt_results files) are
        generated in the directory <code>Output/Framework.tst/FunctionTests/Output/<b>OS</b></code>,
        where <b>OS</b> is a directory the name of which is an acronym that depends on the operating system.
        Refer to [<a href="#References">1</a>] to get the current list of operating systems supported and associated acronyms.</p>
      </td>
    </tr>
    <tr>
      <td valign="top" width="15%"><code>-p path</code></td>
      <td>Specifies the directory pathname concatenation where the module or EXE
        are searched for, and initializes <code>ADL_ODT_CONCATENATION</code>
        (used by the <code>WhichDir</code> command). Directory pathnames are
        separated by a <code>:</code> (colon) with Unix and a <code>;</code>
        (semicolon) with Windows</td>
    </tr>
    <tr>
      <td valign="top" width="15%"><code>-q</code></td>
      <td>Quiet mode : no user information</td>
    </tr>
    <tr>
      <td valign="top" width="15%"><code>-r rtpath</code></td>
      <td>Specifies the directory pathname concatenation where the module or EXE
        are searched for without changing the <code>ADL_ODT_CONCATENATION</code>
        value. Directory pathnames are separated by a <code>:</code> (colon)
        with Unix and a <code>;</code> (semicolon) with Windows</td>
    </tr>
    <tr>
      <td valign="top" width="15%"><code>-S</code></td>
      <td>Searches test objects in <i>SwitchTestCases</i> instead of <i>TestCases</i></td>
    </tr>
    <tr>
      <td valign="top" width="15%"><code>-s shell</code></td>
      <td>Lists the shell script names to run</td>
    </tr>
    <tr>
      <td valign="top" width="15%"><code>-t</code></td>
      <td>Reports the time spent for the execution</td>
    </tr>
    <tr>
      <td valign="top" width="15%"><code>-UpdateInit</code></td>
      <td>Deletes the directory generated by <code>ODTInit</code></td>
    </tr>
    <tr>
      <td valign="top" width="15%"><code>-W wsrelpath</code></td>
      <td>Specifies the workspace root directory using a relative path from the <code>$HOME</code>
        directory. Valid with UNIX only</td>
    </tr>
    <tr>
      <td valign="top" width="15%"><code>-X</code></td>
      <td>Forces output display. By default, program's outputs are not
        displayed, and this option forces them to be displayed</td>
    </tr>
  </table>
</blockquote>
<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->
<h4>Examples</h4>
<blockquote>
  <dl>
    <dt>To run the ODTs whose shells are listed in the shell file in contextual
      mode.</dt>
    <dd>
      <table>
        <tr>
          <td>
            <pre>mkodt -D -s shell</pre>
          </td>
        </tr>
      </table>
    </dd>
    <dt>To run, with Unix only, all ODTs in a given workspace by specifying a
      relative directory</dt>
    <dd>
      <table>
        <tr>
          <td>
            <pre>mkodt -a -W CAAWorkspace</pre>
          </td>
        </tr>
      </table>
    </dd>
    <dt>To run, with Unix only, all ODTs of a given framework of a given
      workspace by specifying a relative directory</dt>
    <dd>
      <table>
        <tr>
          <td>
            <pre>mkodt -a -W CAAWorkspace -F fwname</pre>
          </td>
        </tr>
      </table>
    </dd>
    <dt>To run all ODTs in a given workspace by specifying an absolute directory</dt>
    <dd>
      <table>
        <tr>
          <td valign="top">Unix</td>
          <td>
            <pre>mkodt -a -d /u/users/psr/CAAWorkspace</pre>
          </td>
        </tr>
        <tr>
          <td valign="top">Windows</td>
          <td>
            <pre>mkodt -a -d e:\users\psr\CAAWorkspace</pre>
          </td>
        </tr>
      </table>
    </dd>
    <dt>To run all ODTs in a given workspace by specifying an absolute
      directory, and generate output in a given directory</dt>
    <dd>
      <table>
        <tr>
          <td valign="top">Unix</td>
          <td>
            <pre>mkodt -a -d /u/users/psr/CAAWorkspace -o /u/users/psr/output</pre>
          </td>
        </tr>
        <tr>
          <td valign="top">Windows</td>
          <td>
            <pre>mkodt -a -d e:\users\psr\CAAWorkspace -o e:\users\psr\output</pre>
          </td>
        </tr>
      </table>
    </dd>
    <dt>To run all ODTs in a given workspace by specifying the workspace
      absolute directory, and generate output in a given directory, using the
      programs located in a local directory and resetting the <code>ADL_ODT_CONCATENATION</code>
      variable to this directory</dt>
    <dd>
      <table>
        <tr>
          <td valign="top">Unix</td>
          <td>
            <pre>mkodt -d /u/lego/CXR4/BSF -a -o /u/users/psr/output -p /u/users/psr/steplib/CXR4/LocalWS</pre>
          </td>
        </tr>
        <tr>
          <td valign="top">Windows</td>
          <td>
            <pre>mkodt -d \\renoir\CXR4\BSF -a -o E:\users\psr\output -p e:\steplib\CXR4\LocalWS</pre>
          </td>
        </tr>
      </table>
      <p>The common content of the <code>ADL_ODT_CONCATENATION</code> and of the
      runtime concatenation used is either <code>/u/users/psr/steplib/CXR4/LocalWS</code>
      with Unix or <code>e:\steplib\CXR4\LocalWS</code> with Windows.</p>
    </dd>
    <dt>To run all ODTs in a given workspace by specifying the workspace
      absolute directory, and generate output in a given directory, using the
      programs located in a local directory without resetting the <code>ADL_ODT_CONCATENATION</code>
      variable</dt>
    <dd>
      <table>
        <tr>
          <td valign="top">Unix</td>
          <td>
            <pre>mkodt -d /u/lego/CXR4/BSF -a -o /u/users/psr/output -r /u/users/psr/steplib/CXR4/LocalWS</pre>
          </td>
        </tr>
        <tr>
          <td valign="top">Windows</td>
          <td>
            <pre>mkodt -d \\renoir\CXR4\BSF -a -o E:\users\psr\output -r e:\steplib\CXR4\LocalWS</pre>
          </td>
        </tr>
      </table>
      The content of the <code>ADL_ODT_CONCATENATION</code> variable is
      unchanged and the directory in which the programs are searched for is
      either <code>/u/users/psr/steplib/CXR4/LocalWS</code> with Unix or <code>e:\steplib\CXR4\LocalWS</code>
      with Windows.</dd>
  </dl>
</blockquote>
<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->
<h4>Environment Variables</h4>
<p>mkodt uses the following environment variables:</p>
<blockquote>
  <table>
    <tr>
      <td valign="top" width="15%"><code>ADL_ODT_CONCATENATION</code></td>
      <td>Contains a directory concatenation used by the <code>WhichDir</code>
        command</td>
    </tr>
    <tr>
      <td valign="top" width="15%"><code>ADL_ODT_JRE</code></td>
      <td>References the JRE (<b>J</b>ava <b>R</b>unTime <b>E</b>nvironment)
        where the ODT is going to be replayed:
        <p>ADL_ODT_JRE can be set to:</p>
        <ol>
          <li><b>msjre_a</b> (Windows) (Microsoft's JRE available on Windows)</li>
          <li><b>sunjre_a</b> (Windows and SunOS) (SUN's JRE available on Windows
            and SunOS)</li>
          <li><b>ibmjre_a</b> (AIX) (IBM's JRE available on AIX)</li>
          <li><b>hpjre_a</b> (HP) (HP's JRE available on HP)</li>
        </ol>
        <p>If this variable is not set before launching mkodt, it will be set by
        default to:</p>
        <ol>
          <li>Replay on Windows: <b>sunjre_a</b></li>
          <li>Replay on SunOS: <b>sunjre_a</b></li>
          <li>Replay on AIX: <b>ibmjre_a</b></li>
          <li>Replay on HP: <b>hpjre_a</b></li>
        </ol>
      </td>
    </tr>
    <tr>
      <td valign="top" width="20%"><code>ADL_ODT_IN</code></td>
      <td>Contains a directory where all data needed as input for a program is
        stored</td>
    </tr>
    <tr>
      <td valign="top" width="20%"><code>ADL_ODT_NULL</code></td>
      <td>Contains a special file name that can be used to redirect outputs from
        a program (<code>/dev/null</code> with Unix or <code>NUL</code> with
        Windows)</td>
    </tr>
    <tr>
      <td valign="top" width="20%"><code>ADL_ODT_OUT</code></td>
      <td>Contains an output directory where any output data can be stored</td>
    </tr>
    <tr>
      <td valign="top" width="20%"><code>ADL_ODT_REF</code></td>
      <td>Contains a directory where reference data is stored. Reference data is
        used as a reference to compare program output</td>
    </tr>
    <tr>
      <td valign="top" width="20%"><code>ADL_ODT_TMP</code></td>
      <td>Contains a temporary directory, for instance <code>/tmp</code> with
        Unix and <code>C:\TEMP</code> with Windows</td>
    </tr>
    <tr>
      <td valign="top" width="20%"><code>MKMK_LST_RTV</code></td>
      <td>Contains a runtime path concatenation. Corresponds to <code>-r</code>
        option</td>
    </tr>
    <tr>
      <td valign="top" width="20%"><code>MKODT_SUPENV</code></td>
      <td>Contains a shell script path that will be run before the ODT shell
        script. Use this variable to set an environment extension. By default,
        if this variable is not set, <code>mkodt</code> looks for <code>MKODT_SUPENV_($ADL_FR_CATIA)</code><i>
        </i>file in <code>$PATH</code></td>
    </tr>
    <tr>
      <td valign="top" width="20%"><code>ODT_MAX_TIME_COEFF</code></td>
      <td>Contains a percentage to apply to the max_time value:<br>
        <code>max_time = max_time*$ODT_MAX_TIME_COEFF/100</code></td>
    </tr>
    <tr>
      <td valign="top" width="20%"><code>ODT_MAX_TIME</code></td>
      <td>Contains the maximum time that the ODT can run before being stopped,
        expressed in <b>xxx</b> (max_time)</td>
    </tr>
    <tr>
      <td valign="top" width="20%"><code>ODT_PERTINENCE</code></td>
      <td>Contains the pertinence measure ability. Valid values are:
        <table>
          <tr>
            <td><code>Yes</code></td>
            <td>Enables the pertinence measure</td>
          </tr>
          <tr>
            <td><code>No</code></td>
            <td>Disables the pertinence measure</td>
          </tr>
        </table>
        <code>ODT_PERTINENCE=No</code> corresponds to the <code>-NoPert</code>
        option</td>
    </tr>
    <tr>
      <td valign="top" width="20%"><code>OPTION_FOR_SETCATENV</code></td>
      <td>Contains additional options for setcatenv (set the CATIA environment)</td>
    </tr>
    <tr>
      <td valign="top" width="20%"><code>WSROOT</code></td>
      <td>Contains the workspace directory containing the test objects to run</td>
    </tr>
  </table>
</blockquote>
<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->
<h4>Diagnostics</h4>
<p>Possible exit status values are:</p>
<blockquote>
  <table>
    <tr>
      <td width="5%">0</td>
      <td>Successful completion</td>
    </tr>
    <tr>
      <td width="5%">&gt;0</td>
      <td>Failure because any of the following</td>
    </tr>
  </table>
</blockquote>
<p align="right">[<a href="#Top">Top</a>]</p>
<hr>
<!---------------------------------comment------------------------------------->
<h3><a name="References"></a>References</h3>
<table width="100%">
  <tr>
    <td valign="top">[1]</td>
    <td valign="top">
	<a href="../CAADocUseCases/CAADocRunSample.htm">
	Building and Launching a CAA V5 Use Case</a></td>
  </tr>
  <tr>
    <td valign="top" align="right" colspan="2">[<a href="#Top">Top</a>]</td>
  </tr>
</table>
<!---------------------------------comment------------------------------------->
<h3><a name="History"></a>History</h3>
<table width="100%">
  <tr>
    <td valign="top">Version: <strong>1</strong> [March 2001]</td>
    <td valign="top">Document created</td>
  </tr>
  <tr>
    <td valign="top" align="right" colspan="2">[<a href="#Top">Top</a>]</td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->
<p><i>Copyright © 2000, Dassault Systèmes. All rights reserved.</i></p>

</body>

</html>
