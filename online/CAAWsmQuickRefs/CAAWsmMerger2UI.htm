<!-- saved from url=(0022)http://internet.e-mail -->
<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<link rel="Stylesheet" type="text/css" href="../CAADocStyleSheets/caav5.css">
<title>The Graphic Merger</title>
</head>

<body>

<table width="100%">
  <tr>
    <td valign="top">
      <h1>RADE</h1>
    </td>
    <td valign="top">
      <h2>Source Code Manager</h2>
    </td>
    <td rowspan="2" align="right" valign="top">
      <h3><a name="Top"></a>The Graphic Merger</h3>
      <p><em>User interface description</em></td>
  </tr>
  <tr>
    <td class="quick" colspan="2">Quick Reference</td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->


<table class="abstract">
  <tr>
    <td>
      <h3>Abstract</h3>
      <p>The graphic Merger is a tool used for solving merges on file contents.
      This article helps to understand its interface and how to use it.
      <ul>
        <li><a href="#Merging principles"><strong>Merging Principles</strong></a>
          <ul>
            <li><a href="#Files involved in merge">Files Involved in Merge</a></li>
            <li><a href="#MergingModes">Merging Modes</a></li>
            <li><a href="#BestMode">What Is The Best Mode?</a></li>
            <li><a href="#Example">Example</a></li>
          </ul>
        </li>
        <li><strong><a href="#Appearance">Appearance</a></strong>
          <ul>
            <li><a href="#Interface">Interface</a></li>
            <li><a href="#textHighlighting">Text Highlighting</a></li>
            <li><a href="#languageParsing">Language parsing</a></li>
            <li><a href="#Moving through differences">Moving through the
              differences</a></li>
            <li><a href="#Howscrollbarswork">How do scroll bars work</a></li>
          </ul>
        </li>
        <li><b><a href="#Merge by Integrate conflicting in current version">Merging
          By Integrate conflicting version in current version</a></b></li>
        <li><b><a href="#IntegratecurrentInConflictingVersion">Merging By
          Integrate current version in conflicting version</a></b></li>
        <li><b><a href="#MergeWithRecommendations">Merging With Recommendations</a></b></li>
        <li><b><a href="#SimpleDiff2">Merging Using Simple Diff2 Comparison</a></b></li>
        <li><a href="#Settings"><b>Settings</b></a></li>
        <li><a href="#Menus"><strong>Menus</strong></a>
          <ul>
            <li><a href="#File">File</a></li>
            <li><a href="#Edit">Edit</a></li>
            <li><a href="#View">View</a></li>
            <li><a href="#Select">Select</a></li>
            <li><a href="#SelectAll">Select All</a></li>
            <li><a href="#Window">Window</a></li>
            <li><a href="#Help">Help</a></li>
          </ul>
        </li>
        <li><a href="#Icons"><strong>Icons</strong></a></li>
        <li><strong><a href="#SavingMergeResult">Saving The Merge Result</a></strong></li>
        <li><strong><a href="#Launching the merger out of SCM">Launching the
          merger out of SCM</a></strong></li>
        <li><strong><a href="#WhatIsNew">What's New?</a></strong></li>
        <li><strong><a href="#References">References</a></strong></li>
        <li><strong><a href="#History">History</a></strong></li>
      </ul>
    </td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->

<!---------------------------------comment------------------------------------->

<h3><a name="Merging principles"></a>Merging Principles</h3>
<h4><a name="Files involved in merge"></a>Files Involved in Merge</h4>
<p>The Merger manages at least four files as parameters:
<ul>
  <li>the common ancestor</li>
  <li>the current version seen in workspace</li>
  <li>the conflicting version</li>
  <li>the result file</li>
  <li>and one or more previous common files (optional)</li>
</ul>
<p>Information about these files are given by the adl_solve_merge command when
launching the graphic tool. Here is an example showing four parts corresponding
respectively to the common ancestor, the current version, the conflicting
version and a previous file:</p>
<table class="code" width="100%">
  <tr>
    <td width="849%">
      <pre>---------------------------------------------------------------
VisualStudio\CATVBTDevMkmk.m\src\CATVBTCMkmkAddin.cpp: Change of content

Common ancestor:
0 - Type: Text file, created the Fri Mar 10 11:44:37 2000
Created by &quot;gde&quot; into the workspace &quot;XAA_gde&quot; the Fri
Mar 10 11:44:37 2000.

Changes to merge:
1 - Type: Text file, created the Tue Apr 25 13:11:51 2000
Seen as the current one in the workspace.
Created by &quot;bsfr&quot; into the workspace &quot;MergeToolsSDF&quot; the Tue Apr 25 13:11:51 2000.

2 - Type: Text file, created the Tue May 23 18:08:42 2000
Created by &quot;lfh&quot; into the workspace &quot;XAACXR4_lfh&quot; the Tue May 23 18:08:42 2000</pre>
      <pre>Previous change(s) of both the conflicting change (2) and the current change (1):
P1 - Created by feb with adl_ci on Wed Feb 26, 2003 10:57:07 AM in the workspace Ws1T0Fe
b, tree T0Feb.
</pre>
    </td>
    <td valign="top" width="150%">
      <pre><strong>


&lt;- common ancestor</strong>






<strong>&lt;- current
   version</strong>

<strong>
&lt;- conflicting
   version </strong>
</pre>
      <pre><strong>&lt;- common 
   previous</strong>
</pre>
    </td>
  </tr>
</table>

<!---------------------------------comment-------------------------------------> 
<p align="left">When it is possible, SCM extracts a particular file called
previous file. This file is a common previous change of the two changes to
merge, and is nearest than the common ancestor in the graph of modifications.<br>
In some cases, the common ancestor can be the nearest common previous.</p>
<p align="left">In the example below :<br>
&nbsp;&nbsp;&nbsp; - 1.WSV5R10 is the common ancestor,<br>
&nbsp;&nbsp;&nbsp; - 3.WSV5R10 and 3.WSV5R11 are the two versions to merge
(notice that 3.WSV5R11 is already the result of a former merge)<br>
&nbsp;&nbsp;&nbsp; - and 2.WSV5R10 is the previous version (this file is
particular and computed by SCM)</p>
<p align="center"><img border="0" src="images/merger4.gif" width="400" height="300"></p>
<p align="right">[<a href="#Top">Top</a>]</p>
<h4><a name="MergingModes"></a>Merging Modes</h4>
<p>When the merger is launched, all the merging modes are computed even if the
user always choose the same mode. It allows to know how many differences are to
be solve in each mode.</p>
<p>By default, a panel is shown to let the user make his choice.</p>
<p align="center"><img border="0" src="images/merger36.gif" width="513" height="281"></p>
<p>All merge modes stay available and can be accessed by opening this panel from
the menu or the toolbar(<img border="0" src="images/I_SelectMode.gif" width="22" height="22">).</p>
<p>The user can choose the most appropriated mode. He can either:</p>
<blockquote>
  <p>- Integrate conflicting version in the current version.</p>
  <blockquote>
    <p>Changes made between the conflicting version and the previous version are
    highlighted and can be integrated in the current version.</p>
  </blockquote>
  <p>- Integrate current version in the conflicting version.</p>
  <blockquote>
    <p>Changes made between the current version and the previous version are
    highlighted and can be integrated in the conflicting version.</p>
  </blockquote>
  <p>- merge with recommendations.</p>
  <blockquote>
    <p>This mode is based on an ancestor version which is common to the two
    conflicting versions.<br>
    The differences coming from each version are highlighted according to the
    content present in the common ancestor.</p>
  </blockquote>
  <p>- merge with a simple diff2 comparison.</p>
  <blockquote>
    <p>This mode shows the basic differences between the current version and the
    conflicting one.</p>
  </blockquote>
</blockquote>
<p>A line at the bottom of this panel reminds the selected options for
differences compute. If one of these options does not match what the user wants,
he can easily change it by clicking on the settings button (<img src="images/tools.gif" width="22" height="22">)
at the end of the line. If one of these options is changed, the differences
compute is update.</p>
<p align="right"><a href="#Top">[Top]</a></p>
<h4><a name="BestMode"></a>What Is The Best Mode?</h4>
<p>It depends on the evolution of the content of the file.</p>
<p>The two modes by integration should be the best modes when there are many
reports because it only shows the changes that had been made in one of the
versions since the last report.<br>
</p>
<p>The mode with recommendations can be very effective because it allows to
solve automatically changes that are not conflicting. Nevertheless, when the
common ancestor is far from the two conflicting versions (in the case of a
change import, for instance) the number of differences grows, so that the merge
becomes very complex. In this case, the mode by integrating the current version
in the conflicting version or the mode by integrating the conflicting version in
the current version are more suitable.</p>
<p>The diff2 mode can be high-return in the case where the two files are very
near in term of content, but have live a long time without synchronization, or
intermediate reports (for example, in case of the check-out of the two files and
a manual report between the two files - instead of a report by adl_import).</p>
<p>Remember that no mode is the best. Look at the number of differences and
choose the easier way to solve the merge. In all cases, several modes can be
opened at the same time. But, only one result will be taken in count at the end
of the merge.</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<h4>&nbsp;</h4>
<h4><a name="Example"></a>Example</h4>
<p>The aim of this example is to show the main difference between the mode by
integration and the mode with recommendations.</p>
<p>The example simulates a real development process with two different release
levels and modifications made in each level at the same time. The actions are
made in the order of the numbers staying in the headers.</p>
<p>&nbsp;</p>
<table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="400" id="AutoNumber2">
  <tr>
    <td align="left"><b><font size="4">V5R11</font></b></td>
    <td align="left"><b><font size="4">V5R12</font></b></td>
  </tr>
  <tr>
    <td>1. Starting file (created in V5R11)
      <p><img border="0" src="images/merger80.gif" width="252" height="198">
      <p>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td valign="top">
      <p>2. Modifications number 1 made in V5R11</p>
      <p><img border="0" src="images/merger81.gif" width="234" height="166">
      <p>&nbsp;</td>
    <td valign="top">&nbsp;
      <p>&nbsp;</p>
      <p>&nbsp;</p>
      <p>&nbsp;</p>
      <p>3. Modification made in V5R12</p>
      <p><img border="0" src="images/merger82.gif" width="233" height="166"></p>
      <p>&nbsp;</td>
  </tr>
  <tr>
    <td valign="top">&nbsp;
      <p>&nbsp;</p>
      <p>&nbsp;</p>
      <p>&nbsp;</p>
      <p>&nbsp;</p>
      <p>5. Modification number 2 made in V5R11</p>
      <p><img border="0" src="images/merger84.gif" width="234" height="166"></p>
      <p>&nbsp;</td>
    <td valign="top">4. Import V5R11 to V5R12 =&gt; Merge to solve
      <p>After the merge the file is the following :</p>
      <p><img border="0" src="images/merger83.gif" width="234" height="166"></p>
      <p>&nbsp;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>6. Import V5R11 to V5R12 =&gt; Merge to solve
      <p><img border="0" src="images/merger87.gif" width="234" height="181"></p>
      <p>Several modes of resolution are available in the<br>
      merger, as described below.</p>
      <p>&nbsp;</td>
  </tr>
  <tr>
    <td colspan="2">With the mode with recommendations, there are two
      differences to solve. As the common ancestor is still the starting file,
      the user has to make choices on all the differences that had appeared
      since the common ancestor, although he had already make choices in his
      previous merges.
      <p><img border="0" src="images/merger86.gif" width="826" height="301"></td>
  </tr>
  <tr>
    <td colspan="2">&nbsp;</td>
  </tr>
  <tr>
    <td colspan="2">&nbsp;</td>
  </tr>
  <tr>
    <td colspan="2">With the mode &quot;Integrate the conflicting version in the
      current version&quot;, there is only one difference to solve.<br>
      In this mode, the user has just to make choices on the modifications that
      had appeared since the last previous version (here file number 2).
      <p><img border="0" src="images/merger85.gif" width="826" height="301"></td>
  </tr>
  <tr>
    <td colspan="2">&nbsp;
      <p>In this case, the difference between the two mode is very little, but
      it can be very important.<br>
      In the real process of development, as the versions go far away from the
      common ancestor, the number of difference to treat in the mode with
      recommendations is always growing. This make the merge more and more
      difficult to solve.</p>
      <p>The advantage of the mode by integration is that it reduces the scope
      of differences to treat.</p>
      <p>&nbsp;</td>
  </tr>
</table>
<p align="right">[<a href="#Top">Top</a>]</p>
<p align="right">&nbsp;</p>
<h3><a name="Appearance"></a>Appearance</h3>
<h4><a name="Interface"></a>Interface</h4>
<p align="center"><img border="0" src="images/merger1.gif" width="1000" height="700"></p>
<p>The tool is composed of a main frame containing</p>
<ul>
  <li>a menu bar<br>
    &nbsp;<img border="0" src="images/merger5.gif" width="341" height="21"><br>
    &nbsp;</li>
  <li>a toolbar<br>
    &nbsp;<img border="0" src="images/merger6.gif" width="562" height="30"><br>
    &nbsp;</li>
  <li>a status bar at the bottom of the main window<br>
    <img border="0" src="images/merger7.gif" width="341" height="18"><br>
    &nbsp;</li>
  <li>and a desktop managing the different windows opened by the user.</li>
</ul>
<img border="0" src="images/merger9.gif" width="894" height="776">
<p>Each window (one window per mode) is split in three frames, called editors,
whose contents depend on the current merging mode. In all cases, only one editor
out of the three displays the result of the merge and is editable (its
background has a different color according to the settings). The version of each
editor is mentioned in the header of the column. When the cursor stays a while
on the cell, a tool tip appears to give more information about the version of
this editor.</p>
<p><img border="0" src="images/merger18.gif" width="283" height="67"></p>
<p>The icons of the toolbar and of the menus are active or not, depending on the
current merging mode, the active difference and the context of the cursor.</p>
<p>The differences between versions are highlighted using different colors. Each
editor has his own color (visible in the header of each column). In the result
version, the colors reflect the action made. In the example below, we can see
that for the first difference, the user has chosen to take the content of the
left editor, and for the second, the content of the right editor.</p>
<p><img border="0" src="images/merger14.gif" width="877" height="355"></p>
<p>When a difference is selected, the colors of each editor change according to
the settings to highlight the active difference from the others.</p>
<p><img border="0" src="images/merger13.gif" width="875" height="355"></p>
<p>A special mark ( <img border="0" src="images/_resolved.gif" width="22" height="22">
or <img border="0" src="images/_resolved2.gif" width="22" height="22"> or <img border="0" src="images/_unresolved.gif" width="22" height="22">)
is drawn in the margin of each difference to indicate whether the merge is
solved or not.<br>
<img border="0" src="images/_resolved.gif" width="22" height="22"> means that
the content which is in the result editor has been validated by the user and is
solved,<br>
<img border="0" src="images/_resolved2.gif" width="22" height="22"> means, that
the difference is solved in all editors except the result editor,<br>
<img border="0" src="images/_unresolved.gif" width="22" height="22"> means the
differences has not been resolved yet.</p>
<p>When scrolling vertically in one editor, the two others editors follow the
move so that all corresponding parts are seen together at the same time. This
co-relation is brought to the fore by a colored polygon (the color is set
according to the user settings).</p>
<p><img border="0" src="images/merger15.gif" width="189" height="104"></p>
<p>For specific purposes, the automatic link between the editors can be disabled
by clicking on the button <img src="images/I16_Cadena.gif" width="15" height="14">
present in the upper right corner of the editor.<br>
Using this feature, when another editor will scroll, this one will not move any
more and when this editor scrolls, the other will not move.<br>
<img src="images/I16_Cadena.gif" width="15" height="14">, means that the editor
is linked with the others : when the other editors scroll, this one will scroll
too.<br>
<img src="images/I16_Cadena_Open.gif" width="15" height="14">, means that the
editor is not linked with the others : when the other editors scroll, this one
will scroll too.</p>
<p><img border="0" src="images/merger17.gif" width="183" height="107"></p>
<p>When lines in the editors are very long, the user can change the size of one
of the editors by dragging the divider bar between two editors.</p>
<p>The status of the merge is indicated at the bottom of the main frame. The
user can find the following information :<br>
<img border="0" src="images/merger7.gif" width="341" height="18"><br>
- the index of the current difference =&gt; here, 1<br>
- the total number of differences found by the merger and which are to solve at
the beginning of the merge (3),<br>
- and the number of difference left to solve (2).</p>
<p><img src="images/merger43.gif" width="388" height="99"></p>
<p>The title of each window reminds the mode opened :</p>
<p><img border="0" src="images/merger11.gif" width="453" height="28"><br>
and indicates by a traffic light either if there are still differences to solve <img border="0" src="images/_redlight.gif" width="22" height="22">,
or if all the differences have been solved and the result can be saved <img border="0" src="images/_greenlight.gif" width="22" height="22">.</p>
<p>A contextual menu, accessible by the right click allows to act directly on
the differences. The set of proposed actions depends on the mode of the current
window.</p>
<table width="90%" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td>In the mode with recommendations and diff2</td>
    <td>In the modes by integration</td>
  </tr>
  <tr>
    <td><img border="0" src="images/merger10.gif" width="225" height="323"></td>
    <td><img src="images/merger44.gif" align="top" width="225" height="268"></td>
  </tr>
</table>
<p>The first set of commands is used in the mode with recommendations and in the
diff2 mode.<br>
The second set of commands is used in the integration modes .<br>
The last set of commands is the usual Copy-Paste tools. When the editor is in
read only mode, the cut, paste and clear options cannot be used.</p>
<p>The user can insert text anywhere in the result file, directly or by the
copy-paste mechanism:<br>
&nbsp;&nbsp;&nbsp; - Each text insertion automatically leads to the validation
of the difference.<br>
&nbsp;&nbsp;&nbsp; - The inserted text is highlighted to show that a manual
insertion has been done.</p>
<p><img border="0" src="images/merger16.gif" width="783" height="235"></p>
<p>The copy - paste can be used to report text from one editor to the result
editor.<br>
A specific menu allows to select the whole content of the area.<img src="images/merger24.gif" width="218" height="20">
(the part selected in blue in the example above)</p>
<p><img border="0" src="images/merger63.gif" width="882" height="278"></p>
<p>Information about the type of change in the version is accessible with a tool
tip, when the cursor stays a while on a difference block.</p>
<p><img border="0" src="images/merger19.gif" width="875" height="356"></p>
<p align="right">[<a href="#Top">Top</a>]</p>
<h4><a name="textHighlighting"></a>Text Highlighting</h4>
<p>Text differences inside a block of text are highlight according to the
difference highlighter selector (<img src="images/merger45.gif" width="55" height="30">).<br>
It allows to highlight differences between :<br>
- left and middle editors,<br>
- left and right editors,<br>
- middle and right editors,<br>
- no difference highlight.</p>
<p>The algorithm used to compute character differences between two blocks is the
same that the one used for the lines, but with a character precision. This
functionality is very interesting to quickly see which characters have changed
between two similar conflicting lines.</p>
<p>Limitation : when one of the two blocks of text to compare is too large (more
than 5000 characters), for performances reasons, the highlight is reduced at a
block starting at the first different character compute from the beginning of
the text, to the first different character compute from the end of the text.</p>
<p>The highlighter selector position&nbsp; (<img src="images/merger45.gif" width="55" height="30">)
is saved in the settings for each merging mode.<br>
By default :<br>
- the two modes &quot;integrate ...&quot; show differences between left and
middle editors (<img border="0" src="images/I_Highlight_Left_Middle.gif" width="22" height="22">),<br>
- the &quot;merge with recommendations&quot; mode shows differences between left
and right editors (<img border="0" src="images/I_Highlight_Left_Right.gif" width="22" height="22">),<br>
- the &quot;diff2&quot; mode shows differences between left and right editors (<img border="0" src="images/I_Highlight_Left_Right.gif" width="22" height="22">).</p>
<p>It is also possible to select not to highlight differences with the following
choice (<img border="0" src="images/I_Highlight_None.gif" width="22" height="22">).</p>
<p>In the example below, you can see that the difference between left and right
editors is the string &quot; [/p6]&quot;.</p>
<p><img src="images/merger46.gif" width="892" height="394"></p>
<p align="right">[<a href="#Top">Top</a>]</p>
<h4><a name="languageParsing"></a>Language parsing</h4>
<p>The merger provides a language parsing functionality to help the user to
locate himself in the file structure.</p>
<p>Four languages are recognized :<br>
- C/C++ language for files with .h, .c, .cpp extensions,<br>
- java language for files with .java extension,<br>
- shell language for files with .sh extension,<br>
- sql language for files with .sql extension.<br>
<br>
Files with other extensions are not treated.</p>
<p>example:<br>
<img border="0" src="images/merger89.gif" width="332" height="321"></p>
<p>&nbsp;</p>
<p>All the editors implement an undo/Redo mechanism. Using <img border="0" src="images/I_Redo.gif" width="22" height="22">or
<img border="0" src="images/I_Undo.gif" width="22" height="22"> will work but
only for text insertion made manually.<br>
After an action like Left, Right,..., integrate Before,..., the undo/redo memory
is cleared.</p>
<p align="right"><br>
[<a href="#Top">Top</a>]</p>
<h4 align="left"><a name="Moving through differences"></a>Moving through the
differences</h4>
<p align="left">A set of arrows, present in the toolbar and in the menus allows
to move from a difference to another.</p>
<p align="left">Next difference (<img border="0" src="images/_next.gif" width="22" height="22">)
and previous difference (<img border="0" src="images/_previous.gif" width="22" height="22">)
allows to move the editors to the next and to the previous difference ignoring
if they are already solved. If the cursor stands either in a common part or on a
difference, the next difference command will activate the next difference
compute from this point.</p>
<p align="left">Next unresolved difference (<img border="0" src="images/_nextUnresolved.gif" width="22" height="22">)
and previous unresolved difference (<img border="0" src="images/_previousUnresolved.gif" width="22" height="22">)&nbsp;
act in the same way but allow only to move between unresolved differences.</p>
<p align="left">When using the center on the current difference command (<img border="0" src="images/_center.gif" width="22" height="22">)
, the merger updates the three editors so that each one centers on the current
difference. If no difference is selected (for example when clicking on a common
part) the editors centers on the first unresolved difference found starting from
the beginning of the document.</p>
<p align="left">When moving through differences with the arrow buttons or by
clicking on a particular area, the merger always try to make the difference be
visible in the three editors:<br>
- if the difference is not visible before action, the editors scroll so that the
beginning of the difference stands at a quarter of the screen.<br>
- if the difference is visible, the editor does not scroll.</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<h4 align="left"><a name="Howscrollbarswork"></a>How do scrollbars work</h4>
<p align="left">Remember that there is always an editor out of the three which
stands for the reference. This reference is the last editor where the user has
clicked. If no editor has been focused (at the beginning of the application for
example) the result editor stands for the reference editor.</p>
<p align="left">Why a reference editor ?</p>
<p align="left">When clicking on a difference in a editor ( this one becomes the
reference), the merger arranges the two other editors to put the difference in
the three editors on the same line even if the difference was visible in the
other editors.</p>
<p align="left">As an example, when the user clicks on the difference in the
middle editor,</p>
<p align="left"><img border="0" src="images/merger37.gif" width="788" height="250"></p>
<p align="left">the areas in the left and in the right editor scroll to stay on
the same line.</p>
<p align="left"><img border="0" src="images/merger38.gif" width="784" height="247"></p>
<p align="left">Remark : if the difference in the reference editor is partially
seen (you can't see the first lines of this difference), the other differences
are aligned to the quarter of the screen (this point is materialized by a light
blue segment in the dividers).</p>
<p align="left"><img border="0" src="images/merger39.gif" width="787" height="228"></p>
<p align="left">When scrolling, the merger acts in the same way : it always
tries to make the three editors contents match. The reference editor is
determined by the scrollbar which is moved.</p>
<p align="left">Example : when scrolling the middle editor, the merger
determines which difference is visible on the quarter of the screen.</p>
<p align="left"><img border="0" src="images/merger40.gif" width="791" height="562"></p>
<p align="left">then the other editors are scrolled to maintain the same part
and the same ratio (a) in all editors.</p>
<p align="left"><img border="0" src="images/merger41.gif" width="787" height="556"></p>
<p align="left">&nbsp;</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<h3>&nbsp;</h3>
<h3><a name="Merge by Integrate conflicting in current version"></a>Merging By
Integrate conflicting version in current version</h3>
<p>In this mode, the user can integrate in his version (the current version seen
in his workspace) the differences that had appeared in the conflicting version
since the last previous version.</p>
<p>The previous version is computed by SCM to be the nearest last predecessor of
the two files.</p>
<p><img border="0" src="images/merger23.gif" width="884" height="388"></p>
<p>The left, middle and right editors contain respectively the previous version,
the conflicting version and the result (which is initialized with the current
version).</p>
<p>The current version stands for the result. A simple diff2 comparison is made
between the previous version and the conflicting version so that the user knows
what changes has been made by the other developer.</p>
<p>There are three kinds of difference that can be shown between the previous
version and the conflicting version : text addition, text removal, or text
change.</p>
<p>The aim is to integrate or not this change in the current version.</p>
<p>Solving a merge in this mode:</p>
<p>The user has four possible actions which are enabled depending on the context
:</p>
<p>example of proposed choices : <img border="0" src="images/merger44.gif" align="top" width="225" height="268"></p>
<p><b>The first possibility is &quot;integrate before&quot;:</b><br>
&nbsp;&nbsp;&nbsp; This choice means that the content of the conflicting version
(in the example, the green area) will be inserted before the corresponding part
in the result.<br>
&nbsp;&nbsp;&nbsp; The result part take the green color as background to show
that the green part has been inserted before the yellow part. When the user
checks the differences he has solved, he can easily know what action has been
made.</p>
<p>&nbsp;&nbsp;&nbsp; <img border="0" src="images/merger47.gif" width="883" height="287"><br>
&nbsp;&nbsp;&nbsp; Notice that this choice is not available if the part in the
conflicting version or in the result version is empty (because it makes no sense
to integrate with nothing).</p>
<p><b>The second possibility is &quot;integrate after&quot;:</b><br>
&nbsp;&nbsp;&nbsp; This choice means that the content of the conflicting version
(in the example, the green area) will be inserted after the corresponding part
in the result.<br>
&nbsp;&nbsp;&nbsp; The result part take the yellow color as background to show
that the yellow part stay before the green part.<br>
&nbsp;&nbsp;&nbsp; When the user checks the differences he has solved, he can
easily know what action has been made.</p>
<p>&nbsp;&nbsp;&nbsp; <img border="0" src="images/merger48.gif" width="887" height="290"><br>
&nbsp;&nbsp;&nbsp; Notice that this choice is not available if the part in the
conflicting version or in the result version is empty (because it makes no sense
to integrate with nothing).</p>
<p><b>&nbsp;The third possibility is particular to the context of the difference</b>.
The choices can be :<br>
&nbsp;&nbsp;&nbsp; - <b>&quot;replace with... &quot;</b> followed by the type of
the change between the previous version and the conflicting version (removal,
addition, change).<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; This choice is only proposed when the
relation between the conflicting part and the result part is one to one, that
means a part can replace another.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; If the relation is n to n, this
choice is disabled.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; in the example, the change between
the previous version and the conflicting version is an addition.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Choosing, &quot;replace with the
addition&quot; means that we take the content of the conflicting version for the
result.</p>
<p>&nbsp;&nbsp;&nbsp; <img border="0" src="images/merger49.gif" width="886" height="288"></p>
<p>&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; - <b>&quot;integrate...&quot;</b> as the same
behavior the &quot;replace with&quot; but is used when the part is the result
version is empty.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; - <b>&quot;remove...&quot;</b> as the same behavior
the &quot;replace with&quot; but is used when the part is the conflicting
version is empty.<br>
<br>
&nbsp;</p>
<p><b>The fourth possibility is &quot;Validate result's editor content&quot;:</b><br>
&nbsp;&nbsp; This choice means that we don't want to integrate the change and
so, we keep the content that is seen in the result editor.<br>
&nbsp;&nbsp;&nbsp; The result part stays with the yellow color as background to
show that the content of the editor comes from this editor.<br>
&nbsp;&nbsp;&nbsp; When the user checks the differences he has solved, he can
easily know what action has been made.</p>
<p>Note:<br>
- when the user inserts or remove one character manually, the result is
automatically validated.<br>
&nbsp;&nbsp;&nbsp; This functionality avoids to validate each part where the
user has made a change manually.<br>
- at any time, the user can choose to cancel the action he made with the Reset
button or menu item <img src="images/_reset.gif" width="22" height="22">.<br>
&nbsp;&nbsp;&nbsp; The area in the result version is cleared and reinitialized
to be like at the start of the application.<br>
- a specific menu allows to select the whole content of the area.<img src="images/merger24.gif" width="218" height="20"><br>
&nbsp;</p>
<p>Warning:<br>
One important particularity of the mode &quot;Integrate conflicting version in
current version&quot; is that more information are shown in the dividers.<br>
You can see on the example below that the polygon that makes the link between
the editors are drawn in the divider <b>but also </b>in the middle editor. This
is particular to this mode where one difference can be linked with several in
the other editors.</p>
<p>Example 1:</p>
<p><img border="0" src="images/merger50.gif" align="top" width="882" height="285"></p>
<p>The left divider materialize the differences computed by a simple diff2
comparison between the previous version and the conflicting version.<br>
The right divider materialize the differences computed by a simple diff2
comparison between the conflicting version and the current version (the result).</p>
<p>In the example above, the left divider indicates that between the previous
version and the conflicting version, a block of text has been added between
lines 1325 and 1326 (see the black link in the divider).<br>
This bloc appears in the conflicting version&nbsp; (lines 1326 to 1332).</p>
<p>But as you can remark, just three lines are different between conflicting
version and the current version, so that's why only lines 1329 to 1331 are in
the green block. The merger has simplified the field of the merge to perform,
because there is no point in seeing differences that have already been included
in the result.</p>
<p>Example 2:</p>
<p align="right">&nbsp;</p>
<p><img border="0" src="images/merger51.gif" align="top" width="889" height="288"></p>
<p>In the example 2, you can see that lines 1326 to 1328 of the previous version
have been changed to lines 1337 to 1345 in the current version (see the black
link in the divider).<br>
The merger has simplified the merge and only shows the least number of
differences between the current version and the result (conflicting version). So
there is two differences to solve but each of them is much easier.</p>
<p>When the user solves the first difference, the part in the previous version
is not solved because it is still linked with an unsolved difference. (see
below)</p>
<p><img border="0" src="images/merger52.gif" width="882" height="285"></p>
<p>When the user solves the other difference, the part in the previous version
is mark as solved because all the differences with which it is linked are
solved. (see below)</p>
<p><img border="0" src="images/merger53.gif" width="885" height="286"></p>
<p align="right">&nbsp;</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<h3><a name="IntegratecurrentInConflictingVersion"></a>Merging By Integrate
current&nbsp; version in conflicting version</h3>
<p>In this mode, the user can integrate in the conflicting version the
differences he has made in the current version (the current version seen in his
workspace) since the last previous version.</p>
<p>The previous version is compute by SCM to be the nearest last predecessor of
the two files.</p>
<p><img border="0" src="images/merger22.gif" width="893" height="391"></p>
<p>The left, middle and right editors contain respectively the previous version,
the current version and the result (which is initialized with the conflicting
version).</p>
<p>The conflicting version stands for the result. A simple diff2 comparison is
made between the previous version and the current version so that the user knows
what he has made and so, what he must integrate in the conflicting version.</p>
<p>The behavior of this mode is the same as &quot;<a href="#Merge by Integrate conflicting in current version">integrate
conflicting conflicting version in current version</a>&quot;.</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<p>&nbsp;</p>
<h3><a name="MergeWithRecommendations"></a>Merging With Recommendations</h3>
<p>This mode is based on a three-way comparison between the two conflicting
files and their common ancestor. This mode allows to see what has changed
between the common ancestor and the two conflicting versions.</p>
<p><img border="0" src="images/merger54.gif" width="885" height="387"></p>
<p>The left editor contains the current version seen in the current workspace.<br>
The right editor contains the conflicting version.<br>
The middle editor stands for the result file which is already initialized at the
opening :<br>
&nbsp;&nbsp;&nbsp; - the parts which are common to both current version and
conflicting version (i-e same text in current version and conflicting version)
are copied as it.<br>
&nbsp;&nbsp;&nbsp; - the parts where a choice must be made is filled with the
content of the common ancestor. It depends on your choice in the <a href="#Settings">settings</a>.</p>
<p>The fact that the result file can be initialized with the content of the
common ancestor allows to guess what changes have been made in each version in
relation to the ancestor.</p>
<p>To help the user, the merger displays a tool tip text (when staying a while
on a difference) to show what has happened between the common ancestor and one
of the version.</p>
<p>Solving a merge in this mode:</p>
<table width="100%" border="0">
  <tr>
    <td width="75%" valign="top">
      <p><br>
      The user has seven ways for solving each difference. He can:<br>
      - select the content that is in the current version by a &quot;left&quot;
      action,<br>
      - select the content that is in the conflicting version by a
      &quot;right&quot; action,<br>
      - select the both content that are in the current version and in the
      conflicting version by either a &quot;left + right&quot; action, or a
      &quot;right + left&quot; action, depending on which text you want to put
      first.<br>
      - select the recommendation computed by the merger (only available when
      differences are not conflictual)<br>
      - select the content that is actually in the result version (middle pane)
      by a &quot;Validate result editor's content&quot; action<br>
      &nbsp;</p>
      <p>- use classic copy/paste/edit mechanism to create the content he wants
      to see in the result.</p>
      <p>Note:<br>
      - at any time, the user can choose to cancel the action he made with the
      Reset button or menu item <img src="images/_reset.gif" width="22" height="22">.
      The area in the result version is cleared and reinitialized to be like at
      the start of the application.</p>
      <p>&nbsp;</p>
    </td>
    <td width="25%"><img border="0" src="images/merger29.gif" width="226" height="323"></td>
  </tr>
</table>
<p>When the user has made his choice the part in the result file automatically
takes the colors of the editor from which it comes from, so that when the user
checks all the differences he has solved, he can quickly know the action he
made.</p>
<p><a name="How does recommendations work"></a>The recommendations allows to
save time for non conflicting differences. How does recommendations work :</p>
<p>When the merger is launched, it computes the 3 files (the common ancestor,
the current version and the conflicting version) to get two sets of differences
and compare them.<br>
The first set of differences is computed by comparing the common ancestor and
the current version.<br>
The second set of differences is computed by comparing the common ancestor and
the conflicting version.<br>
If all the differences computed are not in conflict, the merge can be solve
automatically.</p>
<p>Here are main cases with the recommendation computed:.</p>
<table width="100%">
  <tr>
    <th width="18%">Ancestor</th>
    <th width="16%">Current Version</th>
    <th width="21%">Conflicting Version</th>
    <th width="28%">Result</th>
    <th width="17%">Recommendation</th>
  </tr>
  <tr>
    <td width="18%">a block of lines</td>
    <td width="16%">same block</td>
    <td width="21%">same block</td>
    <td width="28%">no change: same block</td>
    <td width="17%">YES</td>
  </tr>
  <tr>
    <td width="18%">a block of lines</td>
    <td width="16%">same block</td>
    <td width="21%">some lines&nbsp; modified</td>
    <td width="28%">conflicting version&nbsp; is chosen</td>
    <td width="17%">YES</td>
  </tr>
  <tr>
    <td width="18%">a block of lines</td>
    <td width="16%">same block</td>
    <td width="21%">lines deleted</td>
    <td width="28%">conflicting version is chosen</td>
    <td width="17%">YES</td>
  </tr>
  <tr>
    <td width="18%">a block of lines</td>
    <td width="16%">some lines modified</td>
    <td width="21%">some lines modified</td>
    <td width="28%"><b>a manual merge is needed</b></td>
    <td width="17%">NO (*)</td>
  </tr>
  <tr>
    <td width="18%">nothing</td>
    <td width="16%">nothing</td>
    <td width="21%">some lines added</td>
    <td width="28%">conflicting version&nbsp; is chosen</td>
    <td width="17%">YES</td>
  </tr>
  <tr>
    <td width="18%">nothing</td>
    <td width="16%">some lines added</td>
    <td width="21%">some lines added</td>
    <td width="28%"><b>a manual merge is needed</b></td>
    <td width="17%">NO (*)</td>
  </tr>
  <tr>
    <td width="18%">a block of lines</td>
    <td width="16%">some lines modified</td>
    <td width="21%">lines deleted</td>
    <td width="28%"><b>a manual merge is needed</b></td>
    <td width="17%">NO</td>
  </tr>
  <tr>
    <td width="18%">a block of lines</td>
    <td width="16%">lines deleted</td>
    <td width="21%">lines deleted</td>
    <td width="28%">lines are deleted in the result file</td>
    <td width="17%">YES</td>
  </tr>
</table>
<p>Note (*):&nbsp; there can be a recommendation if the lines added or modified
are the same in the two files.</p>
<p>Remember:<br>
- the result is in the middle editor.<br>
- a great care must be taken with the recommendations, because the same text
insertion in the two files but at two different places could be taken in account
and lead to a program bug.</p>
<p>Example 1:</p>
<p>In this example, a text has been added in the conflicting version. The user
choose to take in count this addition and use the &quot;Right&quot; action.<br>
<img border="0" src="images/merger30.gif" width="828" height="245"></p>
<p>The content of the right editor is put in the corresponding area in the
result editor as follows :<br>
&nbsp;</p>
<p><img border="0" src="images/merger31.gif" width="819" height="235"></p>
<p align="right">&nbsp;</p>
<p align="right">&nbsp;</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<h3><a name="SimpleDiff2"></a>Merging Using Simple Diff2 Comparison</h3>
<p>This mode simply makes a two-ways comparison between the current version and
the conflicting version. The way to solve the merge is the same as in the mode
with recommendations but without the recommendations.</p>
<p><img src="images/merger34.gif" width="829" height="321"></p>
<p>The left, middle and right editors contain respectively the current version,
the result version and the conflicting version.</p>
<p>As there is no more common ancestor, the result file is initialized with only
the common parts computed from the current version and the conflicting version.
A line stands to indicate where the text contents will be inserted. As in the
mode with recommendations, the set of possible actions is Left, Right, Middle,
Left + Right, Right + Left, and reset to cancel a action made.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>Remember:<br>
- the result is in the middle editor.<br>
- the recommendation item is never enabled.</p>
<p align="right">&nbsp;</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<h3><a name="Settings"></a>Settings</h3>
<p>A settings panel allows to customize some parameters. All the settings are
saved on disk, so that the user can always use the merger with his preferred
settings.</p>
<p>The user can choose :<br>
- how to compute differences. The user can choose to ignore whites spaces or
tabulation when the merger is computing differences. This functionality is
useful when the differences between two files mainly consist in white spaces or
tabulations. It allows to focus on real content changes.</p>
<p>Note:<br>
- changing this setting implies to close all opened modes to let the merger
compute again all the differences in all the modes. So when changing this
setting, the merger automatically tries to close the opened windows. Since one
window is still opened, for example if the user cancel a window closing, the
merger does not accept to take the choice into account.<br>
- at the next launch of the merger, this choice will still be available.</p>
<p><img border="0" src="images/merger26.gif" width="553" height="359"></p>
<p>These choices are displayed in the panel &quot;Open a resolution mode&quot;
to remind with which options, the merger has computed the differences.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <img border="0" src="images/merger36.gif" width="513" height="281"></p>
<p>- View menu allows to set:<br>
&nbsp;&nbsp;&nbsp; - if you want to show the syntax of the document (see <a href="#languageParsing">Language
Parsing</a>)<br>
&nbsp;&nbsp;&nbsp; - if you want to see line numbers in the editor margin,<br>
&nbsp;&nbsp;&nbsp; - if the content of the common ancestor should be seen in the
unresolved parts of the result<br>
&nbsp;&nbsp;&nbsp; - which external tool should be used as text editor to edit
the files,<br>
&nbsp;&nbsp;&nbsp; - the size he wants for the tabulations (this choice will
only be available at the next document opening).</p>
<p><img border="0" src="images/merger27.gif" width="553" height="359"></p>
<p>- the color menu allows to redefine the main colors of the application.</p>
<h3><img border="0" src="images/merger28.gif" width="553" height="359"></h3>
<p>Remember:<br>
- when the user choose to ignore white spaces or tabulations, the reference
editor take for the initialization of the common parts is the current version
seen in workspace.<br>
- the changes made in the settings are available as soon as the settings panel
is closed, and at the next launch of the merger. So if you choose to ignore
white spaces or tabulations, remember that this choice will be available in the
next launch of the tool.</p>
<p align="right">&nbsp;</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<h3><a name="Menus"></a>Menus</h3>
<h4><a name="File"></a>File</h4>
<h4><img border="0" src="images/merger55.gif" width="262" height="126"><br>
&nbsp;</h4>
<table width="100%" border="1">
  <tr>
    <td width="13%">
      <div align="center">
        Item
      </div>
    </td>
    <td width="13%" align="center">
      <div align="center">
        Icon
      </div>
    </td>
    <td width="74%">
      <div align="center">
        Purpose
      </div>
    </td>
  </tr>
  <tr>
    <td width="13%">Open a resolution mode</td>
    <td width="13%" align="center"><img border="0" src="images/I_SelectMode.gif" width="22" height="22"></td>
    <td width="74%">Displays a panel where the user can choose the resolution
      modes he wants to open.</td>
  </tr>
  <tr>
    <td width="13%">Save and quit</td>
    <td width="13%" align="center"><img border="0" src="images/I_Save.gif" width="22" height="22"></td>
    <td width="74%">Save the content of the current opened merge mode as the
      result of the merge (all differences must be solved)</td>
  </tr>
  <tr>
    <td width="13%">Quit</td>
    <td width="13%" align="center">No Icon</td>
    <td width="74%">Quit the application.</td>
  </tr>
</table>
<p align="right">[<a href="#Top">Top</a>]</p>
<h4><a name="Edit"></a>Edit</h4>
<h4><img border="0" src="images/merger56.gif" width="190" height="303"><br>
&nbsp;</h4>
<table width="100%" border="1">
  <tr>
    <td width="13%">
      <div align="center">
        Item
      </div>
    </td>
    <td width="13%" align="center">
      <div align="center">
        Icon
      </div>
    </td>
    <td width="74%">
      <div align="center">
        Purpose
      </div>
    </td>
  </tr>
  <tr>
    <td width="13%">Undo</td>
    <td width="13%" align="center"><img border="0" src="images/I_Undo.gif" width="22" height="22"></td>
    <td width="74%">Undo the last text action in the result editor.</td>
  </tr>
  <tr>
    <td width="13%">Redo</td>
    <td width="13%" align="center"><img border="0" src="images/I_Redo.gif" width="22" height="22"></td>
    <td width="74%">Redo the last text action in the result editor.</td>
  </tr>
  <tr>
    <td width="13%">Cut</td>
    <td width="13%" align="center"><img border="0" src="images/I_Cut.gif" width="22" height="22"></td>
    <td width="74%">Cut the actual selection to the clipboard.</td>
  </tr>
  <tr>
    <td width="13%">Copy</td>
    <td width="13%" align="center"><img border="0" src="images/I_Copy.gif" width="22" height="22"></td>
    <td width="74%">Copy the actual selection to the clipboard.</td>
  </tr>
  <tr>
    <td width="13%">Paste</td>
    <td width="13%" align="center"><img border="0" src="images/I_Paste.gif" width="22" height="22"></td>
    <td width="74%">Paste the content of the clipboard to the location of the
      cursor.</td>
  </tr>
  <tr>
    <td width="13%">Clear</td>
    <td width="13%" align="center"><img border="0" src="images/I_Clear.gif" width="22" height="22"></td>
    <td width="74%">Clear the actual selection.</td>
  </tr>
  <tr>
    <td width="13%">Find</td>
    <td width="13%" align="center"><img border="0" src="images/I_Find.gif" width="22" height="22"></td>
    <td width="74%">Find a string in the active editor</td>
  </tr>
  <tr>
    <td width="13%">Replace</td>
    <td width="13%" align="center">No Icon</td>
    <td width="74%">Find and replace a string in the active editor</td>
  </tr>
  <tr>
    <td width="13%">Go to line</td>
    <td width="13%" align="center">No Icon</td>
    <td width="74%">Move the cursor to a specific line</td>
  </tr>
  <tr>
    <td width="13%">Settings</td>
    <td width="13%" align="center"><img border="0" src="images/tools.gif" width="22" height="22"></td>
    <td width="74%">Open the settings panel.</td>
  </tr>
</table>
<p align="right">[<a href="#Top">Top</a>]</p>
<h4><a name="View"></a>View</h4>
<h4><img border="0" src="images/merger57.gif" width="488" height="165"><br>
&nbsp;</h4>
<table width="100%" border="1" height="252">
  <tr>
    <td width="13%" height="16">
      <div align="center">
        Item
      </div>
    </td>
    <td width="13%" align="center" height="16">
      <div align="center">
        Icon
      </div>
    </td>
    <td width="74%" height="16">
      <div align="center">
        Purpose
      </div>
    </td>
  </tr>
  <tr>
    <td width="13%" height="16">Go To</td>
    <td width="13%" align="center" height="16"></td>
    <td width="74%" height="16">Open a submenu to shift between differences. The
      items of this menu are described below.</td>
  </tr>
  <tr>
    <td width="13%" height="32">Previous difference</td>
    <td width="13%" align="center" height="32"><img border="0" src="images/_previous.gif" width="22" height="21"></td>
    <td width="74%" height="32">Scroll the three editors to make visible the
      previous merge (solved or not).</td>
  </tr>
  <tr>
    <td width="13%" height="21">Next difference</td>
    <td width="13%" align="center" height="21"><img border="0" src="images/_next.gif" width="22" height="21"></td>
    <td width="74%" height="21">Scroll the three editors to make visible the
      next merge (solved or not).</td>
  </tr>
  <tr>
    <td width="13%" height="32">Center on current difference</td>
    <td width="13%" align="center" height="32"><img border="0" src="images/_center.gif" width="22" height="21"></td>
    <td width="74%" height="32">Center the three editors on the current
      difference.</td>
  </tr>
  <tr>
    <td width="13%" height="48">Previous unresolved difference</td>
    <td width="13%" align="center" height="48"><img border="0" src="images/_previousUnresolved.gif" width="22" height="21"></td>
    <td width="74%" height="48">Scroll the three editors to make visible the
      previous unresolved merge.</td>
  </tr>
  <tr>
    <td width="13%" height="32">Next unresolved difference</td>
    <td width="13%" align="center" height="32"><img border="0" src="images/_nextUnresolved.gif" width="22" height="21"></td>
    <td width="74%" height="32">Scroll the three editors to make visible the
      next unresolved merge.</td>
  </tr>
  <tr>
    <td width="13%" height="32">Open a file with the external tool</td>
    <td width="13%" align="center" height="32">No icon</td>
    <td width="74%" height="32">Open the selected file in the external text
      editor specified in the settings.</td>
  </tr>
</table>
<h4><img border="0" src="images/merger58.gif" width="405" height="125"><br>
&nbsp;</h4>
<table width="100%" border="1" height="64">
  <tr>
    <td width="13%" height="25">
      <div align="center">
        Item
      </div>
    </td>
    <td width="13%" align="center" height="25">
      <div align="center">
        Icon
      </div>
    </td>
    <td width="74%" height="25">
      <div align="center">
        Purpose
      </div>
    </td>
  </tr>
  <tr>
    <td width="13%" height="39">Open a file with the external tool</td>
    <td width="13%" align="center" height="39">No icon</td>
    <td width="74%" height="39">Open the selected file in the external text
      editor specified in the settings.</td>
  </tr>
</table>
<p align="right">[<a href="#Top">Top</a>]</p>
<h4><a name="Select"></a>Select</h4>
<h4><img border="0" src="images/merger59.gif" width="229" height="301"></h4>
<h4><span style="font-weight: 400">These items apply to the current selected
difference.</span><br>
&nbsp;</h4>
<table width="100%" border="1" style="border-collapse: collapse" bordercolor="#111111" cellpadding="0" cellspacing="0">
  <tr>
    <td width="110" align="left">
      <div align="center">
        Item
      </div>
    </td>
    <td width="93" align="center">Icon</td>
    <td width="603" align="left">
      <div align="center">
        Purpose
      </div>
    </td>
  </tr>
  <tr>
    <td width="110" align="left">Left</td>
    <td width="93" align="center">
      <div align="center">
        <img border="0" src="images/_left.gif" width="22" height="22">
      </div>
    </td>
    <td width="603" align="left">Selection of the left part, which means,
      selection of the text from the current version&nbsp;</td>
  </tr>
  <tr>
    <td width="110" align="left">Right</td>
    <td width="93" align="center"><img src="images/_right.gif" width="22" height="22"></td>
    <td width="603" align="left">Selection of the right part, which means,
      selection of the text from the conflicting version</td>
  </tr>
  <tr>
    <td width="110" align="left">Left + Right</td>
    <td width="93" align="center"><img src="images/_leftright.gif" width="22" height="22"></td>
    <td width="603" align="left">Selection of the left part, AND the right part,
      which means, selection of the text from the current version AND the text
      from the conflicting version</td>
  </tr>
  <tr>
    <td width="110" align="left">Right + Left</td>
    <td width="93" align="center">
      <div align="center">
        <img src="images/_rightleft.gif" width="22" height="22">
      </div>
    </td>
    <td width="603" align="left">Selection of the right part, AND the left part,
      which means, selection of the text from the conflicting version AND the
      text from the current version</td>
  </tr>
  <tr>
    <td width="110" align="left">Validate result's editor contents</td>
    <td width="93" align="center"><img border="0" src="images/_resolved.gif" width="22" height="22"></td>
    <td width="603" align="left">Validate the result's editor content, which
      means, selection of the text from the result version which could have been
      changed manually by the user</td>
  </tr>
  <tr>
    <td width="110" align="left">Reset</td>
    <td width="93" align="center">
      <div align="center">
        <img src="images/_reset.gif" width="22" height="22">
      </div>
    </td>
    <td width="603" align="left">The reset puts back the difference in the
      result editor as it was before the selection. In the mode with
      recommendations, if the option is selected, the result editor redisplays
      the text that was in the common ancestor.</td>
  </tr>
  <tr>
    <td width="110" align="left">Recommendation</td>
    <td width="93" align="center">
      <div align="center">
        <img src="images/_recommend.gif" width="22" height="22">
      </div>
    </td>
    <td width="603" align="left">Selection of the recommendation found by the
      merger</td>
  </tr>
</table>
<p align="left">&nbsp;</p>
<table width="100%" border="1" style="border-collapse: collapse" bordercolor="#111111" cellpadding="0" cellspacing="0">
  <tr>
    <td width="110" align="left">
      <div align="center">
        Item
      </div>
    </td>
    <td width="93" align="center">Icon</td>
    <td width="603" align="left">
      <div align="center">
        Purpose
      </div>
    </td>
  </tr>
  <tr>
    <td width="110" align="left">Integrate before</td>
    <td width="93" align="center">
      <div align="center">
        <img border="0" src="images/_integrateBefore.gif" width="22" height="22">
      </div>
    </td>
    <td width="603" align="left">Selection of integrating the change which has
      been made between the previous file and the version present in the middle
      editor before the content present in the result editor.</td>
  </tr>
  <tr>
    <td width="110" align="left">Integrate after</td>
    <td width="93" align="center">
      <div align="center">
        <img border="0" src="images/_integrateAfter.gif" width="22" height="22">
      </div>
    </td>
    <td width="603" align="left">Selection of integrating the change which has
      been made between the previous file and the version present in the middle
      editor after the content present in the result editor.</td>
  </tr>
  <tr>
    <td width="110" align="left">Integrate...</td>
    <td width="93" align="center">
      <div align="center">
        <img border="0" src="images/_integrate.gif" width="22" height="22">
      </div>
    </td>
    <td width="603" align="left">Integrates the change in the result editor (see
      the details in <a href="#IntegratecurrentInConflictingVersion">integrate
      chapter</a>).</td>
  </tr>
  <tr>
    <td width="110" align="left">Validate result's editor contents</td>
    <td width="93" align="center"><img border="0" src="images/_resolved.gif" width="22" height="22"></td>
    <td width="603" align="left">Validate the result's editor content, which
      means, selection of the text from the result version which can have been
      change manually by the user</td>
  </tr>
  <tr>
    <td width="110" align="left">Reset</td>
    <td width="93" align="center">
      <div align="center">
        <img src="images/_reset.gif" width="22" height="22">
      </div>
    </td>
    <td width="603" align="left">The reset puts back the difference in the
      result editor as it was before the selection.&nbsp;</td>
  </tr>
</table>
<p align="right">&nbsp;</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<h4><a name="SelectAll"></a>Select All</h4>
<p>The commands are the same as the select commands but apply to the whole set
of differences (other than those already solved). They are only accessible in
the menu Select All.</p>
<p><img border="0" src="images/merger60.gif" width="241" height="217"></p>
<p align="right">[<a href="#Top">Top</a>]</p>
<h4><a name="Window"></a>Window</h4>
<p>Each time a resolution mode is opened, it is linked to this window menu. This
is a better way to navigate between opened modes.</p>
<p><img border="0" src="images/merger21.gif" width="281" height="102"></p>
<p align="right">[<a href="#Top">Top</a>]</p>
<h4><a name="Help"></a>Help<br>
&nbsp;</h4>
<p><img border="0" src="images/merger61.gif" width="168" height="77"></p>
<table width="100%" border="1">
  <tr>
    <td width="13%">
      <div align="center">
        Item
      </div>
    </td>
    <td width="13%" align="center">
      <div align="center">
        Icon
      </div>
    </td>
    <td width="74%">
      <div align="center">
        Purpose
      </div>
    </td>
  </tr>
  <tr>
    <td width="13%">The graphical Merger</td>
    <td width="13%" align="center"><img border="0" src="images/I_ShowHelpTopic.gif" width="22" height="22"></td>
    <td width="74%">Opens this documentation in the default web navigator.</td>
  </tr>
  <tr>
    <td width="13%">Solving merges</td>
    <td width="13%" align="center"><img border="0" src="images/I_ShowHelpTopic.gif" width="22" height="22"></td>
    <td width="74%">Opens the official documentation about how to solve a merge
      in the default web navigator.</td>
  </tr>
</table>
<p align="right">[<a href="#Top">Top</a>]</p>
<h3><a name="Icons"></a>Icons</h3>
<p>The main items of the menu are accessible through the icon bar, where you can
find :<br>
- the opening of the merge modes,<br>
- the opening of the settings panel<br>
- the selection actions buttons (indicating whether they are accessible or not),
(treat only <u>one</u> difference)<br>
- the move action buttons to move from a difference to another,<br>
- a difference selector, to highlight differences between two particular
editors.</p>
<p><img border="0" src="images/merger62.gif" width="574" height="58"></p>
<p>These icons are enabled when they can be used and disabled in the other
cases.</p>
<h3 align="right">[<a href="#Top">Top</a>]</h3>
<p align="right">&nbsp;</p>
<h3><a name="SavingMergeResult"></a>Saving The Merge Result</h3>
<p>When all the differences have been solved in one merging mode, the user can
choose to save the result and quit the graphical merger.<br>
If several merging mode have been opened, the merger reminds the user that other
modes are opened to avoid from loosing its work. Indeed, when the merge is not
easy to solve in one mode, the user can open another mode which can be easier to
solve. Even if the user has opened all the possible mode and starting to make
choices in each mode, the result will come out from one mode only.</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<p align="right">&nbsp;</p>
<h3><a name="Launching the merger out of SCM"></a>Launching the merger out of
SCM</h3>
<font size="1">
<p>The merger can be launch manually by the user out of the
'adl_solve_merge'&nbsp; SCM command.</p>
<h4>Usage</h4>
<p><font face="Courier">'ADL_MERGER' current_file conflicting_file [-anc
ancestor_file] [-prev previous_files...] -out result_file<br>
&nbsp;&nbsp;&nbsp; {-batch -begcom begin_comment -endcom end_comment} {-info
info_file }</font></p>
<p><font face="Arial">'ADL_MERGER' stands for the environment variable
ADL_MERGER : type $ADL_MERGER on unix systems, or %ADL_MERGER% on windows
systems.</font></p>
<h4>Options<br>
&nbsp;</h4>
<table width="921" height="232">
  <tr>
    <td valign="TOP" width="267" height="25"><tt><font face="Courier">-h|-help|-?</font></tt></td>
    <td width="640" height="25"><font face="Courier">Help of the command</font></td>
  </tr>
  <tr>
    <td width="267" height="25"><font size="2" face="Courier">current_version</font></td>
    <td width="640" height="25"><font size="2" face="Courier">Current version to
      merge</font></td>
  </tr>
  <tr>
    <td valign="TOP" width="267" height="25"><font size="2" face="Courier">conflicting_version</font></td>
    <td width="640" height="25"><font size="2" face="Courier">Conflicting
      version to merge</font></td>
  </tr>
  <tr>
    <td valign="TOP" width="267" height="25"><font size="2" face="Courier">-anc
      ancestor_version</font></td>
    <td width="640" height="25"><font size="2" face="Courier">Common ancestor
      version</font></td>
  </tr>
  <tr>
    <td valign="TOP" width="267" height="25"><font size="2" face="Courier">-prev
      previous_version...</font></td>
    <td width="640" height="25"><font face="Courier">Previous common version</font></td>
  </tr>
  <tr>
    <td valign="TOP" width="267" height="25"><font size="2" face="Courier">-out
      result_</font><font face="Courier">file</font></td>
    <td width="640" height="25"><font size="2" face="Courier">File to contain
      the result of the merge</font></td>
  </tr>
  <tr>
    <td valign="TOP" width="267" height="26"><font face="Courier">-batch</font></td>
    <td width="640" height="26"><font size="2" face="Courier">Option used to
      solve the merge in batch mode</font></td>
  </tr>
  <tr>
    <td valign="TOP" width="267" height="26"><font size="2" face="Courier">-begcom
      begin_comment</font></td>
    <td width="640" height="26"><font size="2" face="Courier">comment put at the
      beginning of a conflicting unresolved part</font></td>
  </tr>
  <tr>
    <td valign="TOP" width="267" height="26"><font size="2" face="Courier">-endcom
      end_comment</font></td>
    <td width="640" height="26"><font size="2" face="Courier">comment put at the
      end of a conflicting unresolved part</font></td>
  </tr>
  <tr>
    <td valign="TOP" width="267" height="26"><font size="2" face="Courier">-info
      info_file</font></td>
    <td width="640" height="26"><font size="2" face="Courier">File containing
      information about the different files (extract by SCM)</font></td>
  </tr>
</table>
</font>
<p align="left">The merger will be able to compute several modes depending on
the given arguments. Some of these options are mandatory and others optional.</p>
<h4 align="left">Available merging modes</h4>
<p align="left">With only the two mandatory files (current_version and
conflicting_version), the merger will only propose the diff2 merging mode.</p>
<p align="left"><font face="Courier" size="1">'ADL_MERGER' current_file
conflicting_file -out result_file</font></p>
<p align="left"><img border="0" src="images/merger64.gif" width="526" height="209"></p>
<p align="left">&nbsp;</p>
<p align="left">Giving an common ancestor version, the merger will be able to
propose the four following modes :</p>
<p align="left"><font face="Courier" size="1">'ADL_MERGER' current_file
conflicting_file -anc ancestor_version -out result_file</font></p>
<p align="left"><img border="0" src="images/merger65.gif" width="526" height="284"></p>
<ul>
  <li>
    <p align="left">Integrate conflicting version in current version, compute
    with the common ancestor version as previous version (the common ancestor is
    a particular previous version)</p>
  </li>
  <li>
    <p align="left">Integrate conflicting version in current version, compute
    with the common ancestor version as previous version,</p>
  </li>
  <li>
    <p align="left">Merge with recommendations, which need the common ancestor
    version,</p>
  </li>
  <li>
    <p align="left">Simple diff2 mode.</p>
  </li>
</ul>
<p align="left">&nbsp;</p>
<p align="left">Giving a previous version, the merger will be able to propose
the three following modes :</p>
<p align="left"><font face="Courier" size="1">'ADL_MERGER' current_file
conflicting_file -prev previous_version -out result_file</font></p>
<p align="left"><img border="0" src="images/merger66.gif" width="526" height="259"></p>
<ul>
  <li>
    <p align="left">Integrate conflicting version in current version, compute
    with the previous version</p>
  </li>
  <li>
    <p align="left">Integrate conflicting version in current version, compute
    with the previous version,</p>
  </li>
  <li>
    <p align="left">Simple diff2 mode.</p>
  </li>
</ul>
<p align="left">&nbsp;</p>
<p align="left">Giving an ancestor version and a previous version, the merger
will be able to propose the four following modes :</p>
<p align="left"><font face="Courier" size="1">'ADL_MERGER' current_file
conflicting_file -anc ancestor_version -prev previous_version -out result_file</font></p>
<p align="left"><img border="0" src="images/merger65.gif" width="526" height="284"></p>
<ul>
  <li>
    <p align="left">Integrate conflicting version in current version, compute
    with the previous version</p>
  </li>
  <li>
    <p align="left">Integrate conflicting version in current version, compute
    with the previous version,</p>
  </li>
  <li>
    <p align="left">Merge with recommendations, which need the common ancestor
    version,</p>
  </li>
  <li>
    <p align="left">Simple diff2 mode.</p>
  </li>
</ul>
<h4 align="left">&nbsp;</h4>
<h4 align="left">Batch mode</h4>
<p align="left">The batch mode is only available if a common ancestor version is
given, because it uses the merge with recommendations mode.</p>
<p align="left">It uses the recommendations to solve automatically the non
conflicting differences:</p>
<ul>
  <li>
    <p align="left">when the merger meets a non conflicting change, it solves it
    using the recommendations,</p>
  </li>
  <li>
    <p align="left">when the merger meets a conflicting change, it take the
    content of the current version followed by the content of the conflicting
    version surrounded by the begin comment and the end comment given on the
    command line</p>
  </li>
</ul>
<p align="left">Example:</p>
<table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="400" id="AutoNumber1">
  <tr>
    <td width="33%">&nbsp;</td>
    <td width="33%"><img border="0" src="images/merger68.gif" width="162" height="192"></td>
    <td width="34%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%"><img border="0" src="images/merger69.gif" width="342" height="184"></td>
    <td width="33%">&nbsp;</td>
    <td width="34%"><img border="0" src="images/merger70.gif" width="379" height="184"></td>
  </tr>
</table>
<p align="left">Without the batch mode, the user would have had to solve this
merge :</p>
<p align="left"><img border="0" src="images/merger67.gif" width="800" height="303"></p>
<p align="left">With the -batch option, the merge automatically produces this
result file:</p>
<p align="left"><font face="Courier">'ADL_MERGER' -anc ancestor.txt
currentversion.txt conflictingversion.txt -out result_file -batch -begcom
&quot;My_Begin_Comment&quot; -endcom &quot;My_End_Comment&quot;</font></p>
<p align="left"><img border="0" src="images/merger71.gif" width="460" height="248"></p>
<p align="left">You can see the non conflicting changes (lines 2 and 4) have
been solved.<br>
For the conflicting part, the content of the current part has been keep, and the
content of the conflicting part has been inserted with the user begin and end
comment.</p>
<p align="left">Note that the merger systematically adds its own begin and end
comment (you can see &quot;---- Beginning of conflicting part.&quot; and
&quot;---- End of conflicting part.&quot;).</p>
<p align="left">In this case the merger produces an error return code to
indicate to the user that he must solve manually the conflicting parts left in
the result file.</p>
<p align="left">&nbsp;</p>
<p align="right"><a href="#Top">Top</a>]</p>
<p align="right">&nbsp;</p>
<h3><a name="WhatIsNew"></a>What's New?</h3>
<p>The merger tool that is described in the current article is completely
different from the one existing until now.<br>
The purpose of this new merger is to provide user more flexibility and easiness
to solve merges.</p>
<p>Here are some main differences:</p>
<table border="1" width="90%" align="center">
  <tr>
    <td valign="top" align="center" bgcolor="#C0C0C0"><b>Old Merger</b></td>
    <td valign="top" align="center" bgcolor="#C0C0C0"><b>New Merger</b></td>
  </tr>
  <tr>
    <td width="50%" valign="top">A single way of merging files, based on a
      common ancestor version from which the two conflicting versions have
      derived, then displaying the differences between each file and this common
      version and letting the user to decide which one to keep for the result.</td>
    <td width="50%" valign="top">Four ways of computing differences and merging
      files:
      <ul>
        <li>Integrate conflicting changes in the current version.</li>
        <li>Integrate current version in the conflicting version.</li>
        <li>as before, merge with recommendations.<br>
          This mode use a common ancestor version and displaying differences of
          each version with this common version.</li>
        <li>diff2 mode.<br>
          This mode compares directly the two versions to be merged.</li>
      </ul>
      <p>The different modes can be opened simultaneously in different windows.</td>
  </tr>
  <tr>
    <td width="50%" valign="top">A single window displaying the two versions and
      splitting horizontally the window where are the differences.&nbsp;</td>
    <td width="50%" valign="top">Any of the four merging modes that are
      described above are available and can be used for any merge. The tool
      manages multiple merges that appear on the screen as different windows.
      Each window contains three sub-windows displaying either one of the two
      conflicting versions, or the result, or the previous version.</td>
  </tr>
  <tr>
    <td width="50%" valign="top">Impossible to see the content of the common
      ancestor version</td>
    <td width="50%" valign="top">In the mode with recommendations, each time a
      difference exists between the two conflicting versions, it is possible to
      display the content of the common ancestor version (by default, this
      option is set).</td>
  </tr>
  <tr>
    <td width="50%" valign="top">While solving the merge, the single window
      displays only what is chosen by the user as being the result of the merge.
      Once the merge finished, the user can see only the result file.</td>
    <td width="50%" valign="top">Each file has a dedicated window.<br>
      The editors of the different versions are opened in read only mode.<br>
      The result editor is opened in read write mode and can be saved by the
      user.<br>
      It is also possible to run an external editor to see the content of any
      file involved in the merge (ancestor, conflicting version, previous
      version).</td>
  </tr>
  <tr>
    <td width="50%" valign="top">The window is split with different text editors</td>
    <td width="50%" valign="top">Only one editor is used for each file and
      colors are used to highlight the differences..</td>
  </tr>
</table>
<p align="right">[<a href="#Top">Top</a>]</p>
<p align="right">&nbsp;</p>
<hr>
<h3><a name="References"></a>References</h3>
<p><em><a href="../CAAWsmUseCases/CAAWsmMerge.htm">Merging concurrent
changes</a></em></p>
<p align="right">[<a href="#Top">Top</a>]</p>
<hr>
<!---------------------------------comment------------------------------------->

<h3><a name="History"></a>History</h3>
<table width="838">
  <tr>
    <td valign="top" width="185">Version: <strong>2</strong> [January 2004]</td>
    <td valign="top" width="649">Document update : language parsing, text
      highlight, settings</td>
  </tr>
  <tr>
    <td valign="top" width="185">Version: <strong>1</strong> [March 2003]</td>
    <td valign="top" width="649">Document created</td>
  </tr>
  <tr>
    <td valign="top" align="right" colspan="2" width="836">[<a href="#Top">Top</a>]</td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->

<p><i>Copyright  2003, Dassault Systmes. All rights reserved.</i></p>
<p>&nbsp;</p>

</body>

</html>
