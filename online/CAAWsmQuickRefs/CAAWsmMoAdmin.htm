<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 3.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title>adl_mo_admin</title>
<link rel="Stylesheet" type="text/css" href="../CAADocStyleSheets/caav5.css">
</head>

<body>

<p>&nbsp; <br>
&nbsp; </p>

<table WIDTH="100%">
  <tr>
    <td VALIGN="TOP"><h1>RADE</h1>
    </td>
    <td VALIGN="TOP"><h2>Source Code Manager</h2>
    </td>
    <td ALIGN="RIGHT" VALIGN="TOP" ROWSPAN="2"><h3><a NAME="Top"></a>adl_mo_admin</h3>
    <p><i>Administrating the monitor</i></td>
  </tr>
  <tr>
    <td COLSPAN="2" class="quick">Quick Reference</td>
  </tr>
</table>

<hr>
<!---------------------------------comment------------------------------------->

<table class="abstract">
  <tr>
    <td><h3>Abstract</h3>
    <p>The <b>adl_mo_admin</b> command administrates the SCM monitor of a site.&nbsp; <ul>
      <li><b><a href="#Synopsis">Synopsis</a></b></li>
      <li><b><a href="#Usage">Usage</a></b></li>
      <li><b><a href="#Options">Options</a></b></li>
      <li><b><a href="#Examples">Examples</a></b></li>
      <li><b><a href="#References">References</a></b></li>
    </ul>
    </td>
  </tr>
</table>

<hr>
<!---------------------------------comment------------------------------------->

<h3><a NAME="Synopsis"></a>Synopsis</h3>
<b>

<p>adl_mo_admin </b>[<b>-host </b>host_name<b>] </b>[<b>-port </b>port_number] [<b>-ping</b>]
[<b>-stop | -suspend | -resume | -abort</b>] [<b>-rmcmd </b>command_identifier...] [<b>-rmlock</b>
lock_identifier...] [<b>-lscmd</b>] [<b>-lslock</b>] [<b>-filter</b>
filter_name:filter_value ...] [<b>-dscmd</b> command_id ... ] [<b>-dslock</b> lock_id
....] [<b>-dsrecobj</b> rec_obj_id ...] [<b>-no_title</b>] [<b>-verb </b>verbose_level] [<b>-program</b>
[<b>-sep</b> char]] [<b>-out</b> file_path] [<b>-h | -help | -?</b>] </p>

<h3><a NAME="Usage"></a>Usage</h3>

<p>For a given site, the site's administrator will manage the file contents servers and
the central database and the monitor. </p>

<p>To start a monitor on a local machine, see the [<a href="#References">1</a>]
adl_monitor command. </p>

<p>For more information on the Monitor, see the [<a href="#References">2</a>]
Administration documentation. To learn about the file server administration, see the [<a
href="#References">3</a>] adl_fs_admin command. </p>

<p>Here are details on the criteria for selecting objects: 

<ul>
  <li>Criteria for all monitor objects are:</li>
  <ul>
    <li>user: name of user who has launched the command</li>
    <li>cmd: command name</li>
    <li>host: name of the host where the command has been launched</li>
    <li>pid: process identifier of the command</li>
    <li>oid: monitor object identifier (lock, command, recoverable object)</li>
  </ul>
  <li>Criteria on lock are:</li>
  <ul>
    <li>criteria: lock criteria of a lock</li>
    <li>locktype: locking mode of a lock (shared, exclusive, exclforce).</li>
  </ul>
</ul>

<p>The verbose level gives the quantity of traces you will have: </p>

<table BORDER="1" COLS="2" WIDTH="84%">
  <tr>
    <td ALIGN="CENTER"><b>0</b></td>
    <td>No trace</td>
  </tr>
  <tr>
    <td ALIGN="CENTER"><b>1</b></td>
    <td>All client request traces</td>
  </tr>
  <tr>
    <td ALIGN="CENTER"><b>2</b>&nbsp; 1+</td>
    <td>Some debug informations</td>
  </tr>
  <tr>
    <td ALIGN="CENTER"><b>3</b>&nbsp; 1+2+</td>
    <td>All error messages sent to the client</td>
  </tr>
  <tr>
    <td ALIGN="CENTER"><b>4</b>&nbsp; 1+2+3+</td>
    <td>Dump of monitor tables after each client request</td>
  </tr>
  <tr>
    <td ALIGN="CENTER"><b>5</b>&nbsp; 1+2+3+4+</td>
    <td>Dump of database caches before each database access.</td>
  </tr>
</table>

<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->

<h3><a NAME="Options"></a>Options</h3>

<p>adl_mo_admin accepts the following options: <br>
&nbsp; </p>

<table WIDTH="891">
  <tr>
    <td VALIGN="TOP" WIDTH="345"><tt>-h | -help | ?</tt></td>
    <td WIDTH="532">Help of the command</td>
  </tr>
  <tr>
    <td WIDTH="345"><tt>-host host_name</tt></td>
    <td WIDTH="532">Name of the SCM monitor machine</td>
  </tr>
  <tr>
    <td WIDTH="345">-port port_number</td>
    <td WIDTH="532">port number of the listen monitor socket.</td>
  </tr>
  <tr>
    <td WIDTH="345"><tt>-ping</tt></td>
    <td WIDTH="532">To test the monitor activity</td>
  </tr>
  <tr>
    <td WIDTH="345"><tt>-stop</tt></td>
    <td WIDTH="532">To stop the monitor after it has completed all current commands.</td>
  </tr>
  <tr>
    <td>-suspend</td>
    <td>To suspend the monitor activity. No more connection can be established.</td>
  </tr>
  <tr>
    <td>-resume</td>
    <td>To resume the monitor activity. Authorize all new connections.</td>
  </tr>
  <tr>
    <td>-abort</td>
    <td>To abort all transactions still running and stop the monitor.</td>
  </tr>
  <tr>
    <td>-rmcmd command_identifier</td>
    <td>Abort and remove a command from the monitor.</td>
  </tr>
  <tr>
    <td>-rmlock lock_identifier</td>
    <td>Remove a lock of a terminated command from the monitor.</td>
  </tr>
  <tr>
    <td>-lscmd</td>
    <td>To list all current managed commands</td>
  </tr>
  <tr>
    <td>-lslock</td>
    <td>To list all current managed locks</td>
  </tr>
  <tr>
    <td>-filter</td>
    <td>To select monitor objects according to specified criteria</td>
  </tr>
  <tr>
    <td>-dscmd command_id</td>
    <td>To display all attributes of specified commands by their identifier.</td>
  </tr>
  <tr>
    <td>-dslock lock_id</td>
    <td>To display all attributes of specified locks by their identifier.</td>
  </tr>
  <tr>
    <td>-dsrecobj rec_obj_id</td>
    <td>To display all attributes of specified recoverable objects by their identifier.</td>
  </tr>
  <tr>
    <td>-no_title</td>
    <td>To inhibit the display of the title of the monitor object list.</td>
  </tr>
  <tr>
    <td>-verb verbose level</td>
    <td>To start monitor traces</td>
  </tr>
  <tr>
    <td>-program</td>
    <td>Display in a format usable by programs</td>
  </tr>
  <tr>
    <td>-sep char</td>
    <td>Separator between each field (default value is blank).</td>
  </tr>
  <tr>
    <td>-out file_path</td>
    <td>Path of the file where the results are stored.</td>
  </tr>
</table>

<p align="right">[<a href="#Top">Top</a>]</p>

<h3><a NAME="Examples"></a>Examples</h3>

<dl>
  <b><p>List </b>all the commands currently managed by the monitor which is running on host
  &quot;host_name&quot;: </p>
  <table class="code">
    <tr>
      <td><b>adl_mo_admin </b>-host host_name -lscmd <p>1 commands are currently processed by
      the monitor: <br>
      dl@zorg(Windows_NT):490 Running adl_mo_admin (CkY-7Uq3MMg3+++-uU-K)</td>
    </tr>
  </table>
  <p><b>&nbsp;</b></p>
  <p>Test if the monitor is running on host &quot;host_name&quot; and using the port 23450:</p>
  <table class="code">
    <tr>
      <td><b>adl_mo_admin </b>-ping -host host_name -port 23450<p>Pinging host: host_name on
      port: 23450<br>
      Reply from HostName time 0 ms <br>
      Reply from HostName time 0 ms <br>
      Reply from HostName time 0 ms <br>
      Reply from HostName time 0 ms <br>
      Reply from HostName time 0 ms <br>
      #ERR# ADLMo - 0120: The connection with monitor on host: host_name and port number: 23450
      has been successfully tested.</td>
    </tr>
  </table>
  <p><b>&nbsp;</b></p>
  <p><b>Change </b>the verbose monitor's level: </p>
  <table class="code">
    <tr>
      <td><b>adl_mo_admin </b>-verb 3 <p>#ERR# ADLMo - 0142: The Monitor has changed its verbose
      level with the value: &quot;3&quot;.</td>
    </tr>
  </table>
  <p><b>&nbsp;</b></p>
  <p><b>List </b>all the locks which are currently managed by monitor: &nbsp; </p>
  <table class="code">
    <tr>
      <td><b>adl_mo_admin </b>-lslock <br>
      ...</td>
    </tr>
  </table>
  <p><b>&nbsp;</b></p>
  <p><b>List </b>all the current commands of the monitor for the specific user
  &quot;UserName&quot;:<br>
  Note the error message at the first try &nbsp; </p>
  <table class="code">
    <tr>
      <td><b>adl_mo_admin </b>-filter user:UserName <p>Options consistency check-up. <br>
      #ERR# ADLMo - 1055: You have set a -filter option without request the list of commands or
      locks at the same time. <br>
      Retry the command without a filter </p>
      <p><b>adl_mo_admin </b>-lscmd -filter user:UserName </p>
      <p>1 commands are currently processed by the monitor: <br>
      UserName@zorg(Windows_NT):490 Running adl_mo_admin (CkY-7Uq3MMg3+++-uU-K)</td>
    </tr>
  </table>
  <p><b>&nbsp;</b></p>
  <p><b>Stop </b>the current monitor for the port &quot;PortNumber&quot;: </p>
  <table class="code">
    <tr>
      <td><b>adl_mo_admin </b>-port PortNumber -stop<br>
      ...</td>
    </tr>
  </table>
</dl>

<p align="right">[<a href="#Top">Top</a>]</p>

<hr>
<!---------------------------------comment------------------------------------->

<h3><a NAME="References"></a>References</h3>

<table WIDTH="100%">
  <tr>
    <td VALIGN="TOP">[1] <br>
    [2] <br>
    [3]</td>
    <td><a href="CAAWsmMonitor.htm">adl_monitor: Starting the monitor</a> <br>
    <a href="../CAAWsmUseCases/CAAWsmAdministration.htm#The SCM daemons">The SCM
    daemons: managing the monitor and file servers</a><br>
    <a href="CAAWsmFsAdmin.htm">adl_fs_admin: Managing the file server</a></td>
  </tr>
</table>

<p align="right">[<a href="#Top">Top</a>]</p>

<hr>
<!---------------------------------comment------------------------------------->

<h3><a NAME="History"></a>History</h3>

<table WIDTH="100%">
  <tr>
    <td VALIGN="TOP">Version: <b>1</b> [May 2001]</td>
    <td VALIGN="TOP">Document created</td>
  </tr>
</table>

<p align="right">[<a href="#Top">Top</a>]</p>

<hr>
<!---------------------------------comment------------------------------------->

<p><i>Copyright © 2001, Dassault Systèmes. All rights reserved.</i> </p>
</body>
</html>
