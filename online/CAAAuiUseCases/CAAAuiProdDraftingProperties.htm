<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 6.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<link rel="Stylesheet" type="text/css" href="../CAADocStyleSheets/caav5.css">
<title>Drafting Properties of the Product</title>
</head>

<body>

<table width="100%">
  <tr>
    <td valign="top">
      <h1>Mechanical Design</h1>
    </td>
    <td valign="top">
      <h2>Assembly Design</h2>
    </td>
    <td rowspan="2" align="right" valign="top">
      <h3><a name="Top"></a>Drafting 
      properties of product's component</h3>Retrieves/sets the drafting 
      properties</td>
  </tr>
  <tr>
    <td class="use" colspan="2">Use Case</td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->

<table class="abstract">
  <tr>
    <td>
      <h3>Abstract</h3>
      <p>This article discusses the CAAAuiProdDraftingProperties use case. This use
      case explains how to retrieve and to set the drafting properties for a product's component.
      <ul>
        <li><strong><A href="#Learn">What You Will Learn With This Use Case</A></strong>
        <li><strong><A href="#UseCase">The CAAAuiProdDraftingProperties Use Case</A></strong>
          <ul>
            <li><A href="#What">What Does CAAAuiProdDraftingProperties Do</A>
            <li><A href="#How">How to Launch CAAAuiProdDraftingProperties</A>
            <li><A href="#Where">Where to Find the CAAAuiProdDraftingProperties
              Code</A></li>
          </ul>
        <li><strong><A href="#Step">Step-by-Step</A></strong>
        <li><strong><A href="#InShort">In Short</A></strong>
        <li><strong><A href="#References">References</A></strong></li>
      </ul>
    </td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->

<h3><a name="Learn"></a>What You Will Learn With This Use Case</h3>
<p>This use case is intended to help you make your first steps in programming with CATIA Product
Design. Its main intent is to retrieve and set drafting properties of an Product design
document. More specifically, you will learn how to:</p>
<ul>
  <li>Open a Product document. 
  <li>Searching for the documents' root product. 
  <li>Searching for instances&nbsp;in the document whose property&nbsp;is to be modified. 
  <li>Modifying drafting properties on instances. 
  <li> Saving the document.</li>
</ul>
<p align="right">[<A href="#Top">Top</A>]</p><!---------------------------------comment------------------------------------->

<h3><a name="UseCase"></a>The CAAAuiProdDraftingProperties Use Case</h3>
<p>CAAAuiProdDraftingProperties is a use case of the CAAAssemblyUI.edu framework that
illustrates the CATAssemblyInterfaces framework capabilities.</p>
<p>Before discussing the use case, some main concepts, about the drafting properties,
have to be introduced:</p>
<ul>
  <li>
    <p>Hidden Line Property :- Determine the hide status of 
  the line.</p>
  <li>
    <p>Cut status of the component :- Determine if the 
  component will be cut when projected in section view.</p>
  <li>
    <p>Projected&nbsp;status of the component:- Determine if 
  the component will be projected in the section view.</p>           
       </li>
</ul>
<p align="right">ut [<A href="#Top">Top</A>]</p><!---------------------------------comment------------------------------------->

<h4><a name="What"></a>What Does CAAAuiProdDraftingProperties Do</h4>
<p><img height=482 src="images/CAAAuiProdDraftingProperties.jpg" width=662 border=0></p>
<p>CAAAuiProdDraftingProperties:</p>
<ul>
  <li>Opens a session. 
  <li>Opens a document. 
  <li>Search for the document's root product. 
  <li>Search for Screw.1, Nut.1 and Washer.1 instances. 
  <li>Modify drafting properties of the instances. 
  <li>Save the document if necessary
  <li>Closes document. 
  <li>Closes session.</li>
</ul>
<p align="right">[<A href="#Top">Top</A>]</p><!---------------------------------comment------------------------------------->

<h4><a name="How"></a>How to Launch CAAAuiProdDraftingProperties</h4>
<p>To launch CAAAuiProdDraftingProperties, you will need to set up the build time
environment, then compile CAAAuiProdDraftingProperties along with its prerequisites,
set up the run time environment, and then execute the use case [<A href="#References">1</A>].</p>
<p>Launch the use case as follows:
<ul>
  <li>With Windows
    <table width="90%">
      <tr>
        <td>
          <pre>e:&gt;CAAAuiProdDraftingProperties InputDocument OutputDocument</pre>
        </td>
      </tr>
    </table>
  <li>With UNIX
    <table width="90%">
      <tr>
        <td>
          <pre>$ CAAAuiProdDraftingProperties InputDocument OutputDocument</pre>
        </td>
      </tr>
    </table>
  </li>
</ul>
<p>where:</p>
<table>
  <tbody>
    <tr>
      <td><code><STRONG>InputDocument</STRONG></code></td>
      <td>   Complete&nbsp;path for&nbsp;"ScrewedPlates.CATProduct", usually it is in the
        resources directory of your RuntimeView</td>
    </tr>
    <tr>
      <td><FONT face="Courier New" 
      size=2><STRONG>OutputDocument</STRONG></FONT></td>
      <td>Complete&nbsp;path for "ScrewedPlates_Output.CATProduct", where modified document will be
        stored&nbsp;</td>
    </tr>
  </tbody>
</table>
<p align="right">[<A href="#Top">Top</A>]</p><!---------------------------------comment------------------------------------->

<h4><a name="Where"></a>Where to Find the CAAAuiProdDraftingProperties Code</h4>
<p>The CAAAuiProdDraftingProperties use case is located in the CAAAuiProdDraftingProperties.m module of the CAAAssemblyUI.edu framework:</p>
<table>
  <tr>
    <td>Windows</td>
    <td><code>InstallRootDirectory\CAAAssemblyUI.edu\CAAAuiProdDraftingProperties.m\</code></td>
  </tr>
  <tr>
    <td>Unix</td>
    <td><code>InstallRootDirectory/CAAAssemblyUI.edu/CAAAuiProdDraftingProperties.m/</code></td>
  </tr>
</table>
<p>where <code>InstallRootDirectory</code> is the directory where the CAA CD-ROM
is installed.</p>
<p align="right">[<A href="#Top">Top</A>]</p>

<h4><a name="Where"></a>Replaying CAAAuiProdDraftingProperties ODT</h4>
<p>The required data for CAAAuiProdDraftingProperties ODT is located in the CAAAssemblyUI.tst
framework:</p>
<table>
  <tr>
    <td>Shell script</td>
    <td><code>InstallRootDirectory/</code>CAAAssemblyUI.tst/FunctionTests/TestCases/CAAAuiProdDraftingProperties.sh</td>
  </tr>
  <tr>
    <td>InputData</td>
    <td><code>InstallRootDirectory/</code>CAAAssemblyUI.tst/FunctionTests/TestCases/InputData/ScrewedPlates.CATProduct</td>
  </tr>
  <tr>
    <td>Output</td>
    <td><code>InstallRootDirectory/</code>CAAAssemblyUI.tst/FunctionTests/TestCases/Output/intel_a/ScrewedPlates_output.CATProduct</td>
  </tr>
</table>
<p>where <code>InstallRootDirectory</code> is the directory where the CAA CD-ROM
is installed.</p>
<p align="right">[<A href="#Top">Top</A>]</p>

<h3><a name="Step"></a>Step-by-Step</h3>
<p>There are five main steps in CAAAuiProdDraftingProperties:</p>
<ol>
  <li><A href="#Step1">Prolog</A>
  <li><A href="#Step2">Retriving and Setting the Hide Line 
  Property.</A>&nbsp;&nbsp;&nbsp;
  <LI><A href="#Step2">Retriving and Setting the Cut 
  Property.</A>&nbsp;&nbsp;&nbsp; 
  <LI><A href="#Step2">Retriving and Setting the Projection 
  Property.</A>&nbsp;&nbsp;&nbsp; 
  <li><A href="#Step5">Epilog</A></li>
</ol>
<p>We will now comment at each of those sections by looking at the code.</p>
<p align="right">[<A href="#Top">Top</A>]</p><!---------------------------------comment------------------------------------->

<h4><a name="Step1"></a>Prolog</h4>
<p>CAAAuiProdDraftingProperties begins by checking that the command lines contains two argument (Complete path for
input CATProduct document&nbsp; and output CATProduct document&nbsp;). It then creates a session, and
opens a CATProduct document with the help static method <i>OpenDocument</i> of
class <i>CATProductDocument</i>. It then retrieves the root 
document by using <EM>CATIDocRoots</EM>, and then retrieves Screw.1, Nut.1
and Washer.1 instances (of type <i>CATIProduct</i>). 
It then modifyes 
Screw.1 Hidden Line properties, followed by modifying Nut.1 Cut properties 
then by modifying Washer.1 Projected properties by using 
CATIProdDraftingProperties method</p>
<table width="100%">
  <tr>
    <td><code></code></td>
    <td>  </td>
  </tr>
</table>
<p align="right">[<A href="#Top">Top</A>]</p><!---------------------------------comment------------------------------------->

<h4><a name="Step2">Retriving and Setting the Hide Line Property.</a></h4>
<table class="code">
  <tr>
    <td>
      <P>...</P>
      <P>// modifying Screw.1 properties,<BR>CATIProdDraftingProperties* 
      piProd_DftProp&nbsp; = &nbsp;NULL;</P>
      <P>if ( SUCCEEDED( piProd_Screw-&gt;QueryInterface( 
      IID_CATIProdDraftingProperties, (void **) &amp; piProd_DftProp ) ) ) </P><PRE>{ </PRE><PRE>	CATBoolean showHiddenLines = FALSE; </PRE><PRE>	piProd_DftProp-&gt;GetHiddenLineMode( showHiddenLines ); </PRE><PRE>	if ( FALSE == showHiddenLines ) </PRE><PRE>	{ piProd_DftProp-&gt;SetHiddenLineMode( TRUE ); }</PRE><PRE>}</PRE><PRE>// Process next
  ...</PRE>
    </td>
  </tr>
</table>
<p>  The GetHiddenLine returns</p>
<table width="100%">
  <tr>
    <td valign="top">TRUE</td>
    <td valign="top">        If the Line is
      Hidden.</td>
  </tr>
  <tr>
    <td valign="top">FALSE</td>
    <td valign="top"> If the Line is Visible.</td>
  </tr>
</table>

<h4>&nbsp;</h4>

<h4>Retriving and Setting the CUT Property<a name="Step3">  .</a></h4>
<table class="code" width="596">
  <tr>
    <td width="592">
      <P>
<table class="code">
  <tr>
    <td>   ...<PRE></PRE>
    </td>
  </tr>
</table>// modifying Nut.1 properties,</P>
      <P>CATIProdDraftingProperties * piProd_DftProp = 
      NULL;</P><PRE></PRE><PRE>if ( SUCCEEDED( piProd_Nut-&gt;QueryInterface( IID_CATIProdDraftingProperties, (void **) &amp; piProd_DftProp ) ) ) </PRE><PRE>{ </PRE><PRE>	CATBoolean cut = FALSE; piProd_DftProp-&gt;GetCutStatus( cut ); </PRE><PRE>	if ( TRUE == cut ) </PRE><PRE>	{ piProd_DftProp-&gt;SetCutStatus( FALSE ); }</PRE><PRE>}</PRE><PRE><PRE>// Process next
  ...</PRE></PRE>
    </td>
  </tr>
</table>
<p>  The GetCutStatus returns</p>
<table width="100%" id=TABLE1>
  <tr>
    <td valign="top">TRUE</td>
    <td valign="top">The component will be cut when projected in the section view.</td>
  </tr>
  <tr>
    <td valign="top">FASLE</td>
    <td valign="top">The component will not be cut when 
      projected in the section view.</td>
  </tr>
</table>
<p align="right">[<A href="#Top">Top</A>]</p><!---------------------------------comment------------------------------------->
<h4><A name=Step2>Retriving and Setting the Projected 
Property</A><a name="Step4">  .</a></h4>
<p>
<table class="code">
  <tr>
    <td>   &nbsp;...<PRE></PRE>
    </td>
  </tr>
</table>// modifying Washer.1 properties,</p>
<table class="code" width="619" id=TABLE1>
  <tr>
    <td width="611">   <PRE>CATIProdDraftingProperties * piProd_DftProp = NULL;</PRE>   <PRE>if ( SUCCEEDED( piProd_Washer-&gt;QueryInterface( IID_CATIProdDraftingProperties, (void **) &amp; piProd_DftProp ) ) )</PRE>   <PRE>{</PRE>   <PRE>	CATBoolean use = FALSE;</PRE>   <PRE>	piProd_DftProp-&gt;GetUseStatus( use );</PRE>   <PRE>	if ( TRUE == use ) { piProd_DftProp-&gt;SetUseStatus( FALSE ); }</PRE>   <PRE>}</PRE>   <PRE><PRE>// Process next
  ...</PRE></PRE>
    </td>
  </tr>
</table>
<p> The GetUseStatus returns ..</p>
<table width="100%">
  <tr>
    <td valign="top">TRUE</td>
    <td valign="top">
      <P>The component is Projected when in section 
view.</P>         
           </td>
  </tr>
  <tr>
    <td valign="top">FASLE</td>
    <td valign="top">
      <P>The component is not Projected when in section 
view.</P>         
           </td>
  </tr>
</table>
<p align="right">[<A href="#Top">Top</A>]</p>
<p align="right">&nbsp;</p><!---------------------------------comment------------------------------------->
<h4><a name="Step5"></a>Epilog</h4>
<p>Close the document and then session is closed, as usual.</p>
<p align="right">[<A href="#Top">Top</A>]</p>
<hr>
<!---------------------------------comment------------------------------------->

<h3><a name="InShort"></a>In Short</h3>
<p>  This use case has demonstrated the way to retrive and set the HideLine
, Cut and Projection drafting &nbsp;properties of a Product design document.</p>
<p align="right">[<A href="#Top">Top</A>]</p>
<hr>
<!---------------------------------comment------------------------------------->

<h3><a name="References"></a>References</h3>
<table width="100%">
  <tr>
    <td valign="top">[1]</td>
    <td><a href="../CAADocUseCases/CAADocRunSample.htm">Building
      and Launching a CAA V5 Use Case</A></td>
  </tr>
  <tr>
    <td valign="top" align="right" colspan="2">[<A href="#Top">Top</A>]</td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->
<h3><a name="History"></a>History</h3>
<table width="100%">
  <tr>
    <td valign="top">Version: <strong>1</strong>  [Mar 2005]</td>
    <td valign="top">Document created</td>
  </tr>
  <tr>
    <td valign="top" align="right" colspan="2">[<A href="#Top">Top</A>]</td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->
<p><i>Copyright © 2005, Dassault Systèmes. All rights reserved.</i></p>

</body>

</html>
