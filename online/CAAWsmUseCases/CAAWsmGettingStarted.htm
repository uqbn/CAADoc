<html>

 <head>
 <meta http-equiv="Content-Language" content="en-us">
 <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
 <meta name="GENERATOR" content="Microsoft FrontPage 6.0">
 <meta name="ProgId" content="FrontPage.Editor.Document">
 <link rel="Stylesheet" type="text/css" href="../CAADocStyleSheets/caav5.css">
 <title>Getting Started</title>
 </head>

 <body>

 <table width="100%">
   <tr>
     <td valign="top">
     <h1>RADE</h1>
     </td>
     <td valign="top">
     <h2>Source Code Manager</h2>
     </td>
     <td rowspan="2" align="right" valign="top">
     <h3><a name="Top"></a>Getting Started</h3>
     <p><em>Installing SCM on the SCM server(s)</em></td>
   </tr>
   <tr>
     <td class="use" colspan="2">Use Case</td>
   </tr>
 </table>
 <hr>
 <!---------------------------------------------------------------------------->
 <table class="abstract">
   <tr>
     <td>
     <h3>Abstract</h3>
     <p>The purpose of this article is to explain step by step how to install 
     SCM on a server (UNIX or Windows) and what are the first commands to run 
     to start a development project with SCM. The commands described in this 
     article require database and administrator privileges.</p>
     <p>SCM can be used upon either Oracle or DB2 database management systems (DBMS) 
     but the installation can be done the same way whatever the underlying 
     database is. If a particular action must be done for a particular DBMS, it 
     is described in the document. In this document we assume that the DBMS 
     tools are available on the host where SCM is to be installed and that they 
     can be found in the working environment.</p>
     <p>The reader is supposed to be familiar with the global architecture of 
     the SCM product, otherwise it is recommended to read the &quot;<a href="CAAWsmAdministration.htm">Administration</a>&quot; 
     article. </p>
     <ul>
       <li><a href="#Underlying DBMS"><b>The Underlying Database Management 
       System</b></a><ul>
         <li><a href="#Oracle Server Installation">Oracle Server Installation</a></li>
         <li><a href="#DB2 Server Installation">DB2 Server Installation</a></li>
       </ul>
       </li>
       <li><b><a href="#CD-ROM Installation on the SCM">CD-ROM Installation on 
       the SCM Server</a></b></li>
       <li><a href="#SCM Profiles Initialization"><b>SCM Initialization Profiles</b></a></li>
       <li><a href="#Customizing the Oracle Instance for SCM"><b>Customizing the 
       database for SCM</b></a>
       <ul>
         <li><a href="#Using Oracle">Using Oracle</a></li>
         <li><a href="#Using DB2">Using DB2</a></li>
         <li><a href="#How to generate the SQL programs?">How to Generate the 
         SQL Programs?</a></li>
         <li><a href="#How to use the SQL programs?">How to Use the SQL Programs</a></li>
       </ul>
       </li>
       <li><a href="#Migrating an existing SCM database"><b>Migrating an 
       existing SCM database</b></a><ul>
         <li><a href="#How to Generate the SQL Programs2">How to Generate the 
         SQL Programs?</a></li>
         <li><a href="#Structure of Migration Files">Structure of Migration 
         Files</a></li>
       </ul>
       </li>
       <li><a href="#Launching the SCM Monitor"><b>Launching the SCM Monitor</b></a>
       <ul>
         <li><a href="#Monitor UNIX platform">UNIX Platform</a></li>
         <li><a href="#Monitor Windows platform">Windows Platform</a></li>
       </ul>
       </li>
       <li><a href="#Declaring the site"><b>Declaring the Site</b></a></li>
       <li><b><a href="#DeclaringDatabases">Declaring the Database(s)</a></b></li>
       <li><a href="#Setting up and Launching the SCM File Server"><b>Setting Up 
       and Launching the SCM File Server</b></a>
       <ul>
         <li><a href="#UNIX Lauching File Server">UNIX Platform</a></li>
         <li><a href="#Windows Launching File Server">Windows Platform</a></li>
       </ul>
       </li>
       <li><a href="#launching the Multi-site Transfer Manager"><b>Launching the 
       Multi-site Transfer Manager</b></a><ul>
         <li><a href="#Account">Running Account and Multi-site Server</a></li>
         <li><a href="#Unix platform Transfer Manager">UNIX Platform</a></li>
         <li><a href="#Windows platform Transfer Manager">Windows Platform</a></li>
       </ul>
       </li>
       <li><a href="#Creating the First Workspace Tree"><b>Creating the First 
       Workspace Tree</b></a></li>
       <li><a href="#Using the EstimateStatisticsXXX.sql scripts"><b>Using the 
       EstimateStatisticsXXX.sql Programs</b></a></li>
       <li><a href="#Installing a SCM Client Host"><b>Installing a SCM Client 
       Host</b></a></li>
       <li><b><a href="#Trouble">Troubleshooting</a></b></li>
       <li><b><a href="#In Short">In Short</a></b></li>
     </ul>
     <p>&nbsp;</td>
   </tr>
 </table>
 <hr>
 <h3><a name="Underlying DBMS"></a>The Underlying Database Management System</h3>
 <p>The SCM system relies on a DBMS for storing data. Actually there are two 
 DBMS that are supported by SCM: Oracle, DB2.</p>
 <p>Whatever the DBMS is, the SCM installation falls in three steps: </p>
 <ol>
   <li>Create an empty database<br>
   There is no tool provided with SCM for creating a database. The database 
   administrator has to use the DBMS's tools to do it.</li>
   <li>Reference this database in SCM's profiles<br>
   Register the name of the new database and specified the paths to DBMS client 
   libraries.</li>
   <li>Create a database schema<br>
   Use SCM's SQL programs to create account and tables needed by SCM.</li>
 </ol>
 <p>The reader has to go through all sections to achieve the installation.If 
 there are some differences between Oracle or DB2, it will be mentioned.</p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h4><a name="Oracle Server Installation"></a>Oracle Server Installation</h4>
 <p>The Oracle installation is done by a Database Administrator (DBA) on the SCM 
 server.<br>
 One database is enough for a small development project. </p>
 <ul>
   <li>Refer to the Oracle documentation for learning how to create a new 
   database.</li>
   <li>Read this first section before creating this database.</li>
 </ul>
 <p>One Oracle instance must be created. SCM will reference this instance by its 
 SID<br>
 SCM provides SQL programs for </p>
 <ul>
   <li>Creating Oracle &#8220;table spaces&#8221;</li>
   <li>Creating an Oracle account for the SCM administrator</li>
   <li>Creating tables of the SCM database schema</li>
   <li>Running statistics on a database to get best performances.</li>
 </ul>
 <p>Those programs will be generated by the adl_admin_site command (see &quot;<a href="#Customizing the Oracle Instance for SCM">Customizing 
 the Oracle Instance</a>&quot;)</p>
 <p>SCM does not provide any program for creating an Oracle instance. This must 
 be done using Oracle tools.<br>
 Note however that specific &#8220;table spaces&#8221; will be created by SCM SQL programs 
 upon the newly created Oracle instance.</p>
 <p>
 <img src="../CAAIcons/images/warning.gif" nosavewidth= "30"height= "30">  
 SCM supports the &quot;WE8ISO8859P1&quot; character set. This character set is specify 
 when creating a new database. It is recommended to verify that the new instance 
 has been created with the same character set.</p>
 <p>This characteristic can be checked on an existing database by running the 
 query «<tt> select * from V$NLS_PARAMETERS </tt>» It should return WE8ISO8859P1 
 as value for 2 parameters.</p>
 <table class="code">
   <tr>
     <td>
     <pre>PARAMETER                               VALUE                                                           
--------------------------------------- ------------
NLS_LANGUAGE                            AMERICAN                                                        
NLS_TERRITORY                           AMERICA                                                         
NLS_CURRENCY                            $                                                               
NLS_ISO_CURRENCY                        AMERICA                                                         
NLS_NUMERIC_CHARACTERS                  .,                                                              
NLS_CALENDAR                            GREGORIAN                                                       
NLS_DATE_FORMAT                         DD-MON-YY                                                       
NLS_DATE_LANGUAGE                       AMERICAN                                                        
<b><font color="#FF0000">NLS_CHARACTERSET                        WE8ISO8859P1</font></b>
NLS_SORT                                BINARY                                                          
<b><font color="#FF0000">NLS_NCHAR_CHARACTERSET                  AL16UTF16</font></b>
</pre>
     </td>
   </tr>
 </table>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h4><a name="DB2 Server Installation"></a>DB2 Server Installation</h4>
 <p>The DB2 installation is done by a Database Administrator (DBA) on the SCM 
 server.<br>
 One database is enough for a small development project. </p>
 <ul>
   <li>Refer to the DB2 documentation for learning how to create a new database.</li>
   <li>Read this first section before creating this database.</li>
 </ul>
 <p>One DB2 database must be created. SCM will reference this database by its 
 logical name<br>
 SCM provides SQL programs for </p>
 <ul>
   <li>Creating tables of the SCM database schema</li>
   <li>Running statistics on a database to get best performances.</li>
 </ul>
 <p>Those programs will be generated by the adl_admin_site command (see &quot;<a href="#Customizing the Oracle Instance for SCM">Customizing 
 the Database</a>&quot;)</p>
 <p>
 <img src="../CAAIcons/images/information.gif" alt="information.gif (174 bytes)" width="31" height="30">SCM 
 does not provide any program for creating a DB2 database. This must be done 
 using DB2 tools.<br>
 Here are some advices to help to create a database suitable for SCM.</p>
 <table border="1" width="100%">
   <tr>
     <td width="33%" bgcolor="#808080" valign="top" align="left"><strong>What to 
     do</strong></td>
     <td width="33%" bgcolor="#808080" valign="top" align="left"><strong>Purpose</strong></td>
     <td width="34%" bgcolor="#808080" valign="top" align="left"><strong>Example</strong></td>
   </tr>
   <tr>
     <td width="33%" valign="top" align="left">Use the &quot;collate&quot; instruction 
     when creating the database</td>
     <td width="33%" valign="top" align="left">Some queries need to compute the 
     MAXimum of some values. This will work if the &quot;collate&quot; instruction has 
     been used.</td>
     <td width="34%" valign="top" align="left">
     <pre>SQL Sample:
create database SCMDB<small>(*)</small> ... collate using identity</pre>
     </td>
   </tr>
   <tr>
     <td width="33%" valign="top" align="left">Use a code set that supports 
     extended characters (if needed)</td>
     <td width="33%" valign="top" align="left">As SCM allows to manage paths and 
     file names containing various characters [<a href="#Ref4">4</a>], the 
     underlying database must be set to manage them too.</td>
     <td width="34%" valign="top" align="left">
     <pre>SQL Sample:
create database SCMDB<small>(*)</small> using codeset &lt;codeset&gt; territory &lt;territory&gt; ...</pre>
     </td>
   </tr>
   <tr>
     <td width="33%" valign="top" align="left">Create a login for a user on the 
     SCM server and give him DB2 rights for inserting/deleting/updating rows in 
     the DB2 database</td>
     <td width="33%" valign="top" align="left">Whoever is running a SCM command, 
     the database connection will be made using this account.</td>
     <td width="34%" valign="top" align="left">
     <pre>SQL Sample:
GRANT DBADM ON DATABASE TO USER adl<small>(**)</small></pre>
     </td>
   </tr>
   <tr>
     <td width="33%" valign="top" align="left">Set the locking mode to 'serializable'</td>
     <td width="33%" valign="top" align="left">This prevents deadlocks when 
     there are concurrent accesses to the database</td>
     <td width="34%" valign="top" align="left">
     <pre>db2set command:
db2set DB2_RR_TO_RS=YES</pre>
     </td>
   </tr>
   <tr>
     <td width="33%" valign="top" align="left">Increase the storage for locks (database 
     configuration)</td>
     <td width="33%" valign="top" align="left">This prevents deadlocks when 
     there are concurrent accesses to the database</td>
     <td width="34%" valign="top" align="left">
     <pre>SQL sample:
update database configuration for SCMDB(*) using LOCKLIST 1000</pre>
     </td>
   </tr>
   <tr>
     <td width="33%" valign="top" align="left">Increase system buffer for long 
     queries</td>
     <td width="33%" valign="top" align="left">This prevents DB2 to cancel 
     queries having lot of parameters</td>
     <td width="34%" valign="top" align="left">
     <pre>SQL Sample:
update database configuration for SCMDB(*) using applheapsz 256 app_ctl_heap_sz 512</pre>
     </td>
   </tr>
 </table>
 <p>(*) The databasename SCMDB is given as an example. Replace it by your 
 own database name.<br>
 (**) Refer to the DB2 documentation for the rights that can be given to 
 a user.</p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h3><a name="CD-ROM Installation on the SCM"></a>CD-ROM Installation on the SCM 
 Server</h3>
 <p>In the rest of this document, INSTALL_PATH will refer to the path of the 
 installation directory (given when running the installation program)<br>
 Once the installation is finished, tools are found under <b>INSTALL_PATH/OS</b> 
 where <b>OS</b> is a directory the name of which is an acronym that depends on the operating system. Refer to [<a href="#References">6</a>] 
to get the current list of operating systems supported and associated acronyms.</p>
 <p>To access SCM commands, you will run</p>
 <blockquote>
   <p>On Unix</p>
   <table class="code">
     <tr>
       <td>
       <pre><tt>&nbsp;. INSTALL_PATH/xxx_a/code/command/tck_init</tt></pre>
       </td>
     </tr>
   </table>
   <p>Note the &#8216;.&#8217; at the beginning</p>
   <p>On Windows</p>
   <table class="code">
     <tr>
       <td>
       <pre><tt>INSTALL_PATH\intel_a\code\command\tck_init.bat</tt></pre>
       </td>
     </tr>
   </table>
   <p>then</p>
   <table class="code">
     <tr>
       <td>
       <pre><tt>tck_profile SCM_adm_V5R12_T12</tt></pre>
       </td>
     </tr>
   </table>
   <p>or</p>
   <table class="code">
     <tr>
       <td>
       <pre><tt>&nbsp;tck_profile V5R12_T12</tt></pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <p>The first TCK is dedicated to the SCM administration and the second one is 
 for all users.<br>
 <u>Do not use them right now</u> because a site profile must be filled in 
 before; this is the purpose of the next section.</p>
 <p>
 <img src="../CAAIcons/images/information.gif" alt="information.gif (174 bytes)" width="31" height="30">TCKs' 
 suffixes that appear in this article might not be those you are using (they 
 depend on the version of CAA-RADE CD-ROM). However the way to install SCM 
 remains the same.</p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h3><a name="SCM Profiles Initialization"></a>SCM Initialization Profiles</h3>
 <p>There are two kinds of profiles: user and administrator profiles.<br>
 The administrator profiles gives access to all user commands plus specific 
 administrative commands.<br>
 The administrator profile is used </p>
 <ul>
   <li>for launching the SCM Monitor</li>
   <li>for launching the SCM File Server</li>
   <li>for launching the Multi-site Transfer Manager</li>
   <li>for accessing administrative commands such as adl_mk_site, adl_mk_tree, 
   adl_mk_root_ws, etc</li>
 </ul>
 <p>The two profiles are generated when unloading the CD-ROM. However they call 
 a &#8220;site&#8221; profile to set information related to the current installation.<br>
 The profile path is </p>
 <ul>
   <li>INSTALL_PATH/<b>OS</b>/code/command/admin/site_profile.sh for UNIX platforms</li>
   <li>INSTALL_PATH\<b>OS</b>\code\command\admin\site_profile.bat for Windows 
   platform.</li>
 </ul>
 <p>Where <b>OS</b> is a directory the name of which is an acronym that depends on the operating system. Refer to [<a href="#References">6</a>] 
to get the current list of operating systems supported and associated acronyms.</p>
 <p>The definition of the user and password to connect to SCM databases will be 
 generated by the adl_admin_site command (see &quot;<a href="CAAWsmAdministration.htm#SCM Databases Connection">SCM 
 Databases Connection</a>&quot;).</p>
 <p><a name="Site Profile"></a>This &quot;site&quot; profile must be edited according to 
 the current installation.<br>
 Here is what is generated by default:</p>
 <table class="code" border="1" cols="2">
   <tr>
     <td bgcolor="#808080">Windows</td>
     <td bgcolor="#808080">UNIX</td>
   </tr>
   <tr>
     <td valign="TOP">
     <pre>rem Following variables must be set up for current site<tt>
set ADL_TMP=C:\TEMP</tt> 
<tt>set ADL_TRACE_DIR=&lt;TRACE_DIR&gt;</tt> 
<tt>set ADL_CENTRAL_DB_ID=</tt> 
<tt>set ADL_MONITOR_DB_ID=</tt> 
<tt>set ADL_MONITOR_PORT=</tt> 
<tt>set ADL_MONITOR_HOSTNAME=
set ADL_DBMS=
set ADL_JAVA_ROOT_PATH=
set ADL_DOC=</tt>
<tt>rem Following variables</tt> <tt>are needed for the underlying DBMS</tt>
<tt>set ADL_LIB_DBMS=
set ADL_ORA_TNS_ADMIN=
set ADL_DB2INSTANCE=</tt></pre>
     </td>
     <td valign="TOP">
     <pre><tt># Following variables must be set up for current site</tt> 
<tt>export ADL_TMP=${ADL_TMP:-/tmp}</tt> 
<tt>export ADL_TRACE_DIR=${ADL_TRACE_DIR:-$HOME/.Adele/log}</tt> 
<tt>export ADL_CENTRAL_DB_ID=&nbsp;</tt> 
<tt>export ADL_MONITOR_DB_ID=&nbsp;</tt> 
<tt>export ADL_MONITOR_PORT=</tt> 
<tt>export ADL_MONITOR_HOSTNAME=
export ADL_DBMS=
export ADL_JAVA_ROOT_PATH=
export ADL_DOC=</tt>
<tt># Following variables are needed for the underlying DBMS</tt>
<tt>export ADL_LIB_DBMS=</tt> 
<tt>export ADL_ORACLE_HOME=</tt>
<tt>export ADL_ORA_NLS33=&nbsp;</tt> 
<tt>export ADL_ORA_TNS_ADMIN=
export ADL_DB2INSTANCE=</tt></pre>
     </td>
   </tr>
 </table>
 <p>ADL_TMP must be set with the path to the directory in which SCM will create 
 temporary files.</p>
 <p>ADL_TRACE_DIR must be set with the path to a directory in which all SCM 
 command traces will be stored.<br>
 <img src="../CAAIcons/images/information.gif" alt="information.gif (174 bytes)" width="31" height="30">Each 
 time the SCM profile will be executed, a trace cleaner will be launched and 
 will remove all traces older than 7 days.</p>
 <p><a name="ADL_CENTRAL_DB_ID"></a>ADL_CENTRAL_DB_ID must be set with the SCM 
 database name: it is the name that has been chosen when creating the database 
 dedicated to the SCM product. </p>
 <ul>
   <li>it is the Oracle SID if you use Oracle as the DBMS. </li>
   <li>it is the logical name specified when creating the database if DB2 is 
   your DBMS.</li>
 </ul>
 <p><a name="ADL_MONITOR_DB_ID"></a>ADL_MONITOR_DB_ID must be set with the SCM 
 database name.</p>
 <p>ADL_MONITOR_PORT must be set with the port number for communicating with the 
 SCM monitor. We advise to use a port greater than 1024 (lower numbers are 
 reserved for system programs).</p>
 <p>ADL_MONITOR_HOSTNAME must be set with the name of the machine where SCM 
 daemons will be running (SCM&nbsp; Monitor, File Server).</p>
 <p>ADL_JAVA_ROOT_PATH: some SCM commands are graphical tools (adl_gui, 
 graphical merger, etc) that require the &quot;java&quot; language to be installed on the 
 user host. Use the ADL_JAVA_ROOT_PATH variable to specify the java location. 
 For Instance, if the java program path is &quot;C:\Program Files\IBM\Java13\jre\bin\java.exe&quot; 
 then the ADL_JAVA_ROOT_PATH variable must be set&nbsp; with &quot;C:\Program 
 Files\IBM\Java13\jre&quot;.<br>
 Note that due to an Oracle bug, the path to the java program must not contain a 
 closing brace &quot;)&quot;. If it is the case (for instance on windows XP 64 bits 
 machines where the 32 bits java runtime is installed into the following path : 
 &quot;c:\program files (x86)\java\jre....&quot;), you must re-install the java runtime so 
 that its path does not contain a closing brace.</p>
 <p>ADL_DOC must be set with the path of the home page of the SCM documentation.
 </p>
 <p>ADL_DBMS must be set with either &quot;Oracle&quot; or &quot;DB2&quot; according to your DBMS.</p>
 <p><a name="ADL_LIB_DBMS"></a>ADL_LIB_DBMS is a path indicating where the DBMS 
 client libraries are located. It can be a single path or several paths 
 separated with ';' on Windows or ':' on UNIX.</p>
 <p>Here are some explanations for finding out what are the different values:</p>
 <table border="1">
   <tr>
     <td>&nbsp;</td>
     <th>Windows</th>
     <th>UNIX</th>
   </tr>
   <tr>
     <th><strong>Oracle</strong></td>
     <td>ADL_LIB_DBMS must be set with the 
     path to a directory containing the Oracle client oci.dll library. This 
     library could be found under the bin directory which is located in the 
     Oracle client installation.<p>ADL_ORA_TNS_ADMIN must be set with the path 
     to the directory containing configuration files such as sqlnet.ora and 
     tnsnames.ora. This directory might be %ORACLE_CLIENT_INSTALL%/network/admin</p>
     <p>ADL_DB2INSTANCE is meaningless when working with Oracle. It can be left 
     as it is.</td>
     <td>The three next variables are used 
     by SCM to access some Oracle files located where Oracle client has been 
     installed.<br>
     Let call $ORACLE_HOME the Oracle client installation root directory.<p>
     ADL_LIB_DBMS must be set with the path to the directory containing Oracle 
     libraries, for instance check under $ORACLE_HOME/lib directory. The SCM 
     product needs the libclntsh.so Oracle client library. Therefore the 
     directory specified in ADL_LIB_DBMS must be a directory containing this 
     library.</p>
     <p>ADL_ORACLE_HOME must be set with the Oracle home directory.</p>
     <p>ADL_ORA_NLS33 must be set with the path to the directory containing 
     Oracle NLS files. This path might be $ORACLE_HOME/ocommon/nls/admin/data</p>
     <p>ADL_ORA_TNS_ADMIN must be set with the path to the directory containing 
     configuration files such as sqlnet.ora and tnsnames.ora. This directory 
     might be $ORACLE_HOME/network/admin</td>
   </tr>
   <tr>
     <th>DB2</th>
     <td>ADL_LIB_DBMS must be set with the 
     path to a directory containing the DB2 client db2cli.dll library.<p>
     ADL_ORA_TNS_ADMIN is meaningless when working with DB2. It can be left as 
     it is.</p>
     <p>ADL_DB2INSTANCE must be set with the name of the DB2 instance (default 
     is DB2).</td>
     <td>ADL_LIB_DBMS must be set with the 
     path to a directory containing the DB2 client libdb2 library.<p>ADL_DB2INSTANCE must be set with the name of the DB2 instance (default 
     is DB2).</p>
     <p>The ADL_ORACLE_HOME, ADL_ORA_NLS33 and ADL_ORA_TNS_ADMIN are meaningless 
     when working with DB2. They can be left as they are.</td>
   </tr>
 </table>
 <p>Once the &#8220;site&#8221; profile has been correctly updated, SCM commands are 
 available after having executed either the user or the administrator profile. 
 Note that they are not executed directly, these profiles are declared in 
 appropriate TCKs (Tool Configuration Key).&nbsp; The tck_init profile is used 
 for setting up the current environment to give access to TCK commands.</p>
 <p>On Windows, run:</p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre><tt>INSTALL_PATH\<b>OS</b>\code\command\tck_init.bat</tt></pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <p>On UNIX, run:</p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre><tt>. INSTALL_PATH/<b>OS</b>/code/command/tck_init</tt> </pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <p>Where <b>OS</b> is a directory the name of which is an acronym that depends on the operating system. Refer to [<a href="#References">6</a>] 
to get the current list of operating systems supported and associated acronyms.</p>
	<p>Then the tck_list command allows to display all available TCKs</p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre><tt>tck_list</tt> 
<tt>SCM_adm_V5R12_T12 SCM_adm_V5R12_T12</tt>
<tt>V5R12_T12 Mkmk_V5R12_T12 SCM_V5R12_T12</tt></pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <p>Normally, after having unloaded the SCM CD-ROM, this tck_list command should 
 display 2 TCKs (or 2 new TCKs) whose identifiers are: </p>
 <ul>
   <li>V5R12_T12: it corresponds to the tools found on the CD-ROM and will be 
   the TCK to be used by all users</li>
   <li>SCM_adm_V5R12_T12: it is an administrative TCK and give access to SCM 
   administrator commands (in addition to user commands)</li>
 </ul>
 <p>Examples on one UNIX platform<br>
 Here are the commands any user must execute to access SCM commands:</p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre><tt>. INSTALL_PATH/xxx_a/code/command/tck_init</tt>
<tt>tck_profile V5R12_T12</tt></pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <p>Here are the commands to execute to access SCM administrator commands:</p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre><tt>. INSTALL_PATH/xxx_a/code/command/tck_init</tt> 
<tt>tck_profile SCM_adm_V5R12_T12</tt></pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <p>Remark: as TCK identifiers are built from CATIA release (V5R12, V5R13, etc) 
 and build version (T12, T13, etc), it is possible that the real identifiers are 
 not those used in this document.</p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h3><a name="Customizing the Oracle Instance for SCM"></a>Customizing the 
 Database for SCM</h3>
 <p>SCM provides a program for generating SQL scripts that will be executed on 
 the SCM database (see variables <a href="#ADL_CENTRAL_DB_ID">ADL_CENTRAL_DB_ID</a> 
 and <a href="#ADL_MONITOR_DB_ID">ADL_MONITOR_DB_ID</a> in the &#8220;site&#8221; profile 
 that was edited in the previous installation step).</p>
 <p>The database will contain three sets of tables that will be created by three 
 different SQL scripts. </p>
 <ul>
   <li>Using Oracle, these tables will be created in « table spaces » that are 
   defined by a fourth SQL script</li>
   <li>Using DB2, we do not provide any SQL script for creating &quot;table spaces&quot; 
   since they have been created when creating the database.<br>
   <img src="../CAAIcons/images/information.gif" alt="information.gif (174 bytes)" width="31" height="30"> 
   Using DB2, only one &quot;table space&quot; will be used for storing SCM tables. The 
   name of this &quot;table space&quot; is the default proposed by DB2, that is 
   &quot;USERSPACE1&quot;. If you do not want to use this name, you will have to edit the 
   SQL files and to replace each occurrence of &quot;USERSPACE1&quot; by your own &quot;table 
   space&quot; name.</li>
 </ul>
 <p>To access the SQL generator program, one must use the administrator TCK&nbsp; 
 SCM_adm_V5R12_T12 that gives access to administrator commands and especially to 
 the <strong>adl_admin_site</strong> command. This command generates 5 kinds of 
 SQL programs for Oracle and 4 kinds of SQL programs for DB2. </p>
 <ul>
   <li>InitInstanceXXX.sql is used for creating&nbsp; « table spaces » and the 
   Oracle account for the SCM administrator (Oracle only).</li>
   <li>CreateTablesXXX.sql is used for creating tables in the « table space(s) »</li>
   <li>DropTablesXXX.sql is used for deleting tables (only in case of restarting 
   an installation)</li>
   <li>EstimateStatisticsXXX.sql must be run regularly on the SCM database in 
   order to keep good performances</li>
   <li>Oracle.&lt;date&gt;.txt or Db2.&lt;date&gt;.txt is used by the adl_upgrade_db command 
   for migrating an existing database.</li>
 </ul>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h4><a name="Using Oracle"></a>Using Oracle</h4>
 <p><strong>the InitInstanceXXX.sql program requires parameters.</strong> </p>
 <ul>
   <li>First parameter = user to connect to database. Use &quot;adl&quot; if you don't 
   defined your own user.</li>
   <li>Second parameter = password to connect to database. Use &quot;adl&quot; if you 
   don't defined your own password.</li>
   <li>Third parameter = path to the directory where the program will create 
   four « table spaces » used for storing persistent data (tables).</li>
   <li>Fourth parameter = path to the directory where the program will create 
   four « table spaces » used for storing persistent data (indexes).</li>
   <li>Fifth parameter = path to the directory where the program will create a « 
   table space » for storing persistent data.</li>
 </ul>
 <p>Example:</p>
 <table class="code">
   <tr>
     <td>
     <pre><tt>mkdir /SCM_DB/TBS_DATA /SCM_DB/TBS_IDX /SCM_DB/TBS_TMP</tt></pre>
     <pre><tt>InitInstanceXXX.sql db_user db_password /SCM_DB/TBS_DATA /SCM_DB/TBS_IDX /SCM_DB/TBS_TMP
</tt></pre>
     </td>
   </tr>
 </table>
 <p>For performance considerations it is advised to locate (at least) /SCM_DB/TBS_DATA 
 and /SCM_DB/TBS_IDX on different disks.</p>
 <p>
 <img src="../CAAIcons/images/hand.gif" nosavewidth= "31"height= "15">  
 Only one InitInstanceXXX.sql program must be executed on the Oracle instance &#8211; 
 whatever it is (Monitor, cdb , dept).<br>
 Conversely the 3 CreateTablesXXX.sql programs must be executed.<br>
 InitInstanceXXX.sql must be used first, then execute the three 
 CreateTablesXXX.sql programs.</p>
 <p>
 <img src="../CAAIcons/images/information.gif" alt="information.gif (174 bytes)" width="31" height="30"> 
 Only the InitInstanceXXX.sql script requires parameters.</p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h4><a name="Using DB2"></a>Using DB2</h4>
 <p>The CreateTablesXXX.sql does not require any parameter. SCM tables are to be 
 created in the DB2 default &quot;table space&quot; named &quot;USERSPACE1&quot;. If you do not want 
 to use this default table space, edit the SQL files and replace the 
 &quot;USERSPACE1&quot; string by your own &quot;table space&quot; name.</p>
 <p>Example:</p>
 <table class="code">
   <tr>
     <td>
     <pre><tt>CreateTableXXX.sql</tt></pre>
     </td>
   </tr>
 </table>
 <p>
 <img src="../CAAIcons/images/hand.gif" nosavewidth= "31"height= "15">  
 The 3 CreateTablesXXX.sql programs must be executed even one datatabase is used 
 for storing the three kinds of data (monitor, cdb, dept).</p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h4><a name="How to generate the SQL programs?"></a>How to Generate the SQL 
 Programs?</h4>
 <p>We advise to use &#8220;small&#8221; as database size for the following commands if we 
 consider that we are going to create a database for managing at most 50 
 workspaces and up to 5000 files in a workspace.</p>
 <p>Run the three following commands to generate all the SQL programs (UNIX 
 samples):</p>
 <b>
 <p>MONITOR</b></p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre><tt>adl_admin_site &#8211;db <i>SID</i> &#8211;db_user adl &#8211;db_type monitor &#8211;db_size <i>small</i> &#8211;init_db &#8211;target_dir <i>/tmp</i></tt></pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <p><b>CDB (Central Database)</b></p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre><tt>adl_admin_site &#8211;db <i>SID</i> &#8211;db_user adl &#8211;db_type cdb &#8211;db_size <i>small</i> &#8211;init_db &#8211;target_dir <i>/tmp</i></tt></pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <p><b>DEPT (Departmental Database)</b></p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre><tt>adl_admin_site &#8211;db <i>SID</i> &#8211;db_user adl &#8211;db_type dept &#8211;db_size <i>small</i> &#8211;init_db  &#8211;target_dir <i>/tmp</i></tt></pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <h4><a name="How to use the SQL programs?"></a>How to Use the SQL Programs?</h4>
 <p>Connect to the target instance using its logical name and being the 
 administrator and execute the SQL programs: </p>
 <ul>
   <li>when working with Oracle, the sqlplus program can be used for executing 
   the SQL programs</li>
   <li>when working with DB2, the db2 program can be used for executing the SQL 
   programs</li>
 </ul>
 <p>Examples using sqlplus (found in the working environment) </p>
 <ul>
   <table class="code">
     <tr>
       <td>
       <pre><tt>mkdir /SCM_DB/TBS_DATA /SCM_DB/TBS_IDX /SCM_DB/TBS_TMP</tt></pre>
       <pre><tt>cd /tmp</tt></pre>
       <pre><tt>sqlplus system/manager@SID @InitInstanceMonitor.sql adl adl /SCM_DB/TBS_DATA /SCM_DB/TBS_IDX /SCM_DB/TBS_TMP</tt>
<i><tt>...</tt></i></pre>
       </td>
     </tr>
   </table>
 </ul>
 <ul>
   <li><i>system </i>is the Oracle administrator login</li>
   <li><i>manager </i>is the password for the &#8220;system&#8221; login</li>
   <li><i>SID </i>is the SID of the Oracle instance to connect to</li>
   <li><i>CreateTablesMonitor.sql </i>is the program to execute</li>
   <li><i>adl adl /SCM_DB/TBS_DATA /SCM_DB/TBS_IDX /SCM_DB/TBS_TMP</i> are the 
   parameters of the program to execute</li>
 </ul>
 <ul>
   <table class="code">
     <tr>
       <td>
       <pre><tt>sqlplus adl/adl@SID @CreateTablesMonitor.sql</tt> 
<tt>&#8230;</tt> 
<tt>sqlplus adl/adl@SID @CreateTablesCdb.sql</tt> 
<tt>&#8230;</tt> 
<tt>sqlplus adl/adl@SID @CreateTablesDept.sql</tt></pre>
       </td>
     </tr>
   </table>
 </ul>
 <p>Note: the two last programs may produce errors indicating that some tables 
 already exist. Do not worry about them because the 3 last programs are designed 
 for being executed on 3 different databases and then some tables are duplicated 
 between those databases. When only one database is used for SCM, there is no 
 duplication and the same table cannot be created more than one time.</p>
 <p>Examples using the db2 application (found in the working environment)</p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre><tt>db2 connect to &lt;database_name&gt; user &lt;login_name&gt; using &lt;password&gt;
...</tt></pre>
       <pre><tt>db2 -tvf /tmp/CreateTablesMonitor.sql</tt>
<i><tt>...</tt></i></pre>
       <pre><tt>db2 -tvf /tmp/CreateTablesCdb.sql
...</tt></pre>
       <pre><tt>db2 -tvf /tmp/CreateTablesDept.sql</tt></pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h3><a name="Migrating an existing SCM database"></a><b>Migrating an Existing 
 SCM Database</b></h3>
 <p>This section explains how to migrate an existing SCM database in order to 
 manage it with a new SCM version. You can skip this step if you are starting 
 with SCM.</p>
 <p>SCM provides the adl_upgrade_db command whose purpose is to connect to the 
 existing databases and to learn about their current levels. Depending on these 
 levels, the command will execute some SQL programs to migrate the database 
 tables to a level suitable for the current version of SCM. A migration falls 
 down in two steps: </p>
 <ul>
   <li>generate the SQL programs</li>
   <li>run adl_upgrade_db which will use the SQL programs</li>
 </ul>
 <p><b>
 <img border="0" src="../CAAIcons/images/caution.gif" width="32" height="32">V5R8 
 specific note</b>: if you are upgrading a database that has been created by a 
 V5R7 version of SCM, it is needed to
 <a href="#Setting up and Launching the SCM File Server">start the SCM File 
 Server(s)</a> before running the adl_upgrade_db command because it needs to 
 communicate with it.&nbsp;</p>
 <p>
 <img border="0" src="../CAAIcons/images/caution.gif" width="32" height="32"> 
 Take care that you cannot go back from a migration except by restoring a backup 
 of your database. Note also that the whole SCM site must be managed by the same 
 version of SCM. For example, you cannot have a department database managed by a 
 version of SCM while the central database is managed by another version of SCM 
 (except if they are compatible, that is to say there is no migration to do 
 between the two versions).</p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h4><a name="How to Generate the SQL Programs2"></a><b>How to Generate the SQL 
 Programs?</b></h4>
 <p>Like for a database initialization they are generated by the adl_admin_site 
 command. However less parameters are needed since the databases exist and are 
 referenced in the current working environment.<br>
 The parameters are: </p>
 <ul>
   <li>the database administrator</li>
   <li>the size of the SCM project (can be small | medium | large)</li>
 </ul>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre><tt>adl_admin_site &#8211;db_user <em>adl</em> &#8211;db_size <i>small</i> &#8211;init_db  &#8211;target_dir <i>/tmp</i></tt></pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <p>Once the command is terminated, the adl_upgrade_db command can be launched 
 by specifying the &lt;-target_dir&gt; directory in which it will look for SQL files. 
 The command will connect to the central database and will retrieve the list of 
 department databases to be upgraded too. The command will automatically compare 
 the current level of each database with the new level and will apply the 
 appropriate SQL programs to reach this level.</p>
 <p>
 <img src="../CAAIcons/images/caution.gif" alt="caution.gif (174 bytes)" width="32" height="32"> 
 Once the migration will be started, the previous version of SCM won't be used 
 anymore. It is advised to backup all databases before starting the migration.</p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre><tt>adl_upgrade_db -dir <em>/</em><i>tmp
...</i></tt></pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h4><a name="Structure of Migration Files"></a><b>Structure of Migration Files</b></h4>
 <p>The files generated by the adl_admin_site command can be edited but the 
 following syntax must be respected: </p>
 <ul>
   <li>lines between [] cannot be changed</li>
   <li>lines starting with -- are comments</li>
   <li>other lines are SQL commands</li>
 </ul>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre>$ more /tmp/Oracle.2001_10_08.txt</pre>
       <pre>[Central + Departmental Step 1]

[Central Step 1]

[Departmental Step 2]

-- Add new columns in workspace table

[Departmental Step 3]

-- Drop columns in multi_tree_ws table

RENAME adl.multi_tree_ws TO adl.multi_tree_ws1;

[Departmental Step 3]

CREATE TABLE adl.multi_tree_ws
(
	id                 VARCHAR2(20) NOT NULL,
	case_name          VARCHAR2(32) NOT NULL,
	lower_name         VARCHAR2(32) NOT NULL,
	is_deleted         VARCHAR2(1)  NOT NULL,
	nb_linked_ws       NUMBER(10)   NOT NULL,
	native_database    VARCHAR2(20) NOT NULL,
	merge_cmd_end      VARCHAR2(1)  NOT NULL,
	case_tck           VARCHAR2(32)         ,
	lower_tck          VARCHAR2(32)         ,
	creation_hist_evt  VARCHAR2(20) NOT NULL
) PCTFREE 10 PCTUSED 70
...</pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <p>
 <img src="../CAAIcons/images/caution.gif" alt="caution.gif (174 bytes)" width="32" height="32"> 
 SQL programs can be seen in order to let the database administrator knows what 
 will be changed during the migration. Obviously any changes must be done with 
 care to avoid any crash of SCM commands afterwards.</p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h3><a name="Launching the SCM Monitor"></a>Launching the SCM Monitor</h3>
 <p>The SCM monitor must always be running and is needed by all commands.<br>
 Here are the commands to execute for launching the SCM Monitor.</p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h4><a name="Monitor UNIX platform"></a>UNIX Platform</h4>
 <p>1/ Set up the working environment for accessing administrator commands</p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre><tt>. INSTALL_PATH/xxx_a/code/command/tck_init</tt> 
<tt>tck_profile SCM_adm_V5R12_T12</tt></pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <p>2/ Launch the SCM Monitor</p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre><tt>adl_monitor &#8211;port $ADL_MONITOR_PORT &#8211;db $ADL_MONITOR_DB_ID</tt></pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <ul>
   <li>$ADL_MONITOR_PORT is the port number specified in the
   <a href="#Site Profile">&#8220;site&#8221; profile</a></li>
   <li>$ADL_MONITOR_DB_ID is the name of the database managing Monitor&#8217;s 
   information and which has been specified in the <a href="#Site Profile">
   &#8220;site&#8221; profile</a></li>
 </ul>
 <p>3/ To check that the SCM Monitor is running, you can use the adl_mo_admin 
 command:</p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre><tt>adl_mo_admin -ping
Pinging host ... in port: ...
Replay from ... time 2ms
...

#ERR# ADLMo - 0120: The connection with monitor on host: ... and port number: ... has been successfully tested.</tt></pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h4><a name="Monitor Windows platform"></a>Windows Platform</h4>
 <p>Like on UNIX it is possible to launch the SCM Monitor by opening a terminal 
 window (Command Prompt), setting up the environment and running the <strong>
 adl_monitor</strong> command. Here is an example of the commands to be used:</p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre><tt>INSTALL_PATH\intel_a\code\command\tck_init</tt>.bat
<tt>tck_profile SCM_adm_V5R12_T12
adl_monitor -port %ADL_MONITOR_PORT% -db %ADL_MONITOR_DB_ID% &gt; C:\TEMP\Log_Monitor.txt 2&gt;&amp;1</tt></pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <p>However this way of running the Monitor needs to open a window and to let it 
 open, otherwise the Monitor would be killed by the system.</p>
 <p>To run the Monitor in background like a daemon on UNIX, it is possible to 
 create a Windows Service for the Monitor. Consult the Administration article 
 for learning about SCM services [<a href="#Ref2">2</a>].</p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h3><a name="Declaring the site"></a>Declaring the Site</h3>
 <p>Actually there is only one site that can be declared in SCM but it must be 
 and this is the first information to be entered before starting with SCM. This 
 is done using the adl_mk_site command and specifying a string like an 
 identifier. Note that this site identifier will be displayed afterwards to 
 identify the origin of object changes (in case of transfer of changes between 
 different sites).</p>
 <blockquote>
   <p>Example:</p>
 </blockquote>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre>adl_mk_site DS_Headquarters</pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h3><a name="DeclaringDatabases"></a>Declaring the Database(s)</h3>
 <p>This step consists in declaring to SCM the name(s) of the database(s) that 
 will be used for managing SCM data. You have at least one database to declare, 
 the one specified in the environment variable <a href="#ADL_CENTRAL_DB_ID">
 ADL_CENTRAL_DB_ID</a>. In the case where only one database is used for managing 
 all SCM data, it must be declared as being as the same time a &quot;central&quot;, a 
 &quot;monitor&quot; and a &quot;departmental&quot; database ; this is done by the following command 
 (UNIX sample)</p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre>adl_mk_db $ADL_CENTRAL_DB_ID -central -monitor -dept</pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <p>
 <img border="0" src="../CAAIcons/images/caution.gif" width="32" height="32"> 
 If you are upgrading a database that have been used with a version of SCM older 
 than V5R11, the <a href="#Migrating an existing SCM database">adl_upgrade_db</a> 
 command should have declared automatically the existing database(s). In that 
 case, use the adl_ls_db command to display the characteristics and use the 
 adl_set_db command to change them if they don't correspond exactly to your 
 installation.</p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h3><a name="Setting up and Launching the SCM File Server"></a>Setting Up and 
 Launching the SCM File Server</h3>
 <p>Before to launch the SCM File Server, it is needed to </p>
 <ol>
   <li>declare it into the SCM database</li>
   <li>format the dedicated repository</li>
 </ol>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h4><a name="UNIX Lauching File Server"></a>UNIX Platform</h4>
 <p>1/ Set up the working environment for accessing administrator commands</p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre><tt>. INSTALL_PATH/xxx_a/code/command/tck_init</tt> 
<tt>tck_profile SCM_adm_V5R12_T12</tt></pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <p>2/ Declare the File Server</p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre><tt>adl_mk_contents_server -cs_host &lt;hostname&gt; -cs_port &lt;port_number&gt; -desc &lt;a short description for identifying this File Server&gt;</tt></pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <blockquote>
   <ul>
     <li><em>&lt;hostname&gt;</em> is the name of the current host</li>
     <li><em>&lt;port_number&gt;</em> must be a port greater than 1024 and not already 
     used by another process (of course it must be different than the one chosen 
     for the SCM Monitor).</li>
   </ul>
 </blockquote>
 <p>3/ Format the File Server repository</p>
 <p>The file server stores its data in two directories that <u>must be local to 
 the SCM server </u>These directories must be created empty then the following 
 command must be executed:</p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre><tt>adl_file_server -data &lt;path_to_the_first_directory&gt; -files &lt;path_to_the_second_directory&gt;
<strong>-format</strong> -port &lt;port_number&gt;</tt></pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <blockquote>
   <ul>
     <li><em>-format </em>option is used the first time to specify that the two 
     directories are empty and must be formatted for further use.</li>
     <li><em>&lt;port_number&gt;</em> is the port chosen when declaring the File 
     Server.</li>
   </ul>
 </blockquote>
 <p>Here is an example of the use of this command:</p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre>$&gt; mkdir /SCM/FileServer
$&gt; mkdir /SCM/FileServer/data /SCM/FileServer/files
$&gt; adl_file_server -port 23451 &#8211;data /SCM/FileServer/data -files /SCM/FileServer/files -format
$&gt;</pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <p>4/ Start the File Server</p>
 <p>Once the environment has been set up, the way the File Server is started is 
 the same as when formatting its repository except that the <em>-format </em>
 option <u>is not used</u>.</p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre><tt>adl_file_server -data &lt;path_to_the_first_directory&gt; -files &lt;path_to_the_second_directory&gt;
-port &lt;port_number&gt;</tt></pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <p>5/ To check that the File Server is ready to respond</p>
 <p>Use the <strong>adl_fs_admin</strong> command with the -ping option:</p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre>adl_fs_admin -ping <tt>-port &lt;port_number&gt;</tt></pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <p>
 <img src="../CAAIcons/images/information.gif" alt="information.gif (174 bytes)" width="31" height="30"> 
 The command does not display any message and return 0 as error code when the 
 file Server is running, otherwise a error message is displayed and the error 
 code is greater than 0.</p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h4><a name="Windows Launching File Server"></a>Windows Platform</h4>
 <p>Like for the UNIX platform, the File Server must be registered using the
 <strong>adl_mk_contents_server</strong> command, then the repository 
 directories must be formatted and finally the File Server can be launched using 
 the <strong>adl_file_server</strong> command.</p>
 <p>However it is advised to use a Windows service for launching the File 
 Server since using a terminal window needs that this window remains open, 
 otherwise the File Server would be killed by the system. Consult the 
 &quot;Administration&quot; article for learning about SCM services [<a href="#Ref2">2</a>].</p>
 <p>Here are the steps to go through on Windows platform.</p>
 <p>1/ Set up the working environment for accessing administrator commands</p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre><tt>. INSTALL_PATH\intel__a\code\command\tck_init.bat</tt> 
<tt>tck_profile SCM_adm_V5R12_T12</tt></pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <p>2/ Declare the File Server</p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre><tt>adl_mk_contents_server -cs_host &lt;hostname&gt; -cs_port &lt;port_number&gt; -desc &lt;a short description for identifying this File Server&gt;</tt></pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <blockquote>
   <ul>
     <li><em>&lt;hostname&gt;</em> is the name of the current host</li>
     <li><em>&lt;port_number&gt;</em> must be a port greater than 1024 and not already 
     used by another process (of course it must be different than the one chosen 
     for the SCM Monitor).</li>
   </ul>
 </blockquote>
 <p>3/ Format the File Server repository</p>
 <p>The file server stores its data in two directories that <u>must be local to 
 the SCM server </u>These directories must be created empty then the following 
 command must be executed:</p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre><tt>mkdir &lt;path_to_the_first_directory&gt;</tt></pre>
       <pre><tt>mkdir &lt;path_to_the_second_directory&gt;</tt></pre>
       <pre><tt>adl_file_server -data &lt;path_to_the_first_directory&gt; -files &lt;path_to_the_second_directory&gt;
<strong>-format</strong> -port &lt;port_number&gt;</tt></pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <blockquote>
   <ul>
     <li><em>-format </em>option is used the first time to specify that the two 
     directories are empty and must be formatted for further use.</li>
     <li><em>&lt;port_number&gt;</em> is the port chosen when declaring the File 
     Server.</li>
   </ul>
 </blockquote>
 <p>Here is an example of the use of this command:</p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre>$&gt; mkdir E:\SCM\FileServer
$&gt; mkdir E:\SCM\FileServer\data E:\SCM\FileServer\files
$&gt; adl_file_server -port 23451 &#8211;data E:\SCM\FileServer\data -files E:\SCM\FileServer\files -format
$&gt;</pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <p>4/ Start the File Server</p>
 <p>Once the environment has been set up, the way the File Server is started is 
 the same as when formatting its repository except that the <em>-format </em>
 option <u>is not used</u>.</p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre><tt>adl_file_server -data &lt;path_to_the_first_directory&gt; -files &lt;path_to_the_second_directory&gt;
-port &lt;port_number&gt;</tt></pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <p>5/ To check that the File Server is ready to respond</p>
 <p>Use the <strong>adl_fs_admin</strong> command with the -ping option:</p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre><tt>adl_fs_admin -ping -port &lt;port_number&gt;</tt></pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <p>
 <img src="../CAAIcons/images/information.gif" alt="information.gif (174 bytes)" width="31" height="30"> 
 The command does not display any message and return 0 as error code when the 
 file Server is running, otherwise a error message is displayed and the error 
 code is greater than 0.</p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h3><a name="launching the Multi-site Transfer Manager"></a><b>Launching the 
 Multi-site Transfer Manager</b></h3>
 <p>The Multi-Site Transfer Manager is needed only when transferring data 
 between different SCM installations.<br>
 Here are the commands to execute for launching the Transfer Manager.</p>
 <h4><a name="Account"></a>Running Account and Multi-site Server</h4>
 <p>Whatever the current operating system is, the account used for starting the 
 SCM Multi-site Transfer Manager is the one that will be used when running SCM 
 commands afterwards. For that reason, we advise the SCM administrator to use an 
 account that is granted for managing SCM workspaces but which is <u>not</u> the 
 SCM administrator account.</p>
 <p>In addition, the manager accepts commands other than SCM commands (see 
 adl_transfer_client [5]). To reduce the risk of executing undesirable commands, 
 it is possible to install the manager on a specific host with limited access, 
 for instance by refusing connections on any port but the one used for starting 
 it. The default list of authorized commands is given in the file INSTALL_PATH/xxx_a/code/command/admin/AuthorizedCommands.txt.</p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h4><a name="Monitor UNIX platform"></a>
 <a name="Unix platform Transfer Manager"></a>UNIX Platform</h4>
 <p>1/ Set up the working environment for accessing administrator commands</p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre><tt>. INSTALL_PATH/xxx_a/code/command/tck_init</tt> 
<tt>tck_profile SCM_adm_V5R12_T12</tt></pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <p>2/ Use the adl_start_transfer_mngr.sh shell for starting the Multi-site 
 Transfer Manager (the port used here is given as an example)</p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre><tt>adl_start_transfer_mngr.sh &#8211;port 23452 </tt></pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h4><a name="Windows platform Transfer Manager"></a>Windows Platform</h4>
 <p>Like on UNIX it is possible to launch the Multi-site Transfer Manager by 
 opening a terminal window (Command Prompt), setting up the environment and 
 running the adl_transfer_mngr command. Here is an example of the commands to be 
 used:</p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre><tt>INSTALL_PATH\intel_a\code\command\tck_init</tt>.bat
<tt>tck_profile SCM_adm_V5R12_T12
adl_transfer_mngr -port 23452 -cmdfile %ADL_ADMIN_PATH%\AuthorizedCommands.txt</tt></pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <p>However this way of running the manager needs to open a window and to let it 
 open, otherwise the process would be killed by the system.</p>
 <p>To run the Multi-site Transfer Manager in background like a daemon on UNIX, 
 it is possible to create for it a Windows Service. Consult the 
 Administration article for learning about SCM services [<a href="#Ref2">2</a>].</p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h3><a name="Creating the First Workspace Tree"></a>Creating the First 
 Workspace Tree</h3>
 <p>Once the Monitor and the File Server started, we can create the first tree 
 using the <strong>adl_mk_tree</strong> command.</p>
 <p>Once the tree created, we must create the first workspace that will be the 
 root workspace of the workspace tree. We must use the <strong>adl_mk_root_ws</strong> 
 for creating the first workspace (the others will be creating using the <strong>
 adl_mk_ws </strong>command).</p>
 <p>The adl_mk_tree and adl_mk_root_ws are considered as administrative commands 
 and thus are available only when executing the command
 <code>tck_profile SCM_adm_V5R12_T12</code>, i.e. 
 the TCK giving access to administrator commands</p>
 <p>Some help is available for each command by running the command with the &#8211;h 
 option, for instance:</p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre>adl_mk_tree &#8211;h 
...</pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <p>Refer to the &#8220;Workspace Management&#8221; paper [<a href="#Ref3">3</a>] in the 
 CAA-RADE V5 online documentation for learning more about creating and 
 populating a workspace.</p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h3><a name="Using the EstimateStatisticsXXX.sql scripts"></a>Using the 
 EstimateStatisticsXXX.sql Programs</h3>
 <p>These files have been generated using the
 <a href="#How to generate the SQL programs?">adl_admin_site</a> command when 
 customizing the database instance for SCM. </p>
 <ul>
   <li>EstimateStatisticsMonitor.sql for the database that stores information 
   for the monitor</li>
   <li>EstimateStatisticsCdb.sql for the database that stores site information</li>
   <li>EstimateStatisticsDept.sql for the department database</li>
 </ul>
 <p>The database administrator must execute these files once a week in order to
 </p>
 <ul>
   <li>keep good performances of the database (for both Oracle and DB2)</li>
   <li>prevent a wrong result from some queries when using Oracle 8.0.5
   <p align="right">[<a href="#Top">Top</a>]</li>
 </ul>
 <h3><a name="Installing a SCM Client Host"></a>Installing a SCM Client Host</h3>
 <p>Installing the SCM product on a client consists in downloading the CD-ROM, 
 then editing the &quot;site&quot; profile <a href="#SCM Profiles Initialization">like on 
 the SCM server</a>.</p>
 <p>In fact the main thing to take care of is the location of the DBMS client 
 libraries. If they are located in the same directories as for the SCM server, 
 the server's &quot;site&quot; profile can be reused for clients, otherwise another one 
 must be defined for specifying the new locations.</p>
 <p>Each user must execute tck_init, then tck_profile to access SCM user 
 commands.</p>
 <h4><a name="SCM Client UNIX Platform"></a>UNIX Platform</h4>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre><tt>. INSTALL_PATH/<b>OS</b>/code/command/tck_init</tt> 
tck_profile <tt>V5R12_T12</tt></pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <blockquote>
   <p>Where <b>OS</b> is a directory the name of which is an acronym that depends on the operating system. Refer to [<a href="#References">6</a>] 
to get the current list of operating systems supported and associated acronyms.</p>
 </blockquote>
 <h4><a name="SCM Client Windows Platform"></a>Windows Platform</h4>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre><tt>INSTALL_PATH\<b>OS</b>\code\command\tck_init</tt>.bat
tck_profile <tt>V5R12_T12</tt></pre>
       </td>
     </tr>
   </table>
 	<p>Where <b>OS</b> is a directory the name of which is an acronym that depends on the operating system. Refer to [<a href="#References">6</a>] 
to get the current list of operating systems supported and associated acronyms.</p>
 </blockquote>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h3><a name="Trouble"></a>Troubleshooting</h3>
 <p>If either the monitor, the file server or the transfer manager seems to have 
 some problems, traces can be found in the temporary directory of the host where 
 they have been started.</p>
 <p>On UNIX platform</p>
 <p>All daemons print traces directly in the window where they are started. It's 
 up to the SCM administrator to decide to redirect them into a dedicated trace 
 file.</p>
 <p>On Windows platform</p>
 <p>Where the daemons are started using services, traces are automatically 
 redirected into specific files that are located in the directory specified by 
 the variable ADL_TMP. Under this directory, there is a specific trace file for 
 each daemon:</p>
 <ul>
   <li>for the monitor, the trace file is &quot;Log_SCM_Monitor_&lt;TCK&gt;.txt&quot;&nbsp; 
   where &lt;TCK&gt; is the corresponding TCK (for instance <tt>V5R12_T12</tt>)</li>
   <li>for the file server, the trace file is &quot;Log_SCM_FCS_&lt;TCK&gt;.txt&quot; where &lt;TCK&gt; 
   is the corresponding TCK (for instance <tt>V5R12_T12</tt>)</li>
   <li>for the transfer manager, the trace file is &quot;Log_SCM_TMANAGER_&lt;TCK&gt;.txt&quot; 
   where &lt;TCK&gt; is the corresponding TCK (for instance <tt>V5R12_T12</tt>)</li>
 </ul>
 <p>For example, to see the traces of the SCM monitor on Windows platform:</p>
 <blockquote>
   <table class="code">
     <tr>
       <td>
       <pre><tt>E:\&gt; INSTALL_PATH\intel_a\code\command\tck_init.bat
E:\&gt; tck_profile SCM_adm_V5R12_T12</tt></pre>
       <pre><tt>E:\&gt; cd /d %ADL_TMP%</tt></pre>
       <pre><tt>C:\TEMP\&gt; type Log_SCM_TMANAGER_</tt><tt>V5R12_T12.txt
...</tt></pre>
       </td>
     </tr>
   </table>
 </blockquote>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h3><a name="In Short"></a>In Short</h3>
 <p>The SCM product is installed on the SCM server machine in four main steps:</p>
 <ol>
   <li>customizing the SCM profile by editing the &quot;site&quot; profile</li>
   <li>customizing the database instance by executing SQL programs</li>
   <li>launching the Monitor and File Server daemons</li>
   <li>creating the first tree and root workspace</li>
 </ol>
 <p>Once the server side installation completed, the client side can be 
 installed on each client host by downloading the CD-ROM and editing the &quot;site&quot; 
 profile according to the database used and the characteristics of the SC 
 installation on the server side.</p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <hr>
 <h3><a name="References"></a>References</h3>
 <table border="0" width="100%">
   <tr>
     <td valign="TOP"><a name="Ref1"></a>[<a name="1">1</a>]</td>
     <td>
     <a href="../CAATckTechArticles/CAATckSetEnvironment.htm">
     Using TCK commands for setting up the environment</a></td>
   </tr>
   <tr>
     <td valign="TOP"><a name="Ref2"></a>[<a name="2">2</a>]</td>
     <td><a href="CAAWsmAdministration.htm#Using Windows Services1">Using SCM 
     services on Windows</a></td>
   </tr>
   <tr>
     <td valign="TOP"><a name="Ref3"></a>[<a name="3">3</a>]</td>
     <td><a href="CAAWsmWsManagement.htm">Creating and populating a workspace</a></td>
   </tr>
   <tr>
     <td valign="TOP"><a name="Ref4"></a>[4]</td>
     <td><a href="../CAAWsmQuickRefs/CAAWsmRules.htm">Rules: What is 
     authorized and what is prohibited</a></td>
   </tr>
   <tr>
     <td valign="TOP"><a name="Ref6"></a>[5]</td>
     <td><a href="../CAAWsmQuickRefs/CAAWsmTransferClient.htm">
     adl_transfer_client: connecting to the SCM Multi-site Transfer Manager</a></td>
   </tr>
   <tr>
     <td valign="TOP">[6]</td>
     <td><a href="../CAADocUseCases/CAADocRunSample.htm">
	Building and Launching a CAA V5 Use Case</a></td>
   </tr>
 </table>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <hr>
 <!---------------------------------------------------------------------------->
 <table border="0" width="100%">
   <tr>
     <td colspan="2"><a name="History"></a><b><i>History</i></b></td>
   </tr>
   <tr>
     <td valign="TOP">Version: <b>6</b> [Oct 2003]</td>
     <td valign="TOP">&#8226; Adding ADL_ORACLE_HOME in 
     SCM Initialization Profiles</td>
   </tr>
   <tr>
     <td valign="TOP">Version: <b>5</b> [Jul 2003]</td>
     <td valign="TOP">&#8226; Adding ADL_ORA_TNS_ADMIN in 
     SCM Initialization Profiles</td>
   </tr>
   <tr>
     <td valign="TOP">Version: <b>4</b> [Jan 2003]</td>
     <td valign="TOP">&#8226; Declaring SCM databases (adl_mk_db, 
     adl_ls_db, adl_set_db)</td>
   </tr>
   <tr>
     <td valign="TOP">Version: <b>3</b> [Oct 2001]</td>
     <td valign="TOP">&#8226; Upgrade of database and 
     Multi-site support</td>
   </tr>
   <tr>
     <td valign="TOP">Version: <b>2</b> [Apr 2001]</td>
     <td valign="TOP">&#8226; SCM installation for DB2</td>
   </tr>
   <tr>
     <td valign="TOP">Version: <b>1</b> [Jan 2001]</td>
     <td valign="TOP">&#8226; Document created</td>
   </tr>
   <tr>
     <td valign="TOP" colspan="2">
     <p align="right">[<a href="#Top">Top</a>]</td>
   </tr>
 </table>
 <hr>
 <p><i>Copyright © 2000, Dassault Systèmes. All rights reserved.</i></p>

 </body>

</html>
