<html>

 <head>
 <meta http-equiv="Content-Language" content="en-us">
 <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
 <meta name="GENERATOR" content="Microsoft FrontPage 12.0">
 <meta name="ProgId" content="FrontPage.Editor.Document">
 <link rel="Stylesheet" type="text/css" href="../CAADocStyleSheets/caav5.css">
 <title>Getting Started with Event Listeners</title>
 </head>

 <body>

 <table width="100%">
   <tr>
     <td valign="top">
     <h1>RADE</h1>
     </td>
     <td valign="top">
     <h2>Event Listener</h2>
     </td>
     <td rowspan="2" align="right" valign="top">
     <h3><a name="Top"></a>Getting Started with Event Listeners</h3>
     <p><em>The basics of Event Listeners</em></td>
   </tr>
   <tr>
     <td class="tech" colspan="2">Technical Article</td>
   </tr>
 </table>
 <hr>
 <!---------------------------------comment------------------------------------->
 <table class="abstract">
   <tr>
     <td>
     <h3>Abstract</h3>
     <p>This article explains what is necessary to do before creating an Event 
     Listener. </p>
     <p>An event listener is a class implementing an Event interface. The Event 
     Listener generated by the wizard will be registered in ENOVIA server by a 
     plug-in module. Plug-in modules are libraries containing a Plug-in class 
     used to registered Event listeners at ENOVIA Server start-up. </p>
     <ul>
       <li><a href="#CreateWorkspace">Creating a Workspace With a UNIX 
       Connection</a></li>
       <li><a href="#NTPrereq">Defining NT Prerequisites Workspaces</a></li>
       <li><a href="#NewFramework">Creating a Framework</a></li>
       <li><a href="#Plugin">Creating a Plug-in Module in the Framework</a></li>
       <li><a href="#EventListener">Creating an Event Listener</a></li>
       <li><a href="#UNIXPrerequisite">Defining UNIX Prerequisites Workspaces</a></li>
       <li><a href="#Build">Building the Workspace</a></li>
       <li><a href="#RuntimeView">Creating the Runtime View</a></li>
     </ul>
     </td>
   </tr>
 </table>
 <hr>
 <!---------------------------------comment------------------------------------->
 <h3><a name="CreateWorkspace"></a>Creating a Workspace With a UNIX Connection</h3>
 <ol>
   <li>From the<font color="#008040"><code> File </code></font>menu<font color="#008040"><code>, 
   select New CAA V5 Workspace ...</code></font> . The <code>
   <font color="#008040">New Workspace Confirmation</font></code> dialog box 
   opens to give you some general information. When you click <code>
   <font color="#008040">OK</font></code> to close the dialog box, the <code>
   <font color="#008040">New CAA V5 Workspace</font></code> dialog box appears:</li>
 </ol>
 <p><img border="0" src="images/CAAVbtEvent12005.gif" width="551" height="400"></p>
 <ol start="2">
   <li>In the <code><font color="#008040">Workspace Directory</font></code> 
   field, enter your workspace name or click the <code><font color="#008040">&#8230;</font></code> 
   button to select it. In the <code><font color="#008040">Tool level</font></code> 
   scrolling list, select <code><font color="#008040">CXR1<span lang="fr">7</span></font></code> 
   and click <code><font color="#008040">Next&gt;</font></code>. </li>
   <li>The <code><font color="#008040">Initializing tools...</font></code> 
   dialog box opens to inform you that the command is running. When <code>
   <font color="#008040">...Command done without errors</font></code> displayed, 
   click <code><font color="#008040">Close</font></code>.</li>
 </ol>
 <p>
 <img border="0" src="images/CAAVbtEvent10-2005.gif" width="449" height="400"></p>
 <ol start="4">
   <li>Select <code><font color="#008040">Define Prerequisite Workspace</font></code> 
   and click <code><font color="#008040">Finish</font></code>.</li>
 </ol>
 <p><img border="0" src="images/CAAVbtEvent11NET.gif" width="580" height="422"></p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h3><a name="NTPrereq"></a>Defining NT prerequisites workspaces</h3>
 <ol>
   <li>From the CAAV5 Workspace menu, select Locate <code><font color="#008040">
   Prerequisite Workspaces</font></code>. Click <code><font color="#008040">
   Access prerequisites from their origin location</font></code>.</li>
 </ol>
 <p><img border="0" src="images/CAAVbtEvent2NET.gif" width="624" height="579"></p>
 <ol start="2">
   <li>If you do not have ENOVIA prerequisites on your NT machine, transfer 
   them. Click <code><font color="#008040">Create ENOVIA prerequisites on NT...</font></code>.</li>
 </ol>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <p><img border="0" src="images/CAAVbtEvent3.gif" width="586" height="289"></p>
 <ol start="3">
   <li>Enter the UNIX directory which is the directory of your ENOVIA 
   installlation.</li>
   <li>Enter a Windows directory which is the directory to transfer the 
   prerequisites.</li>
   <li>Enter your UNIX password and click <code><font color="#008040">OK</font></code>.</li>
 </ol>
 <p><img border="0" src="images/CAAVbtEvent4.gif" width="624" height="476"></p>
 <ol start="6">
   <li>Click <code><font color="#008040">Add</font></code> to enter the 
   directory which contains the ENOVIA prerequisities on Windows.</li>
 </ol>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h3><a name="NewFramework"></a>Creating a Framework</h3>
 <ol>
   <li>Select <code><font color="#008040">File&gt;Add CAAV5 Project&gt;New Framework 
   ...</font></code> </li>
 </ol>
 <p><img border="0" src="images/CAAVbtEvent52005.gif" width="433" height="366"></p>
 <ol start="2">
   <li>Enter the name of a new Framework and click <code><font color="#008040">
   OK</font></code> to validate.</li>
 </ol>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h3><a name="Plugin"></a>Creating a plug-in module in the Framework</h3>
 <ol>
   <li>Select <code><font color="#008040">File&gt;Add CAAV5 Item&gt;ENOVIA Resource&gt;Plugin...</font></code>.</li>
 </ol>
 <p><img border="0" src="images/CAAVbtEvent62005.gif" width="520" height="434"></p>
 <ol start="2">
   <li>Enter the name of your new Plug-in Module.</li>
 </ol>
 <p>File modified :</p>
 <ul>
   <li>&nbsp;<code>..\EventFramework\IdentityCard\IdentityCard.h</code></li>
   <li><code>&nbsp;..\EventFramework\CNext\code\dictionary\EventFramework.dico</code></li>
 </ul>
 <p>Files created :</p>
 <ul>
   <li><code>&nbsp;..\EventFramework\CNext\resources\msgcatalog\PluginList.CATRsc</code></li>
   <li><code>&nbsp;..\EventFramework\NewPlugin\Imakefile.mk</code></li>
   <li><code>&nbsp;..\EventFramework\NewPlugin\src\ENOVPluginNewPlugin.cpp</code></li>
   <li><code>&nbsp;..\EventFramework\NewPlugin\src\ENOVPluginNewPluginListener.cpp</code></li>
   <li><code>&nbsp;..\EventFramework\NewPlugin\LocalInterfaces\ENOVPluginNewPlugin.h</code></li>
   <li><code>&nbsp;..\EventFramework\NewPlugin\LocalInterfaces\ENOVPluginNewPluginListener.h</code></li>
 </ul>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h3><a name="EventListener"></a>Creating an Event Listener</h3>
 <ol>
   <li>Select <code><font color="#008040">File&gt;Add CAAV5 Item&gt;ENOVIA 
   Resource&gt;Event Listener...</font></code>.</li>
 </ol>
 <p><img border="0" src="images/CAAVbtEvent72005.gif" width="519" height="393"></p>
 <p>This panel displays existing ENOVIA packages of objects, the objects defined 
 in the packages and the event interfaces supported by those objects, i.e. the 
 interfaces called by the event fired by the object.</p>
 <ol start="2">
   <li>Select an ENOVIA package and a modeler object.</li>
   <li>Choose an event. The name of the Event Listener is automatically 
   informed.</li>
   <li>Click <code><font color="#008040">OK</font></code>.</li>
 </ol>
 <p>Files modified:</p>
 <ul>
   <li><code>&nbsp;..\EventFramework\NewPlugin\src\ENOVPluginNewPluginListener.cpp</code></li>
   <li><code>&nbsp;..\EventFramework\NewPlugin\LocalInterfaces\ENOVPluginNewPluginListener.h</code></li>
   <li><code>..\EventFramework\CNext\code\dictionary\EventFramework.dico</code></li>
 </ul>
 <p>Files created:</p>
 <ul>
   <li><code>..\EventFramework\NewPlugin\src\VPMProductClassListener.cpp</code></li>
   <li><code>.\EventFramework\NewPlugin\LocalInterfaces\VPMProductClassListener.h</code></li>
 </ul>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h3><a name="UNIXPrerequisite"></a>Define UNIX prerequisites workspaces</h3>
 <ol>
   <li>Select <code><font color="#008040">CAAV5 Workspace&gt;Locate Prerequisite 
   Workspaces ...</font></code> </li>
 </ol>
 <p><img border="0" src="images/CAAVbtEvent8.gif" width="624" height="476"></p>
 <ol start="2">
   <li><span style="background-color: #FFFF00">Check </span><code>
   <font color="#008040"><span style="background-color: #FFFF00">On</span></font></code><span style="background-color: #FFFF00">
   </span><code><font color="#008040"><span style="background-color: #FFFF00">
   UNIX</span></font></code><span style="background-color: #FFFF00"> and click
   </span><code><font color="#008040"><span style="background-color: #FFFF00">
   Add...</span></font></code><span style="background-color: #FFFF00"> to inform 
   the UNIX prerequisite.</span></li>
   <li><span style="background-color: #FFFF00">Click </span><code>
   <font color="#008040"><span style="background-color: #FFFF00">OK</span></font></code><span style="background-color: #FFFF00">.</span></li>
 </ol>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h3><a name="Build"></a>Building the Workspace</h3>
 <ol>
   <li>Select <code><font color="#008040">Build&gt;mkmk ...</font></code></li>
 </ol>
 <p><img border="0" src="images/CAAVbtEvent9.gif" width="532" height="468"></p>
 <ol start="2">
   <li>Check <code><font color="#008040">On UNIX</font></code> and click <code>
   <font color="#008040">OK</font></code> to launch the build on UNIX machine.</li>
 </ol>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h3><a name="RuntimeView"></a>Creating the Runtime View</h3>
 <ol>
   <li>Select <code><font color="#008040">CAAV5 Workspace&gt;Create\Update 
   RuntimeView ...</font></code> menu.</li>
 </ol>
 <p><img border="0" src="images/CAAVbtEvent10.gif" width="302" height="287"></p>
 <ol start="2">
   <li>Check <code><font color="#008040">On UNIX</font></code> and click <code>
   <font color="#008040">OK</font></code> to create the Runtime View on UNIX.</li>
 </ol>
 <p>To take into account this Event Listener in your ENOVIA Server, run</p>
 <pre>./enoviastart -env <i>%EnvName%</i> -direnv <i>%EnvDir%</i> -object &quot;-senv <i> WorkspaceEnv</i> -sdirenv <i>%EventWorkspace%</i>&quot;</pre>
 <p><font size="2">The file <i>%EventWorkspace%\WorkspaceEnv</i> is generated 
 after Define Prerequisite Workspace ... command and the environment variable 
 VPM_PLUGIN_OBJECTS_LIST is set at the end of file.</font></p>
 <p align="right"><font size="2">[<a href="#Top">Top</a>]</font></p>

 <!---------------------------------comment------------------------------------->
 <h3><a name="References"><font size="2"></font></a><font size="2">References</font></h3>

 <table width="100%">
   <tr>
     <td valign="top">[1]</td>
     <td>
     <a href="../CAAVbtQuickRefs/CAAVBTMsDev2005.htm">Customizing 
     Microsoft Visual Studio</a></td>
   </tr>
   <tr>
     <td valign="top" colspan="2">
     <p align="right">[<a href="#Top">Top</a>]</td>
   </tr>
 </table>
 <hr>
 <!---------------------------------------------------------------------------->
 <h3><a name="History"></a>History</h3>
 <table width="100%">
   <tr>
     <td valign="top">Version: <strong>1</strong> [November 2005]</td>
     <td valign="top">Document created</td>
   </tr>
   <tr>
     <td valign="top" align="right" colspan="2">[<a href="#Top">Top</a>]</td>
   </tr>
 </table>
 <hr>
 <!---------------------------------comment------------------------------------->
 <p><i>Copyright © 2005, Dassault Systèmes. All rights reserved.</i></p>

 </body>

</html>
