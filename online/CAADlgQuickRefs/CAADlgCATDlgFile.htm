<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<link rel="Stylesheet" type="text/css" href="../CAADocStyleSheets/caav5.css">
<title>CATDlgFile</title>
</head>

<body>

<table width="100%">
  <tr>
    <td valign="top">
      <h1>3D PLM Enterprise Architecture</h1>
    </td>
    <td valign="top">
      <h2>User Interface - Dialogs</h2>
    </td>
    <td rowspan="2" align="right" valign="top">
      <h3><a name="Top"></a>CATDlgFile</h3>
      <em>The window to list, select, open, and save files</em></td>
  </tr>
  <tr>
    <td class="quick" colspan="2">Quick Reference</td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->

<pre><a href="CAADlgCATDialog.htm">CATDialog</a>
  |
  +---<a href="CAADlgCATDlgWindow.htm">CATDlgWindow</a>
        |
        +---CATDlgFile</pre>
<hr>
<!---------------------------------comment------------------------------------->

<table width="100%">
  <caption>The File Window</caption>
  <tr>
    <td><img src="images/CATDlgFile.jpg" alt="CATDlgFile.jpg (14683 bytes)" width="268" height="194"></td>
    <td>The file window are used to list, select, open, and save files.</td>
  </tr>
</table>
<p>Use the message window when you want to give an information feedback to the
end user.</p>
<hr>
<!---------------------------------comment------------------------------------->

<table width="100%">
  <caption>Containment Parent</caption>
  <tr>
    <td>The parent of a instance of the CATDlgFile class must be an instance of
      a class that derives from <a href="CAADlgCATInteractiveApplication.htm">CATInteractiveApplication</a>
      or <a href="CAADlgCATDlgDocument.htm">CATDlgDocument</a>.</td>
  </tr>
</table>
<p align="right">[<a href="#Top">Top</a>]</p>
<hr>
<!---------------------------------comment------------------------------------->

<table width="100%">
  <caption>Styles</caption>
  <thead>
    <tr>
      <th>Name</th>
      <th>Example</th>
      <th>Description</th>
    </tr>
  </thead>
  <tr>
    <td>default</td>
    <td><img src="images/CATDlgFileDefault63.jpg" alt="CATDlgFileDefault63.jpg (11862 bytes)" width="268" height="180"></td>
    <td>The file window features the OK and Cancel push buttons. It is dedicated
      to opening files</td>
  </tr>
  <tr>
    <td>CATDlgWndModal</td>
    <td><img src="images/CATDlgFileModal63.jpg" alt="CATDlgFileModal63.jpg (11822 bytes)" width="268" height="180"></td>
    <td>In addition to the default style, the file window is modal, that is, no
      interaction is possible outside this window as long as it is displayed. Under Windows, the file window is modal
      whatever the style specified</td>
  </tr>
  <tr>
    <td>CATDlgWndAPPLY</td>
    <td><img src="images/CATDlgFileApply63.jpg" alt="CATDlgFileApply63.jpg (11834 bytes)" width="268" height="180"></td>
    <td>In addition to the default style, the file window features the Apply
      push button. This style is ignored under Windows</td>
  </tr>
  <tr>
    <td>CATDlgWndHELP</td>
    <td><img src="images/CATDlgFileHelp63.jpg" alt="CATDlgFileHelp63.jpg (11827 bytes)" width="268" height="180"></td>
    <td>In addition to the default style, the file window features the Help push
      button. This style is ignored under Windows.</td>
  </tr>
  <tr>
    <td>CATDlgFileSave</td>
    <td><img src="images/CATDlgFileSave63.jpg" alt="CATDlgFileSave63.jpg (11150 bytes)" width="268" height="166"></td>
    <td>The file window is dedicated to saving files. The Open push button is
      replaced by the Save push button</td>
  </tr>
  <tr>
    <td>CATDlgFileMultisel</td>
    <td><img src="images/CATDlgFileMultisel63.jpg" alt="CATDlgFileMultisel63.jpg (12039 bytes)" width="268" height="180"></td>
    <td>The file window enables file multiple selection</td>
  </tr>
</table>
<p>The default file window shown in the figure above includes a filter editor to
navigate in the directory tree, two multiline editors, one for directories and
the other for files, and a selection editor. In addition, it includes three push
buttons: OK, Filter and Cancel. Other styles are CADlgWndModal which is similar
to default, but in addition makes the window modal, that is requests the user to
answer and exit the window before going ahead, and meanwhile preventing to
perform any interaction in another window of the application (The default window
is modeless.), CATDlgWndApply which includes in addition to the default an Apply
push button, and CATDlgHelp which includes a Help push button.</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<hr>
<!---------------------------------comment------------------------------------->

<table width="100%">
  <caption>Events</caption>
  <thead>
    <tr>
      <th>Notification</th>
      <th>Method</th>
      <th>Sent when</th>
    </tr>
  </thead>
  <tr>
    <td>CATDlgDiaOKNotification</td>
    <td><code>GetDiaOKNotification</code></td>
    <td>Whenever the OK push button is pressed</td>
  </tr>
  <tr>
    <td>CATDlgDiaCANCELNotification</td>
    <td><code>GetDiaCANCELNotification</code></td>
    <td>Whenever the Cancel push button is pressed</td>
  </tr>
  <tr>
    <td>CATDlgDiaHELPNotification</td>
    <td><code>GetDiaHELPNotification</code></td>
    <td>Whenever the Help push button is pressed</td>
  </tr>
  <tr>
    <td>CATDlgDiaAPPLYNotification</td>
    <td><code>GetDiaAPPLYNotification</code></td>
    <td>Whenever the Apply push button is pressed</td>
  </tr>
</table>
<p align="right">[<a href="#Top">Top</a>]</p>
<hr>
<!---------------------------------comment------------------------------------->

<h3>Programmer's Guide</h3>
<p>By default, a CATDlgFile instance should be used with the File Open command
and features a Read Only check button. Use the CATDlgFileSave style for the File
Save command.</p>
<h4>Constructing a File Window</h4>
<p>For example, for a help message window:</p>
<table class="code">
  <tr>
    <td>
      <pre>_pFileWindow = new CATDlgFile(iApplication, iName, CATDlgWndModal);</pre>
    </td>
  </tr>
</table>
<p align="right">[<a href="#Top">Top</a>]</p>
<h4>Managing the Field Values</h4>
<p>You can set or get the Filter and Directories fields values, set the Files
field value, and get the selected file(s) as follows:
<ul>
  <li>set the filter value with the SetFilterPattern method
    <table class="code">
      <tr>
        <td>
          <pre>CATUnicodeString ucPattern = ... ;
_pFileWindow-&gt;SetFilterPattern(ucPattern);</pre>
        </td>
      </tr>
    </table>
    <p>The SetDirectory, and SetFileName methods apply to the Directories and
    Files field values respectively.</p>
  </li>
  <li>get the filter label with the GetFilterPattern method
    <table class="code">
      <tr>
        <td>
          <pre>CATUnicodeString ucPattern;
ucPattern = _pFileWindow-&gt;GetFilterPattern();</pre>
        </td>
      </tr>
    </table>
    <p>The GetDirectory method apply to the Directories field value.</p>
  </li>
  <li>get the selected file with the GetSelection method
    <table class="code">
      <tr>
        <td>
          <pre>CATUnicodeString ucSelectedFile;
_pFileWindow-&gt;GetSelection(ucSelectedFile);</pre>
        </td>
      </tr>
    </table>
  </li>
  <li>get the selected files with the GetSelection method
    <table class="code">
      <tr>
        <td>
          <pre>CATUnicodeString * ucSelectedFiles;
int Size;    <em>// Size of the CATUnicodeString table returned</em>
_pFileWindow-&gt;GetSelection(ucSelectedFiles, Size);</pre>
        </td>
      </tr>
    </table>
  </li>
  <li>get the count of selected files with the GetSelectionCount method
    <table class="code">
      <tr>
        <td>
          <pre>int Count;
Count = _pFileWindow-&gt;GetSelectionCount();</pre>
        </td>
      </tr>
    </table>
  </li>
</ul>
<p align="right">[<a href="#Top">Top</a>]</p>
<h4>Managing the Fields Titles</h4>
<p>You can set or get the Filter, Directories, Files, and Selection labels as
follows:
<ul>
  <li>set the filter label with the SetFilterLabel method
    <table class="code">
      <tr>
        <td>
          <pre>CATUnicodeString ucLabel = ... ;
_pFileWindow-&gt;SetFilterLabel(ucLabel);</pre>
        </td>
      </tr>
    </table>
    <p>The SetDirectoriesLabel, SetFilesLabel, and SetSelectionLabel methods
    apply to the Directories, Files, and Selection labels respectively.</p>
  </li>
  <li>get the filter label with the GetFilterLabel method
    <table class="code">
      <tr>
        <td>
          <pre>CATUnicodeString ucLabel;
ucLabel = _pFileWindow-&gt;GetFilterLabel();</pre>
        </td>
      </tr>
    </table>
    <p>The GetDirectoriesLabel, GetFilesLabel, and GetSelectionLabel methods
    apply to the Directories, Files, and Selection labels respectively.</p>
  </li>
</ul>
<p align="right">[<a href="#Top">Top</a>]</p>
<h4>Managing the Filter List and Read Only Check Button (with Window Only)</h4>
<p>You can set or get the filter list along with the associated extensions as
follows:
<ul>
  <li>set the filter list and associated extensions wiith the SetFilterStrings
    method
    <table class="code">
      <tr>
        <td>
          <pre>CATUnicodeString * pucFileTypes = ... ;  <em>// Table of file types</em>
CATSting * psFileExtensions = ... ;      <em>// Table of associated file extensions</em>
int nbFileTypes = ... ;                  <em>// Number of file types</em>
_pFileWindow-&gt;SetFilterStrings(pucFileTypes, psFileExtensions, nbFileTypes);</pre>
        </td>
      </tr>
    </table>
  </li>
  <li>get the filter list and associated extensions wiith the GetFilterStrings
    method
    <table class="code">
      <tr>
        <td>
          <pre>CATUnicodeString * pucFileTypes;
CATSting * psFileExtensions;
int nbFileTypes;
_pFileWindow-&gt;GetFilterStrings(pucFileTypes, psFileExtensions, nbFileTypes);</pre>
        </td>
      </tr>
    </table>
  </li>
</ul>
<p>You can set or get the active filter index as follows:
<ul>
  <li>set the active filter index with the SetActiveFilterIndex method
    <table class="code">
      <tr>
        <td>
          <pre>int Index = ... ;
_pFileWindow-&gt;SetActiveFilterIndex(Index);</pre>
        </td>
      </tr>
    </table>
  </li>
  <li>get the active filter index with the GetActiveFilterIndex method
    <table class="code">
      <tr>
        <td>
          <pre>int Index;
Index = _pFileWindow-&gt;SetActiveFilterIndex();</pre>
        </td>
      </tr>
    </table>
  </li>
</ul>
<p>You can set or get the read only push button state as follows:
<ul>
  <li>set the read only push button state with the SetReadOnlyState method
    <table class="code">
      <tr>
        <td>
          <pre>int State = ... ;  <em>// =0 unckecked, and checked otherwise</em> 
_pFileWindow-&gt;SetReadOnlyState(State);</pre>
        </td>
      </tr>
    </table>
  </li>
  <li>get read only push button state with the GetReadOnlyState method
    <table class="code">
      <tr>
        <td>
          <pre>int State;
State = _pFileWindow-&gt;GetReadOnlyState();</pre>
        </td>
      </tr>
    </table>
  </li>
</ul>
<p align="right">[<a href="#Top">Top</a>]</p>
<h4>Managing Push Button Title and Sensitivity</h4>
<p>You can set or get the OK, Apply, Filter, Cancel, or Help push button title
and sensitivity as follows:
<ul>
  <li>set the OK push button title with the SetOKTitle method
    <table class="code">
      <tr>
        <td>
          <pre>CATUnicodeString ucTitle = ... ;
_pFileWindow-&gt;SetOKTitle(ucTitle);</pre>
        </td>
      </tr>
    </table>
    <p>The SetAPPLYTitle, SetFILTERTitle, SetCANCELTitle, and SetHELPTitle
    methods apply to the APPLY, FILTER, CANCEL, and HELP push button
    respectively.</p>
  </li>
  <li>get the OK push button title with the GetOKTitle method
    <table class="code">
      <tr>
        <td>
          <pre>CATUnicodeString ucTitle;
ucTitle = _pFileWindow-&gt;GetOKTitle();</pre>
        </td>
      </tr>
    </table>
    <p>The GetAPPLYTitle, GetFILTERTitle, GetCANCELTitle, and GetHELPTitle
    methods apply to the APPLY, FILTER, CANCEL, and HELP push button
    respectively.</p>
  </li>
  <li>set the OK push button sensitivity to react to the end user push with the
    SetOKSensitivity method
    <table class="code">
      <tr>
        <td>
          <pre>_pFileWindow-&gt;SetOKSensitivity(CATDlgEnable);</pre>
        </td>
      </tr>
    </table>
    <p>Setting the sensitivity to <code>CATDlgDisable</code> displays the push
    button as grayed and disable its sensitivity. The SetAPPLYSensitivity,
    SetFILTERSensitivity, SetCANCELSensitivity, and SetHELPSensitivity methods
    apply to the APPLY, FILTER, CANCEL, and HELP push button respectively.</p>
  </li>
  <li>get the OK push button sensitivity with the GetOKTitle method
    <table class="code">
      <tr>
        <td>
          <pre>CATULONG Sensitivity;
Sensitivity= _pFileWindow-&gt;GetOKSensitivity();</pre>
        </td>
      </tr>
    </table>
    <p>The GetAPPLYSensitivity, GetFILTERSensitivity, GetCANCELSensitivity, and
    GetHELPSensitivity methods apply to the APPLY, FILTER, CANCEL, and HELP push
    button respectively.</p>
  </li>
</ul>
<p align="right">[<a href="#Top">Top</a>]</p>
<h4>Setting a Title to a File Window</h4>
<p>The file window title should be set by the resource file using a key built
with the identifier you declare as the second parameter of the file window
constructor.</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<hr>
<!---------------------------------comment------------------------------------->
<h3><a name="History"></a>History</h3>
<table width="100%">
  <tr>
    <td valign="top">Version: <strong>1</strong> [Jan 2000]</td>
    <td valign="top">Document created</td>
  </tr>
  <tr>
    <td valign="top" align="right" colspan="2">[<a href="#Top">Top</a>]</td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->
<p><i>Copyright © 2000, Dassault Systèmes. All rights reserved.</i></p>

</body>

</html>
