<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 6.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title>mkodt</title>
<link rel="Stylesheet" type="text/css" href="../CAADocStyleSheets/caav5.css">
</head>

<body>

&nbsp;
<table width="100%">
  <tr>
    <td valign="TOP">
      <h1>RADE</h1>
    </td>
    <td valign="TOP">
      <h2>C++ Unit Test Manager</h2>
    </td>
    <td align="RIGHT" valign="TOP" rowspan="2">
      <h3><a name="Top"></a>mkodt</h3>
      <i>Runs test objects</i></td>
  </tr>
  <tr>
    <td colspan="2" class="quick">Quick Reference</td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->
<h4>Name</h4>
<blockquote>
  &nbsp;
  <table>
    <tr>
      <td><b>mkodt</b></td>
      <td></td>
      <td>Runs test objects</td>
    </tr>
  </table>
</blockquote>
<!---------------------------------comment------------------------------------->
<h4>Synopsis</h4>
<blockquote>
  mkodt can be run in contextual or descriptive mode:
  <ul>
    <li>Contextual mode: mkodt is run from a framework directory and applies to
      test objects of this framework</li>
    <table>
      <tr>
        <td>
          <pre><b>mkodt</b> [<b>-htX</b>] <b>-D</b> [ <b>-s</b> shell | <b>-a</b> ][<b>-html</b>][<b>-xml</b>]</pre>
        </td>
      </tr>
    </table>
    <li>Descriptive mode: mkodt is run from any directory and applies to the
      workspace and frameworks passed using appropriate options</li>
    <table>
      <tr>
        <td valign="TOP"><b><tt>mkodt</tt></b></td>
        <td><tt>[<b>-chkqStX</b>] [<b>-B</b> debugger <b>-b</b> program] [<b>-d</b>
          wsabspath [<b>-F</b> framework] | <b>-W</b> wsrelpath | [<b>-a</b> | <b>-L</b>
          scriptlist1 | <b>-l</b> scriptlist2 <b>-s</b> shell]] [<b>-NOMaxTime</b>]
          [<b>-NoPert</b>] [<b>-o</b> output] [<b>-p</b> path] [<b>-r</b>
          rtpath] [<b>-UpdateInit</b>] [<b>-html</b>] [<b>-xml</b>]-ExcludFW
          fileFWExcluded -PriorityFW fileFWPriority -UpdateInit</tt></td>
      </tr>
    </table>
  </ul>
</blockquote>
<div align="right">
  [<a href="#Top">Top</a>]
</div>
<!---------------------------------comment------------------------------------->
<h4>Description</h4>
<blockquote>
  Runs test objects, that is, shell scripts that launch load modules delivered
  in test frameworks. Using its options, <b>mkodt</b> gives the choice of
  running one test object or all the test objects found either in a given
  framework or workspace.
  <p><b>mkodt</b> is available with mkmk commands, and can be accessed after
  running the <tt>mkmk_profile</tt> or <tt>adl_profile</tt> command.
</blockquote>
<div align="right">
  [<a href="#Top">Top</a>]
</div>
<!---------------------------------comment------------------------------------->
<h4>Options</h4>
<blockquote>
  mkodt accepts the following options:<br>
  &nbsp;
  <table>
    <tr>
      <td valign="TOP" width="15%"><tt>-a</tt></td>
      <td>Replays all tests objects for a workspace, a framework, or a directory
        <i>TestCases</i> or <i>SwitchTestCases</i></td>
    </tr>
    <tr>
      <td valign="TOP" width="15%"><tt>-B debugger</tt></td>
      <td>Turns the debugger mode on and specifies the debugger to use. Useful
        with the <tt>-b</tt> option. According to the operating system,
        available debuggers are (first one is the default):&nbsp;
        <table>
          <tr>
            <td>Solaris</td>
            <td>workshop, dbx</td>
          </tr>
          <tr>
            <td>AIX</td>
            <td>xldb, dbx</td>
          </tr>
          <tr>
            <td>HP_UX</td>
            <td>dde</td>
          </tr>
          <tr>
            <td>Windows</td>
            <td>msdev</td>
          </tr>
        </table>
      </td>
    </tr>
    <tr>
      <td valign="TOP" width="15%"><tt>-b program</tt></td>
      <td>Uses the debugger on the given <tt>program</tt>. It must be a module
        or an EXE containing a main.</td>
    </tr>
    <tr>
      <td valign="TOP" width="15%"><tt>-D</tt></td>
      <td>Sets the display mode for debug purposes, that is, opens a window
        (&quot;xterm&quot; or &quot;DOS&quot;) for interactive testing. This
        window is opened in the same environment that the one used by the test
        object, thus it is possible to check for the value of environment
        variables. Available in contextual mode only</td>
    </tr>
    <tr>
      <td valign="TOP" width="15%"><tt>-d wsabspath</tt></td>
      <td>Specifies the workspace root directory using an absolute path</td>
    </tr>
    <tr>
      <td valign="TOP" width="15%"><tt>-ExcludFW fileFWExcluded&nbsp;</tt></td>
      <td>Exclud a list of test framework from a replay. The file <i>PathToFileName</i>
        must have the following format :
        <blockquote>
          <blockquote>
            <p style="margin-top: 0; margin-bottom: 0">FW1.tst</p>
            <p style="margin-top: 0; margin-bottom: 0">FW2.tst</p>
            <p style="margin-top: 0; margin-bottom: 0">FW3.tst</p>
            <p style="margin-top: 0">..................</p>
          </blockquote>
        </blockquote>
      </td>
    </tr>
    <tr>
      <td valign="TOP" width="15%"><tt>-F framework</tt></td>
      <td>Specifies a framework directory or a list of framework directories of
        the workspace</td>
    </tr>
    <tr>
      <td valign="TOP" width="15%"><tt>-h</tt></td>
      <td>Displays the mkodt help</td>
    </tr>
    <tr>
      <td valign="TOP" width="15%"><tt>-k</tt></td>
      <td>Keeps the temporary directory set using <tt>ADL_ODT_TMP</tt></td>
    </tr>
    <tr>
      <td valign="TOP" width="15%"><tt>-L scriptlist1</tt></td>
      <td>Reads the file <tt>scriptlist1</tt> to get a list of shell scripts to
        execute. These shell scripts can be in different frameworks of the
        workspace. <tt>scriptlist1</tt> must have the following format:&nbsp;
        <pre>&nbsp; FW1&nbsp;&nbsp; Type&nbsp;&nbsp; ODTName1
&nbsp; FW2&nbsp;&nbsp; Type&nbsp;&nbsp; ODTName2
&nbsp; FW3&nbsp;&nbsp; Type&nbsp;&nbsp; ODTName3</pre>
        where <tt>Type</tt> can be either <tt>TestCases</tt> or <tt>SwitchTestCases</tt>.
        If the path of the <tt>scriptfile</tt> is not specified, this file must
        be in the current directory or in the workspace root directory</td>
    </tr>
    <tr>
      <td valign="TOP" width="15%"><tt>-l scriptlist2</tt></td>
      <td>Reads the file <tt>scriptlist2</tt> to get a list of shell scripts to
        execute. <tt>scriptlist2</tt> must have the following format&nbsp;
        <pre>&nbsp; ODTName1
&nbsp; ODTName2
&nbsp; ODTName3</pre>
        If the path of the <tt>scriptfile</tt> is not specified, this file must
        be in the current directory or in the workspace root directory</td>
    </tr>
    <tr>
      <td valign="TOP" width="15%"><tt>-NOMaxTime</tt></td>
      <td>Disables the supervision of the ODT's execution time</td>
    </tr>
    <tr>
      <td valign="TOP" width="15%"><tt>-NoPert</tt></td>
      <td>Disables the pertinence measure for an ODT</td>
    </tr>
    <tr>
      <td valign="TOP" width="15%"><tt>-o output</tt></td>
      <td>Specifies an output directory and sets the <tt>ADL_ODT_OUT</tt>
        variable. Results of mkodt ( .traces and .mkodt_results files) are
        generated in the directory <tt>Output/Framework.tst/FunctionTests/Output/OSName</tt>,
        where <tt>OSName</tt> is&nbsp;
        <table>
          <tr>
            <td><tt>solaris_a</tt></td>
            <td>Solaris</td>
          </tr>
          <tr>
            <td><tt>aix_a</tt></td>
            <td>AIX</td>
          </tr>
          <tr>
            <td><tt>hpux_b</tt></td>
            <td>HP_UX</td>
          </tr>
          <tr>
            <td><tt>intel_a</tt></td>
            <td>Windows</td>
          </tr>
        </table>
      </td>
    </tr>
    <tr>
      <td valign="TOP" width="15%"><tt>-p path</tt></td>
      <td>Specifies the directory pathname concatenation where the module or EXE
        are searched for, and initializes <tt>ADL_ODT_CONCATENATION</tt> (used
        by the <tt>WhichDir</tt> command). Directory pathnames are separated by
        a <tt>:</tt> (colon) with Unix and a <tt>;</tt> (semicolon) with Windows</td>
    </tr>
    <tr>
      <td valign="TOP" width="15%"><tt>-PriorityFW fileFWPriority</tt></td>
      <td>
        <blockquote>
          <p>To give a test framework list in the fileFWPriority file to replay
          in pririty in the mkodt replay. fileFWPriority file must have the
          following format :
          <blockquote>
            <p style="margin-bottom: 0">FW1.tst</p>
            <p style="margin-top: 0; margin-bottom: 0">FW2.tst</p>
            <p style="margin-top: 0; margin-bottom: 0">FW3.tst</p>
            <p style="margin-top: 0">..................</p>
          </blockquote>
        </blockquote>
      </td>
    </tr>
    <tr>
      <td valign="TOP" width="15%"><tt>-q</tt></td>
      <td>Quiet mode : no user information</td>
    </tr>
    <tr>
      <td valign="TOP" width="15%"><tt>-r rtpath</tt></td>
      <td>Specifies the directory pathname concatenation where the module or EXE
        are searched for without changing the <tt>ADL_ODT_CONCATENATION</tt>
        value. Directory pathnames are separated by a <tt>:</tt> (colon) with
        Unix and a <tt>;</tt> (semicolon) with Windows</td>
    </tr>
    <tr>
      <td valign="TOP" width="15%"><tt>-S</tt></td>
      <td>Searches test objects in <i>SwitchTestCases</i> instead of <i>TestCases</i></td>
    </tr>
    <tr>
      <td valign="TOP" width="15%"><tt>-s shell</tt></td>
      <td>Lists the shell script names to run</td>
    </tr>
    <tr>
      <td valign="TOP" width="15%"><tt>-t</tt></td>
      <td>Reports the time spent for the execution</td>
    </tr>
    <tr>
      <td valign="TOP" width="15%"><tt>-UpdateInit</tt></td>
      <td>Deletes the directory generated by <tt>ODTInit</tt></td>
    </tr>
    <tr>
      <td valign="TOP" width="15%"><tt>-W wsrelpath</tt></td>
      <td>Specifies the workspace root directory using a relative path from the <tt>$HOME</tt>
        directory. Valid with UNIX only</td>
    </tr>
    <tr>
      <td valign="TOP" width="15%"><tt>-X</tt></td>
      <td>Forces output display. By default, program's outputs are not
        displayed, and this option forces them to be displayed</td>
    </tr>
    <tr>
      <td valign="TOP" width="15%"><tt>-html</tt></td>
      <td>
        <div class="MsoNormal">
          Provides with an html view of the results of the replay. Generates an
          html file tree which gathers the results by framework and for each ODT
          displays links to its traces and shows you the return code alongside
          other valuable pieces of information. Html output is located in : &lt;<i>Output&gt;</i>/ToolsData/TestAuto/mkodt/&lt;<i>OS</i>&gt;/mkodt_result.html
        </div>
      </td>
    </tr>
    <tr>
      <td valign="TOP" width="15%"><tt>-xml</tt></td>
      <td>
        <div class="MsoNormal">
          Generates xml mkodt results for every replayed odt. xml data sums up
          general results and may output additional information that are
          specific to the replay. Used for collecting results in databases.
          Location : &lt;<i>Output&gt;</i>/<i>&lt;FW.tst&gt;</i>/FunctionTests/Output/<i>&lt;OS&gt;/odt_name</i>_mkodt_result.xml
        </div>
      </td>
    </tr>
  </table>
</blockquote>
<div align="right">
  [<a href="#Top">Top</a>]
</div>
<!---------------------------------comment------------------------------------->
<h4>Examples</h4>
<blockquote>
  <dl>
    <dt>To run the ODTs whose shells are listed in the shell file in contextual
      mode.</dt>
    <table>
      <tr>
        <td>
          <pre>mkodt -D -s shell</pre>
        </td>
      </tr>
    </table>
    <dt>To run, with Unix only, all ODTs in a given workspace by specifying a
      relative directory</dt>
    <table>
      <tr>
        <td>
          <pre>mkodt -a -W CAAWorkspace</pre>
        </td>
      </tr>
    </table>
    <dt>To run, with Unix only, all ODTs of a given framework of a given
      workspace by specifying a relative directory</dt>
    <table>
      <tr>
        <td>
          <pre>mkodt -a -W CAAWorkspace -F fwname</pre>
        </td>
      </tr>
    </table>
    <dt>To run all ODTs in a given workspace by specifying an absolute directory</dt>
    <table>
      <tr>
        <td valign="TOP">Unix</td>
        <td>
          <pre>mkodt -a -d /u/users/psr/CAAWorkspace</pre>
        </td>
      </tr>
      <tr>
        <td valign="TOP">Windows</td>
        <td>
          <pre>mkodt -a -d e:\users\psr\CAAWorkspace</pre>
        </td>
      </tr>
    </table>
    <dt>To run all ODTs in a given workspace by specifying an absolute
      directory, and generate output in a given directory</dt>
    <table>
      <tr>
        <td valign="TOP">Unix</td>
        <td>
          <pre>mkodt -a -d /u/users/psr/CAAWorkspace -o /u/users/psr/output</pre>
        </td>
      </tr>
      <tr>
        <td valign="TOP">Windows</td>
        <td>
          <pre>mkodt -a -d e:\users\psr\CAAWorkspace -o e:\users\psr\output</pre>
        </td>
      </tr>
    </table>
    <dt>To run all ODTs in a given workspace by specifying the workspace
      absolute directory, and generate output in a given directory, using the
      programs located in a local directory and resetting the <tt>ADL_ODT_CONCATENATION</tt>
      variable to this directory</dt>
    <table>
      <tr>
        <td valign="TOP">Unix</td>
        <td>
          <pre>mkodt -d /u/lego/CXR4/BSF -a -o /u/users/psr/output -p /u/users/psr/steplib/CXR4/LocalWS</pre>
        </td>
      </tr>
      <tr>
        <td valign="TOP">Windows</td>
        <td>
          <pre>mkodt -d \\renoir\CXR4\BSF -a -o E:\users\psr\output -p e:\steplib\CXR4\LocalWS</pre>
        </td>
      </tr>
    </table>
    <p>The common content of the <tt>ADL_ODT_CONCATENATION</tt> and of the
    runtime concatenation used is either <tt>/u/users/psr/steplib/CXR4/LocalWS</tt>
    with Unix or <tt>e:\steplib\CXR4\LocalWS</tt> with Windows.
    <dt>To run all ODTs in a given workspace by specifying the workspace
      absolute directory, and generate output in a given directory, using the
      programs located in a local directory without resetting the <tt>ADL_ODT_CONCATENATION</tt>
      variable</dt>
    <table>
      <tr>
        <td valign="TOP">Unix</td>
        <td>
          <pre>mkodt -d /u/lego/CXR4/BSF -a -o /u/users/psr/output -r /u/users/psr/steplib/CXR4/LocalWS</pre>
        </td>
      </tr>
      <tr>
        <td valign="TOP">Windows</td>
        <td>
          <pre>mkodt -d \\renoir\CXR4\BSF -a -o E:\users\psr\output -r e:\steplib\CXR4\LocalWS</pre>
        </td>
      </tr>
    </table>
    The content of the <tt>ADL_ODT_CONCATENATION</tt> variable is unchanged and
    the directory in which the programs are searched for is either <tt>/u/users/psr/steplib/CXR4/LocalWS</tt>
    with Unix or <tt>e:\steplib\CXR4\LocalWS</tt> with Windows.
  </dl>
</blockquote>
<div align="right">
  [<a href="#Top">Top</a>]
</div>
<!---------------------------------comment------------------------------------->
<h4>Environment Variables</h4>
mkodt uses the following environment variables:
<blockquote>
  &nbsp;
  <table>
    <tr>
      <td valign="TOP" width="15%"><tt>ADL_ODT_CONCATENATION</tt></td>
      <td>Contains a directory concatenation used by the <tt>WhichDir</tt>
        command</td>
    </tr>
    <tr>
      <td valign="TOP" width="20%"><tt>ADL_ODT_IN</tt></td>
      <td>Contains a directory where all data needed as input for a program is
        stored</td>
    </tr>
    <tr>
      <td valign="TOP" width="20%"><tt>ADL_ODT_NULL</tt></td>
      <td>Contains a special file name that can be used to redirect outputs from
        a program (<tt>/dev/null</tt> with Unix or <tt>NUL</tt> with Windows)</td>
    </tr>
    <tr>
      <td valign="TOP" width="20%"><tt>ADL_ODT_OUT</tt></td>
      <td>Contains an output directory where any output data can be stored</td>
    </tr>
    <tr>
      <td valign="TOP" width="20%"><tt>ADL_ODT_REF</tt></td>
      <td>Contains a directory where reference data is stored. Reference data is
        used as a reference to compare program output</td>
    </tr>
    <tr>
      <td valign="TOP" width="20%"><tt>ADL_ODT_TMP</tt></td>
      <td>Contains a temporary directory, for instance <tt>/tmp</tt> with Unix
        and <tt>C:\TEMP</tt> with Windows</td>
    </tr>
    <tr>
      <td valign="TOP" width="20%"><tt>MKMK_LST_RTV</tt></td>
      <td>Contains a runtime path concatenation. Corresponds to <tt>-r</tt>
        option</td>
    </tr>
    <tr>
      <td valign="TOP" width="20%"><tt>MKODT_SUPENV(VPM)</tt></td>
      <td>Contains a shell script path that will be run before the ODT shell
        script. Use this variable to set an environment extension. By default,
        if this variable is not set, <tt>mkodt</tt> looks for <tt>MKODT_SUPENV_($ADL_FR_CATIA)</tt><i>
        </i>file in <tt>$PATH</tt></td>
    </tr>
    <tr>
      <td valign="TOP" width="20%"><tt>ODT_MAX_TIME_COEFF</tt></td>
      <td>Contains a percentage to apply to the max_time value:<br>
        <tt>max_time = max_time*$ODT_MAX_TIME_COEFF/100</tt></td>
    </tr>
    <tr>
      <td valign="TOP" width="20%"><tt>ODT_MAX_TIME</tt></td>
      <td>Contains the maximum time that the ODT can run before being stopped,
        expressed in <b>xxx</b> (max_time)</td>
    </tr>
    <tr>
      <td valign="TOP" width="20%"><tt>ODT_PERTINENCE</tt></td>
      <td>Contains the pertinence measure ability. Valid values are:&nbsp;
        <table>
          <tr>
            <td><tt>Yes</tt></td>
            <td>Enables the pertinence measure</td>
          </tr>
          <tr>
            <td><tt>No</tt></td>
            <td>Disables the pertinence measure</td>
          </tr>
        </table>
        <tt>ODT_PERTINENCE=No</tt> corresponds to the <tt>-NoPert</tt> option</td>
    </tr>
    <tr>
      <td valign="TOP" width="20%"><tt>OPTION_FOR_SETCATENV</tt></td>
      <td>Contains additional options for setcatenv (set the CATIA environment)</td>
    </tr>
    <tr>
      <td valign="TOP" width="20%"><tt>WSROOT</tt></td>
      <td>Contains the workspace directory containing the test objects to run</td>
    </tr>
  </table>
</blockquote>
<div align="right">
  [<a href="#Top">Top</a>]
</div>
<!---------------------------------comment------------------------------------->
<b>NOTE</b> : The ADL_ODT_TMP environment variable is set by default at :<blockquote>
	<p>&nbsp;&nbsp;&nbsp; - Windows : %SystemDrive%\Temp</p>
	<p>&nbsp;&nbsp;&nbsp; - Unix : /tmp</p>
	<p>&nbsp;&nbsp;&nbsp; If this directory does not exist, mkodt will create 
	it.</p>
	<p>&nbsp;&nbsp;&nbsp; It is also possible to modify this default value 
	setting MKODT_TMP environment variable to a temporary dirctory ( For 
	instance : set MKODT_TMP=C:\MonTemp\ODT ).</p>
</blockquote>
<h4>Diagnostics</h4>
Possible exit status values are:
<blockquote>
  &nbsp;
  <table>
    <tr>
      <td width="5%">0</td>
      <td>Successful completion</td>
    </tr>
    <tr>
      <td width="5%">&gt;0</td>
      <td>Failure because any of the following</td>
    </tr>
  </table>
</blockquote>
<div align="right">
  [<a href="#Top">Top</a>]
</div>
<hr>
<!---------------------------------comment------------------------------------->
<h3><a name="History"></a>History</h3>
<table width="100%">
  <tr>
    <td valign="TOP">Version: <b>1</b> [May 2000]</td>
    <td valign="TOP">Document created</td>
  </tr>
  <tr>
    <td align="RIGHT" valign="TOP" colspan="2">[<a href="#Top">Top</a>]</td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->
<p><i>Copyright © 2000, Dassault Systèmes. All rights reserved.</i>

</body>

</html>
