<html>

 <head>
 <meta http-equiv="Content-Language" content="en-us">
 <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
 <meta name="GENERATOR" content="Microsoft FrontPage 6.0">
 <meta name="ProgId" content="FrontPage.Editor.Document">
 <script language="JavaScript" src="../CAADocJavaScript/submit.js">
 </script>
 <link rel="Stylesheet" type="text/css" href="../CAADocStyleSheets/caav5.css">
 <title>Working with DialogBuilder</title>
 </head>

 <body>

 <table width="100%">
   <tr>
     <td valign="top">
     <h1>RADE Web Application Composer</h1>
     </td>
     <td valign="top">
     <h2>DialogBuilder</h2>
     </td>
     <td rowspan="2" align="right" valign="top">
     <h3><a name="Top"></a>Working with DialogBuilder</h3>
     <p><em>Making a JDialog Panel Interactively</em></td>
   </tr>
   <tr>
     <td class="use" colspan="2">User Guide</td>
   </tr>
 </table>
 <hr>
 <!---------------------------------comment------------------------------------->
 <table class="abstract">
   <tr>
     <td>
     <h3>Abstract</h3>
     <p>This article describes how to use DialogBuilder provided in the Web 
     Application Composer RADE product and integrated to <em>IRAD. </em>
     DialogBuilder enables you to interactively design a JDialog window and to 
     generate it. In this topic, you will learn how to create interactively the 
     CAAJdgSmartDictionary use case exposed in the JDialog documentation. </p>
     <ul>
       <li><a href="#What can you do with DialogBuilder"><strong>What you can do 
       with DialogBuilder</strong></a></li>
       <li><a href="#What to know before starting"><strong>What you need to know 
       before starting</strong></a>
       <ul>
         <li><a href="#Working with a CAAV5 workspace in IRAD 6.0">Working with 
         a CAAV5 workspace in IRAD</a></li>
       </ul>
       </li>
       <li><a href="#Step by step"><strong>Step-by-Step with the 
       CAAJdgSmartDictionary</a></strong>
       <ul>
         <li><a href="#What does CAAJdgSmartDictionary do">Purpose of the 
         CAAJdgSmartDictionary</a></li>
         <li><a href="#Before starting">Before Starting</a></li>
         <li><a href="#How to create a new dialog">Creating a Dialog</a></li>
         <li><a href="#How to define the page setup and widget positioning">
         Defining the Page Setup and Widget Positioning</a></li>
         <li><a href="#How to declare jave variables in the controller">
         Declaring Java Variables in the Controller</a></li>
         <li><a href="#How to declare callbacks in the controller">Declaring 
         Callbacks in the Controller</a></li>
         <li><a href="#How to get a Preview of the panel">Getting a Preview of 
         the Window</a></li>
       </ul>
       </li>
     </ul>
     <ul>
       <li><a href="#InShort"><strong>In Short</strong></a></li>
       <li><a href="#References"><strong>References</strong></a></li>
     </ul>
     </td>
   </tr>
   <tr>
     <td></td>
   </tr>
 </table>
 <hr>
 <!---------------------------------comment------------------------------------->
 <h3><a name="What can you do with DialogBuilder"></a>What you can do with 
 DialogBuilder</h3>
 <p>DialogBuilder is an interactive tool that enables you to create JDialog 
 panels. You can:</p>
 <ul>
   <li>Design your window</li>
   <li>Position your widgets on the window and define their attachments</li>
   <li>Set or modify properties to the widgets</li>
   <li>Declare methods on widgets and associate them with events</li>
   <li>Preview the window.</li>
 </ul>
 <p>Files associated to DialogBuilder editor are XMLDlg files. They appear in 
 IRAD with the
 <img border="0" src="image/CAAWac1.gif" width="16" height="16"> icon. For more 
 information on the JDialog framework, see the
 <a href="../CAAJdgTechArticles/CAAJdgOverview.htm#Top">
 JDialog Overview</a> article.</p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h3><a name="What to know before starting"></a>What You Need to Know Before 
 Starting</h3>
 <p>To find out more about the DialogBuilder interface, see
 <em><a href="CAAWacEApplicationInterface.htm">
 Getting Familiar with the Web Application Editor</a>. </em>To know how 
 to create a process, use widgets,..., see <em style="font-style: normal">
 <a href="CAAWacEApplicationBuilderwithInputOutput.htm">Building a Web 
 Application with JDialog</a></em>.</p>
 <h4><a name="Working with a CAAV5 workspace in IRAD 6.0"></a>Working with a 
	CAAV5 workspace in IRAD</h4>
 <p>DialogBuilder requires a CAAV5 workspace. The CAAV5 file tree is mandatory, 
 because many files are created in specific directories in this file tree. 
 Inside this CAAV5 workspace, you need at least one framework and one module.</p>
 <p>There are 2 different ways to do this, depending on the fact that you have 
 the &quot;Java Interactive Dashboard&quot; product available or not.</p>
 <ul>
   <li>if you have the JID product, see the
   <a href="../CAAVbtQuickRefs/CAAVBTJavaDashboardirad6.htm#Top">
   Java Interactive Dashboard</a> article for more information on how to manage 
   your CAAV5 workspace in IRAD (how to open or create a workspace, how to 
   create a framework and module, how to define prerequisites, etc...)</li>
   <li>if you do not have the JID product, use <code><font color="#008040">
   Convert to WAC project</font></code>. For more information on this command, 
   see <a href="#Before starting">Before Starting</a>.</li>
 </ul>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h3><a name="Step by step"></a>Step-by-Step with CAAJdgSmartDictionary</h3>
 <h4><a name="What does CAAJdgSmartDictionary do"></a>Purpose of the 
 CAAJdgSmartDictionary</h4>
 <p>CAAJdgSmartDictionary is one of the provided use case for the JDialog 
 framework. See
 <a href="../CAAJdgUseCases/CAAJdgCreatingCommand.htm#UseCase">
 Creating a command</a> use case to see how to create this JDialog window by 
 writing Java code.</p>
 <p>The expected result looks like this:</p>
 <p>
 <img src="image/SmartDictionaryCommand.gif" border="0" width="469" height="230"></p>
 <p>We are going to create the same window interactively using the 
 DialogBuilder.</p>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h4><a name="Before starting"></a>Before Starting&nbsp;</h4>
 <p>Before launching WAC, you need to set the JAVA_HOME 
 variable. Otherwise, the following message will be displayed when running the 
 <code><font color="#008040">Get prerequisites</font></code> or the 
 <code><font color="#008040">Create/Update RuntimeView</font></code> commands.</p>
 <div align="left">
   <table border="0" cellpadding="0" style="border-collapse: collapse" id="table11">
     <tr>
       <td>
       <img border="0" src="../CAAWacUseCases/image/Eclipsesetuperror.gif" width="414" height="154"></td>
     </tr>
   </table>
 </div>

 <p>You can set this variable:</p>
 <ul>
   <li>In the system variables.</li>
   <li>In the CAA V5 Development Environment Setup V5R18 window.
   In this window, select WebApplicationcomposer, double-click 
   JAVA_HOME and enter the desired value (.jdk or jre).</li>
 </ul>
 <div align="left">
   <table border="0" cellpadding="0" style="border-collapse: collapse" width="50%" id="table12">
     <tr>
       <td>
       <img border="1" src="../CAAWacUseCases/image/javaenvironmentsetup.gif"></td>
     </tr>
   </table>
 </div>
 <table border="0" cellpadding="0" cellspacing="0" width="100%" id="table13">
   <tr align="right">
     <td>[<a href="#Top">Top</a>]</td>
   </tr>
 </table>
 <h4>Creating a Web Project</h4>
 <ol>
   <li>From the <code><font color="#008040">Start-&gt;Programs</font></code> menu, 
   access the <code><font color="#008040">IBM Rational-&gt;IBM Rational Application 
   Developer v7.0-&gt;Rational Application Developer</font></code><b> </b>
   application. 
   </li>
   <li>In the <code><font color="#008040">Workspace Launcher</font></code> 
   window, click <code><font color="#008040">Browse...</font></code> to select 
   the directory that will&nbsp; contain the data. Click <code><font color="#008040">
   OK</font></code>. The&nbsp; application opens. 
   </li>
   <li>From the <code><font color="#008040">File</font></code> menu, select
   <code><font color="#008040">New-&gt;Other</font></code>, 
   then <code><font color="#008040">Dynamic Web Project</font></code>. 
   </li>
   <li>In the <code><font color="#008040">New Dynamic Web Project</font></code> 
   window, enter the name of your project in the <code><font color="#008040">
   Name</font></code> field and click the <code><font color="#008040">Advanced&gt;</font></code> 
   button (SmartDictionary in this use case.) 
   </li>
   <li>In the <code><font color="#008040">Servlet version</font></code> combo 
   box, select<code><font color="#008040"> 2.4</font></code>. 
   </li>
   <li>In the <code><font color="#008040">Target server</font></code> combo box, 
   select <code><font color="#008040">Websphere Application Server v6.0</font></code> 
   and click <code><font color="#008040">Finish</font></code>. </li>
 </ol>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h4>Working With a CAA V5 Workspace</h4>
 <p>Using <i>Web Application Builder</i> requires to work in a CAA V5 workspace.
 In order to follow along this scenario, you need a CAAV5 file tree, with a 
 Framework and a java Module. In order to be able to build your java controller 
 associated to your dialog, you also need to specify where are your 
 prerequisites.</p>
 <p>There are 2 different ways to do this, depending on the fact that you have 
 the &quot;Java Interactive Dashboard&quot; product available or not.</p>
 <ul>
   <li>If you work with <i>Java Interactive Dashboard</i> (JID): You can create 
   the required CAA framework/module architecture through dedicated custom 
   menus. For more information about the way to manage your CAA V5 workspace in 
   IRAD, see the
   <a href="../CAAVbtQuickRefs/CAAVBTJavaDashboardirad6.htm#Top">
   Java Interactive Dashboard</a> article. 
   <div align="left">
     <table border="0" cellpadding="0" style="border-collapse: collapse" width="100%" id="table14">
       <tr>
         <td>
   <ul>
     <li>Create the framework <i>MyFw</i>. To do so, select
      <code><font color="#008040">
     File&gt;New&gt;Other</font></code>, 
     <code><font color="#008040">CAA 
     elements</font></code><i> </i>and then <code><font color="#008040">CAAV5 
     Framework.</font></code></li>
     <li>Create the module &quot;<i>CAAJdgSmartDictionary.mj</i>&quot;. 
     To do so, select  <code><font color="#008040">
     File&gt;New&gt;Other</font></code>, 
     <code><font color="#008040">CAA 
     elements</font></code><i>
      </i>and then  <code>
     <font color="#008040">CAAV5 Module</font></code><i>. 
     </i>Choose<b>
     
     </b><code><font color="#008040">Server</font></code><b>
      </b>as Module Type.</li>
     <li>Select the <i>CAAJdgSmartDictionary.mj/src </i>directory in the<i> </i>
     <code><font color="#008040">Navigator</font></code><i> </i>View, and create 
     the package <i>com.dassault_systemes.smartdictionary</i> using <code>
     <font color="#008040">File&gt;New&gt;Other&gt;Java&gt;Package</font></code><i>.</i></li>
   </ul></td>
       </tr>
     </table>
   </div>
   </li>
 </ul>
 <ul>
   <li>If the <i>Java Interactive Dashboard</i> (JID) product is not installed:
   <i>IRAD</i> provides you with a custom menu allowing you to create your 
   CAA V5 workspace architecture. To access it: 
   <div align="left">
     <table id="table15" style="BORDER-COLLAPSE: collapse" borderColor="#111111" cellPadding="2" width="90%" border="0">
       <tr>
         <td width="100%">
         <ul>
           <li>Display the <code><font color="#008040">Navigator</font></code> 
           view in IRAD by selecting the <code><font color="#008040">Window</font></code> 
           menu, and select <code><font color="#008040">Show View-&gt;Navigator</font></code>. 
           </li>
           <li>Right-click your project name and point to <code>
           <font color="#008040">Convert to WAC project</font></code>. This 
           opens a wizard where you will need to provide some information as 
           explained below. </li>
         </ul>
         </td>
       </tr>
     </table>
   </div>
   </li>
 </ul>
 <ol>
   <li>In the <code><font color="#008040">Convert to WAC Project</font></code> 
   window, select <code><font color="#008040">Mkmk</font></code> (if need be), 
   the <code><font color="#008040">Tool level</font></code> and <code>
   <font color="#008040">Next&gt;</font></code>. The levels available in the list 
   will depend on your install. The tools are initialized. Click <code>
   <font color="#008040">Close</font></code> in the <code><font color="#008040">
   Initializing tools...</font></code> window. 
   </li>
   <li>Click <code><font color="#008040">Add...</font></code> in the <code>
   <font color="#008040">Convert to WAC Project</font></code> window to define 
   the prerequisites of the CAA V5 workspace you are creating. A <code>
   <font color="#008040">Select Directory</font></code> dialog box is displayed. 
   </li>
   <li>Browse to the directory containing the runtime view and click <code>
   <font color="#008040">OK</font></code>. 
   </li>
   <li>Click <code><font color="#008040">Next&gt;</font></code> once your 
   prerequisites are defined. The Installing Prereqs dialog box is displayed. 
   Click <code><font color="#008040">Close</font></code> when the installation 
   is done. 
   </li>
   <li>Click <code><font color="#008040">Close</font></code> in the <code>
   <font color="#008040">Eclipse Setup</font></code> window. 
   </li>
   <li>In the <code><font color="#008040">Framework name</font></code> field, 
   enter the framework name: <code>MyFw</code> and click
   <code><font color="#008040">Next&gt;</font></code>. </li>
   <li>In the <code><font color="#008040">Module name</font></code> field, enter 
   the module name: <code>CAAJdgSmartDictionary</code> 
   and click <code><font color="#008040">Finish</font></code>. The <code>
   <font color="#008040">Navigator</font></code> view now displays the generated 
   folder and the files matching the required CAA V5&nbsp; workspace architecture 
   (see picture opposite.)<div align="center">
&nbsp;</div>
   </li>
 </ol>
 <p>The final step consists in creating a new Java package for the generated 
 classes that will contain the generated business logic driving the behavior of 
 your web application.</p>
 <ol>
   <li>Expand the CAAWebApplication folder in the
    <code><font color="#008040">
   Navigator</font></code> view. 
    
   </li>
   <li>Right-click the SampleFw/SampleMd.mj/src folder and select
    <code>
   <font color="#008040">New-&gt;Other-&gt;Java-&gt;Package</font></code> to display the 
   window below. Click  <code><font color="#008040">
   Next&gt;</font></code>. 
    
   </li>
   <li>In the  <code><font color="#008040">
   Name</font></code><b>
    </b>field, enter
   
   <code>com.dassault_systemes_sample1</code>. 
    
   </li>
   <li>Click <code><font color="#008040">Finish</font></code> when done. </li>
 </ol>
 <h4>&nbsp;Running the Application on a WebSphere Test Environment
 <a name="Running the Application on a WebSphere Test Environment"></a>
 </h4>
 <p>Create a new JDialog to start the 
     local test server. To do so, select your web project in the <code>
 <font color="#008040">Navigator</font></code> view, 
     and select <code><font color="#008040">
 Run &gt;Run on server</font></code> from the 
     contextual menu. Wait until the server is in the state &quot;started&quot;.</p>
 <ol>
   <li>Open the <code><font color="#008040">Server</font></code> perspective. To 
   do so, from the <code><font color="#008040">Window</font></code> menu, select
   <code><font color="#008040">Show View-&gt;Servers</font></code>. 
   </li>
   <li>In the <code><font color="#008040">Server Configuration</font></code> 
   view, right-click and select <code><font color="#008040">New-&gt;Server</font></code>. 
   The <code><font color="#008040">New Server</font></code> dialog box is 
   displayed. 
   </li>
   <li>Select <code><font color="#008040">WebSphere v6.0 Server</font></code> 
   and click <code><font color="#008040">Finish</font></code>. 
   </li>
 </ol>
 <ul>
   <li>Customize your server. Right click your 
   <code><font color="#008040">WebSphere v6.0 Server@localhost</font></code>, 
   and select <code><font color="#008040">Start</font></code>. </li>
 </ul>
 <p>
 <img border="1" src="../CAAWacUseCases/image/CAAWACOpenServer1.gif"></p>
 <p>The following editor appears:</p>
 <p>
 <img border="1" src="../CAAWacUseCases/image/CAAWACOpenServer2.gif"></li>
   </p>
 <ul>
   <li>Right-click your application in the <code>
   <font color="#008040">Navigator</font></code> view, and select <code>
   <font color="#008040">Run-&gt;Run on Server</font></code>. </li>
 </ul>
 <p align="right">[<a href="#Top">Top</a>]</p>
 <h4><a name="How to create a new dialog"></a>Creating a Dialog&nbsp;</h4>
 <ol start="4">
   <li value="1">Select <code>
   <font color="#008040">File/New/Other.../CAA 
     e-application/JDialog File</font></code><i> </i>and click <code>
   <font color="#008040">Next</font></code>.&nbsp;<p>
   <img border="0" src="image/WacDBCreateXMLDlg.gif" width="509" height="605"></li>
   <li>In this window, select the 
   <i>CNext/resources/dialog</i> directory in 
     the framework where the new XMLDlg file will be created for your window. 
     Then, select the module and the package where the java controller will be 
     generated.&nbsp;<table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" id="AutoNumber50">
     <tr>
       <td width="3%" valign="top">
       <img border="0" src="../CAAIcons/images/warning.gif" width="30" height="30"></td>
       <td width="97%" valign="top">If an empty list appears in the package 
         selection window, check that your selected module is defined as a 
         Source directory in your project. If not, use the <code>
       <font color="#008040">CAA Project/Update-Generate Projects...</font></code><i> </i>window to declare this module as an IRAD project.</td>
     </tr>
   </table></li>
   <li>Enter <i>
   CAASmartDictionaryController</i> as the controller class name 
     associated to the window. Finally, choose the widget type of the root 
     container of the window. &quot;<i>Frame</i>&quot; is selected for the sample.</li>
   <li>Click <code>
   <font color="#008040">Finish</font></code>. The following 
     files are created:<ul>
     <li>The .XMLDlg file for the window description (created in MyFw\CNext\resources\dialog 
       directory)</li>
     <li>The .CATNls file for all NLS titles, images, and texts in the window 
       (created in MyFw\CNext\resources\msgcatalog directory)</li>
     <li>The .java file for the controller associated to the window (created 
       in MyFw\CAAJdgSmartDictionary.mj\src\com.dassault_systemes.smartdictionary)</li>
   </ul>
   <p>The DialogBuilder interactive editor is activated. Its toolbar is 
     inserted, and the editor is opened on the <code>
   <font color="#008040">Layout</font></code> tab page, showing an an empty Frame. Your framework 
     IdentityCard.h and your module ImakeFile.mk have been automatically updated 
     to add CATJDialog, CATJSystem ans CATJsyODT as compiling prerequisite 
     modules.&nbsp;</p>
   <table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" id="AutoNumber50">
     <tr>
       <td width="3%" valign="top">
       <img border="0" src="../CAAIcons/images/warning.gif" width="30" height="30"></td>
       <td width="97%" valign="top">
       <ul>
         <li>If you used <code>
         <font color="#008040">Open CAAV5 workspace</font></code>: 
           For the compilation to take into account these new prerequisites, run
           <code><font color="#008040">
         mkGetPreq</font></code> using 
         <code><font color="#008040">
         CAA Project / Get Prerequisites...</font></code>. 
           In this window, select <code><font color="#008040">
         Access 
           prerequisites from their origin location (mkGetPreq)</font></code> or
           <code><font color="#008040">
         Copy prerequisites from origin location 
           to a local directory and access them there (mkCopyPreq+mkGetPreq)</font></code>.
           <br>The second mode corresponds to a simple <code>
         <font color="#008040">mkCopyPreq</font></code> command, and is not valid here. Do not use 
           UNC path for prerequisites workspaces. IRAD does not support UNC 
           path, so if a prerequisite workspace is not local, map a network 
           drive, and use this drive instead of the UNC in the <code>
         <font color="#008040">Get Prerequisites...</font></code> window. If 
           you used <code><font color="#008040">
         Convert to WAC project</font></code>, 
           your prerequisites have already been defined. This command will also 
           automatically update your classpath to add CATJDialog.jar, 
           CATJSystem.jar and CATJSyOdt.jar. This last operation can also be 
           done independently using <code><font color="#008040">
         CAA 
           Project/Update libpath based on makefiles</font></code>.<br>&nbsp;</li>
         <li>If you used <code>
         <font color="#008040">Convert to WAC</font></code>: 
           For compilation of the controller with IRAD without error, you 
           need to update the ClassPath of your project in order to add 
           CATJDialog.jar, CATJSystem.jar and CATJSyOdt.jar. Since you have 
           already defined your prerequisites during the step &quot;Convert to WAC&quot;, 
           and since <code><font color="#008040">
         CAA Project/Update libpath 
           based on makefiles...</font></code><i> </i>is not available without 
           JID, do this manually: select you project in the Navigator view for 
           example, and select <code><font color="#008040">
         Properties</font></code><i> </i>in the contextual menu. In the window, select 
         <code><font color="#008040">
         Java Build Path</font></code>, then the 
         <code><font color="#008040">
         Libraries</font></code> tab page. Click 
         <code><font color="#008040">
         Add External JARs</font></code> to add these 3 
           jars.</li>
       </ul></td>
     </tr>
   </table>
   <p>Once you have set your prerequisites, you might need to republish and 
     restart the local test Server.</p>
   <p align="right">[<a href="#Top">Top</a>]</p>
   <h4>&nbsp;<a name="How to define the page setup and widget positioning"></a>Defining 
     the Page Setup and Widget Positioning</h4>
   <ul>
     <li>
     <h5>The Title banner of the window</h5></li>
   </ul>
   <blockquote>
     <p>This title is a Label widget. Click the Label icon in the toolbar. By 
       default, Label1 is created at the top-left in the window. In the outline, 
       you can see that this label is a child of the root frame widget.&nbsp;</p>
     <p><img border="0" src="image/WacDBTitle1.gif" width="547" height="96"></p>
     <p>To identify this label, change its name. In the property view change 
       the name field and set the value SmartDictionaryTitle. This is now the 
       name of the widget. By default, the name of the widget is also the text 
       displayed for the label.</p>
     <p><img border="0" src="image/WacDBTitle2.gif" width="557" height="96"></p>
     <p>Now we want to give an NLS Title to this widget (different from the 
       widget name): another way to modify the properties of a widget is to open 
       the property window. Select the <i>SmartDictionaryTitle</i> in the Layout 
       or in the Outline view, and click Properties in the contextual menu. The 
       properties window is opened. Enter &quot;<i>Smart Dictionary</i>&quot; in the 
     <i>Title</i> field and click <code><font color="#008040">OK</font></code>. 
       Then you see that the new title is displayed in the Layout, but the 
       widget name remains SmartDictionaryTitle in the Outline view. This title 
       is automatically added by the editor in the MyFw\CNext\resources\msgcatalog\CAAJdgSmartDictionary.CATNls 
       file.&nbsp;</p>
     <p><img border="0" src="image/WacDBTitle3.gif" width="557" height="96"></p>
     <p>In order to display the title with a bigger font and with a red 
       banner, change the Level property of the label. Set the Level property to 
       1, using one of the two methods explained previously.</p>
     <p><img border="0" src="image/WacDBTitle4.gif" width="538" height="96"></p>
     <p>Now, we must change the widget attachment. For the moment, the label 
       is at the top-left of the page, and it should be top centered and take 
       the width of the page. This can be done with the mouse in the Layout tab 
       page. Select the Label. The selected widget is highlighted with a pink 
       frame. Grab this frame and stretch it to the right border of the Layout 
       page. When you get the West-North-East cursor, release the mouse. The 
       cursor will reflect that the widget is attached on left-top-right borders 
       of the cell.</p>
     <p><img border="0" src="image/WacDBTitle5.gif" width="557" height="96"></p>
   </blockquote>
   <ul>
     <li><u>The Label and Combo Box for the Source Language</u></li>
   </ul>
   <blockquote>
     <p>Select the CATSmartDictionaryController frame in the Outline View, and 
       insert a Label and a Combo Box using the contextual Menu</p>
     <p>
     <img border="0" src="image/WacDBInsertContextMenu.gif" width="384" height="384"></p>
     <p>The new Label and Combo Box are created as children of 
       CAASmartDictionaryController root frame. Set the widget names to <i>SourceLangLabel</i> and 
     <i>SourceLangCombo</i> as explained before, in 
       the property view of each widget (field <i>name</i>) , and set the NLS 
       Title &quot;<i>Source Language:</i>&quot; to the SourceLangLabel widget.</p>
     <p>
     <img border="0" src="image/WacDBSourceLang1.gif" width="547" height="384"></p>
     <p>By default, widgets are added in the first empty cell found. If none 
       is found, a new row is added at the bottom of the page. In our sample, 
       each widget is added to a new row. You need to move <i>SourceLangCombo</i> 
       on the same row as <i>SourceLineLabel. </i>Use the mouse to drag the 
       widget to its desired position. Select the Combo Box, and keep the mouse 
       button pressed. The 3 cells of the grid layout are displayed with thin 
       black lines. <br>Move the Combo Box to the right of the SourceLangLabel cell. The future 
       place of the Combo Box is symbolized with a small square .&nbsp;</p>
     <p>
     <img border="0" src="image/WacDBSourceLang2.gif" width="547" height="384"></p>
     <p>Release the mouse, and a second column is created to contain the Combo 
       Box.</p>
     <p>
     <img border="0" src="image/WacDBSourceLang3.gif" width="547" height="384"></p>
     <p>You can notice that an &quot;empty cell&quot; is created on the first row, near 
       the <i>SmartDictionaryTitle. </i>Stretch again this label over the 2 
       columns so that it takes all the width of the page.</p>
     <p>Now you want to put the SourceLangLabel closer to the SourceLangCombo. 
       Therefore, select the SourceLangLabel in the Layout, and keep the mouse 
       down. You can see that this widget has a North-West attachment in the 
       cell. Move the widget to North-East of the cell, and release the mouse. 
       The Label is now closer to the Combo Box.</p>
     <p>
     <img border="0" src="image/WacDBSourceLang4.gif" width="547" height="384"></p>
     <p>You can now specify the <i>SourceLangCombo</i> content. Double-click
       <i>SourceLangCombo </i>in the layout or in the Outline view. The <i>Properties</i> window is displayed. Click 
     <code><font color="#008040">Object contents</font></code>. In this window, you can enter the list of 
       the languages to be displayed in the combo box. Add English, French, 
       German, Spanish, Italian and click <code><font color="#008040">OK</font></code>.</p>
     <p>
     <img border="0" src="image/WacDBSourceLangContent.gif" width="595" height="346"></p>
     <p>You should now see the following Layout:</p>
     <p>
     <img border="0" src="image/WacDBSourceLang5.gif" width="547" height="384">&nbsp;</p>
   </blockquote>
   <ul>
     <li><u>The Label and Combo Box for the Destination Language</u></li>
   </ul>
   <blockquote>
     <p>Repeat the same steps for the Destination Language Label and Combo 
       Box. Widget names are <i>DestLangLabel</i> and <i>DestLangCombo</i>. The 
       NLS Title for <i>DestLangLabel</i> is <i>&quot;Destination Language:&quot;</i>, and 
       the content of <i>DestLangCombo</i> is French, English, German, Spanish, 
       Italian. The result is the following:</p>
     <p><img border="0" src="image/WacDBDestLang1.gif" width="547" height="384"></p>
   </blockquote>
   <ul>
     <li><u>The Enter Text Label and Text Field</u></li>
   </ul>
   <blockquote>
     <p>Repeat the same steps to insert a label and a TextField. Widget names 
       are <i>EnterTextLabel</i> and <i>WordZone,</i> and the NLS Title for <i>EnterTextLabel</i> is &quot;<i>Enter Text</i>&quot;.</p>
     <p><img border="0" src="image/WacDBEnterText.gif" width="547" height="384"></p>
   </blockquote>
   <ul>
     <li><u>The Translate button</u></li>
   </ul>
   <blockquote>
     <p>Insert a button. The widget name is <i>TranslateButton</i> and its NLS 
       Title is &quot;<i>Translate</i>&quot;. By default, a new row is created to insert 
       this button, and the button is in the first column of this row. Drag the 
       button over to the second column as explained before.</p>
     <p><img border="0" src="image/WacDBTranslate.gif" width="547" height="384"></p>
   </blockquote>
   <ul>
     <li><u>The Result</u></li>
   </ul>
   <blockquote>
     <p>Insert now 2 Labels for the Result. Widget names are <i>ResultLabel</i> 
       and <i>ResultZoneLabel. </i>The NLS Title for <i>ResultLabel</i> is &quot;<i>Result:</i>&quot; 
       but the text for the <i>ResultZoneLabel</i> is not static and will be 
       dynamically managed by the java controller. By default, ResultLabel is 
       created in the first empty cell found (first column of the fifth row), 
       and the ResultZoneLabel is created in the first column of a new row. Drag 
       the labels in the correct cells.</p>
     <p><img border="0" src="image/WacDBResult.gif" width="547" height="384"></p>
   </blockquote>
   <ul>
     <li>Resizable rows and columns</li>
   </ul>
   <blockquote>
     <p>Now, if you compare your window layout with the
       <a href="#What does CAAJdgSmartDictionary do">expected result</a>, you 
       can notice that there is more space between rows. By default, the total 
       height of the window is divided by the number of rows, and the total 
       width is divided by the number of column, depending also on the size of 
       the widget displayed in each cell. In our example, the height is divided 
       in 6 equal rows, and the width is divided in 2 columns almost equal. You 
       can change it by specifying extendable rows and columns. Click the thin 
       red line in front of the last row. Since it has now become the only 
       extendable row in the window, it will extend to take as much space as 
       possible. The first 5 rows now occupy the minimum necessary place to 
       display the titles, and the remaining space is left for the last row. Had 
       there been several extendable rows, the fix rows would have taken the 
       minimum place to be displayed, leaving the remaining space to be shared 
       between the extendable rows. The same mechanism exists for extendable 
       columns. Click the thin red line of the last column.</p>
     <p>
     <img border="0" src="image/WacDBExtendableRow.gif" width="538" height="384"></p>
     <p>The layout of your window is now complete. Save your work using<i> </i>
     <code><font color="#008040">File/Save</font></code> or <code>
     <font color="#008040">Ctrl+S</font></code>. All associated files (.XMLDlg, 
       .CATNls, .java) are automatically saved.</p>
   </blockquote>
   <p align="right">[<a href="#Top">Top</a>]</p>
   <h4><a name="How to declare jave variables in the controller"></a>Declaring 
     Java Variables in the Controller</h4>
   <p>To define the behavior of your window in the java controller, manage the 
     widgets through associated java variables. In this example, you will need 
     to retrieve the selected languages in the 2 combo boxes, as well as the 
     text to be translated, and set the result of the translation. Each widget 
     being mapped to a java variable, you need 4 java variables in this example.</p>
   <p>We start by declaring the java variable _srcLangCombo associated to the
     <i>SourceLangCombo</i> widget:<ol>
     <li>Select the <i>SourceLangCombo</i> widget in the Layout or in the 
       Outline View. Set the value _srcLangCombo for the property &quot;<i>variable 
       name</i>&quot; in the &quot;Properties view&quot; or in the &quot;Properties window&quot;.&nbsp;</li>
   </ol>
   <p>&nbsp;<img border="0" src="image/WacDBJavaVariable.gif" width="547" height="384"><ol start="2">
     <li>Set following other java variables on widgets:</li>
   </ol>
   <table width="613">
     <tr>
       <td width="133"><u><b>Widget</b></u></td>
       <td width="466"><u><b>variable</b></u></td>
     </tr>
     <tr>
       <td width="133">DestLangCombo</td>
       <td width="466"><code>_destLangCombo&nbsp;</code></td>
     </tr>
     <tr>
       <td width="133">WordZone</td>
       <td width="466"><code>_wordZone</code></td>
     </tr>
     <tr>
       <td width="133">ResultZone</td>
       <td width="466"><code>_resultZone</code></td>
     </tr>
   </table>
   <p>Now, the java controller contains 4 java variables declarations.</p>
   <p align="right">[<a href="#Top">Top</a>]</p>
   <h4><a name="How to declare callbacks in the controller"></a>Declaring 
     Callbacks in the Controller</h4>
   <p>In this application, the only method you need is the callback associated 
     to the TranslateButton activation.<ol>
     <li>Edit the &quot;Properties window&quot; on the <i>TranslateButton</i> Widget. In 
       this window, there is a frame named &quot;Events&quot;. It contains all events 
       available for a push button. You must declare an associated callback when 
       the button is activated. So for the &quot;onButtonActivated&quot; event, declare a 
       method named &quot;onTranslate&quot;. This method will be automatically added to 
       the java controller with the default arguments for a callback.</li>
       <p>
       <img border="0" src="image/WacDBCallback.gif" width="595" height="701"></li>
     <li>Save your work with<i> Ctrl+S</i>.</li>
     <li>Edit the java controller file <i>MyFw\CAAJdgSmartDictionary.mj\src\com.dassault_systemes.smartdictionary\CAASmartDictionaryController.java</i>:<p>
     <img border="0" src="image/WacDBJavaController.gif" width="518" height="490"></li>
     <li>You can fill the body of the <i>onTranslate</i> method, corresponding 
       to the
       <a href="../CAAJdgUseCases/CAAJdgCreatingCommand.htm#Step6">documented JDialog Use Case</a>, and save the file.<table class="code">
       <tr>
         <td>
         <p style="word-spacing: 0; margin-top: 0; margin-bottom: 0">
         <font size="2" color="#3f7f5f" face="Courier New">//</font> </p>
         <p style="word-spacing: 0; margin-top: 0; margin-bottom: 0">
         <font size="2" color="#3f7f5f">// Java Method generated: fill body</font>
         </p>
         <p style="word-spacing: 0; margin-top: 0; margin-bottom: 0">
         <font size="2" color="#7f0055" face="Courier New">public void </font>
         <font size="2" color="#000000">onTranslate(CATDialog iDialog, 
           CATNotification iNotification, Object iData){</font> </p>
         <blockquote>
           <p style="word-spacing: 0; margin-top: 0; margin-bottom: 0">_resultZone.setTitle(<font size="2" color="#2a00ff" face="Courier New">&quot;translate 
             &quot;</font><font size="2" color="#000000">+_wordZone.getText()+</font></p>
           <font size="2" color="#2a00ff">
           <p style="word-spacing: 0; margin-top: 0; margin-bottom: 0">&quot; from 
             &quot;</font><font size="2" color="#000000">+_srcLangCombo.getSelection()+</font><font size="2" color="#2a00ff">&quot; 
             to &quot;</font><font size="2" color="#000000">+_destLangCombo.getSelection());</font></p>
         </blockquote>
         <p style="word-spacing: 0; margin-top: 0; margin-bottom: 0">}</td>
       </tr>
     </table>
     <p align="right">[<a href="#Top">Top</a>]</p>
     <h4><a name="How to get a Preview of the panel"></a>Getting a Preview of 
       the Window</h4>
     <p>You now want to check that your window has been correctly defined, and 
       that it runs correctly in a Web server project.</p>
     <p>Since your CAAV5 workspace has been defined as a Web Project in IRAD, you can use <code><font color="#008040">Run on Server </font></code>in the 
     <i>Navigator view</i>. When the server is started, select the
       <code><font color="#008040">Preview</font></code> tab page in the 
       DialogBuilder editor.&nbsp;</p>
     <div align="left">
       <table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="100%" id="AutoNumber1">
         <tr>
           <td width="4%" valign="top">
           <img border="0" src="../CAAIcons/images/information.gif" width="31" height="30"></td>
           <td width="96%" valign="top">You can also run your application in a 
             standard&nbsp; web browser. To do so, remember to:<ul>
             <li>Run <code><font color="#008040">mkrtv</font></code> using
               <code><font color="#008040">CAAV5 Workspace-&gt;Create/Update 
               Runtime View</font></code>.</li>
             <li>Use <code><font color="#008040">Run on Server</font></code> 
               to start the server.</li>
             <li>Enter the following URL in the browser: <code>
             http://localhost:9080/WebTest/html/CAAJdgSmartDictionary</code>.</li>
           </ul></td>
         </tr>
       </table>
     </div>
     <p>While you design the layout of the window, the corresponding XMLDlg 
       and CATNls files are created under the framework. Since the preview 
       fetches files under the runtime view, an update of the runtime view is 
       run transparently whenever you activate the Preview tab page.</p>
     <p>Select a source language and a destination language in the predefined 
       list of languages in the combo boxes, enter a text to be translated, push 
       the button Translate. The result is displayed in the result zone. The 
       preview tab page offers more than a simple rendering of the window 
       because your java code is also being executed in the web server. </p>
     <p><img border="0" src="image/WacDBPreview.gif" width="490" height="346"></p>
     <hr>
     <h3><a name="InShort"></a>In Short</h3>
     <p>Creating a JDialog window involves 4 steps:
       <ol>
         <li>Defining the content and the layout</li>
         <li>Declaring java variables</li>
         <li>Declaring methods on events</li>
         <li>Getting a preview of the window.</li>
     </ol>
     <p align="right">[<a href="#Top">Top</a>]</p><hr>
     <h3><a name="References"></a>References</h3>
     <table width="100%">
       <tr>
         <td valign="top">[1]</td>
         <td>
         <a href="../CAAJdgBase/CAAJdgHome.htm">JDialog Documentation HomePage</a></td>
       </tr>
       <tr>
         <td valign="top">[2]</td>
         <td>
         <a href="../CAAJdgTechArticles/CAAJdgOverview.htm#Top">JDialog Overview</a></td>
       </tr>
       <tr>
         <td valign="top">[3]</td>
         <td>
         <a href="../CAAJdgUseCases/CAAJdgCreatingCommand.htm#Top">CAAJdgSmartDictionary JDialog Use Case</a></td>
       </tr>
       <tr>
         <td valign="top">[4]</td>
         <td>
         <a href="../CAAVbtQuickRefs/CAAVBTJavaDashboardirad6.htm#Top">Java Interactive Dashboard</a></td>
       </tr>
       <tr>
         <td valign="top" align="right" colspan="2">[<a href="#Top">Top</a>]</td>
       </tr>
     </table><hr>
       <!---------------------------------comment------------------------------------->
       <h3><a name="History"></a>History</h3>
     <table width="100%">
       <tr>
         <td valign="top">Version: <strong>1</strong> [November 2006]</td>
         <td valign="top">Document created</td>
       </tr>
       <tr>
         <td valign="top" align="right" colspan="2">[<a href="#Top">Top</a>]</td>
       </tr>
     </table><hr>
       <!---------------------------------comment------------------------------------->
       <p><i>Copyright © 1994-2005, Dassault Systèmes. All rights reserved.</i></li>
   </ol></li>
 </ol>
 <ol>
 </ol>

 </body>

</html>
