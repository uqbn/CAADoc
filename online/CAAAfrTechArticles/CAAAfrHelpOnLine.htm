<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<link rel="Stylesheet" type="text/css" href="../CAADocStyleSheets/caav5.css">
<title>Contextual Help</title>
</head>

<body>

<table width="100%">
  <tr>
    <td valign="top">
      <h1>&nbsp;3D PLM Enterprise Architecture</h1>
    </td>
    <td valign="top">
      <h2>User Interface - Frame</h2>
    </td>
    <td rowspan="2" align="right" valign="top">
      <h3><a name="Top"></a>Contextual Help</h3>
      <em>Structure and contents of a technical documentation file tree</em></td>
  </tr>
  <tr>
    <td class="tech" colspan="2">Technical Article</td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->

<table class="abstract">
  <tr>
    <td>
      <h3>Abstract</h3>
      <p>This article shows how&nbsp;to create a technical documentation file
      tree and how to set a link from the command to the technical
      page.&nbsp;
      <ul>
        <li><a href="#First Part"><strong>How to Activate the Contextual Help</strong></a></li>
        <li><a href="#Second Part"><b>Contextual Help Mechanism</b></a>
          <ul>
            <li><a href="#The URL Link">The URL Link</a></li>
            <li><a href="#MappingFile">The Mapping File</a></li>
            <li><a href="#Multi-Documentation">Multi-Documentation</a></li>
          </ul>
        </li>
        <li><a href="#Third part"><strong>Contents of the Documentation File Tree</strong></a></li>
        <li><a href="#InShort"><strong>In Short</strong></a></li>
        <li><a href="#References"><strong>References</strong></a></li>
      </ul>
    </td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->

<h3><a name="First Part"></a>How to Activate the Contextual Help</h3>
<p>During the execution of an interactive command, the corresponding contextual documentation can be made available by clicking on the F1 key. A page is then
displayed in the browser explaining in detail the role of the command. Here is
an example with the &quot;Shaft&quot; command:</p>
<table>
  <caption><i><a name="Fig.1">Fig.1</a>: Help text for the &quot;Shaft&quot;
    command</i></caption>
  <tr>
    <td><img border="0" src="images/CAAAfrHOLPadDoc.jpg" width="589" height="592"></td>
  </tr>
</table>
<p>In order for the F1 key to enable the display of the help text page, it is
necessary for the command to be the &quot;focus&quot;, i.e., it must be either
in exclusive or shared mode. See the &quot;CAA Command Model&quot; [<a href="#References">1</a>]&nbsp;
article for further explanations regarding the mode of a command.</p>
<p>Because of this limitation on the usage of the F1 key, there exists a second
way of accessing the contextual documentation: by moving&nbsp;on the command the &quot;What's This
?&quot; command represented by the&nbsp; <img border="0" src="images/CAAAfrHOLWhatIsThis.jpg" width="30" height="24">&nbsp;
icon. A &quot;More Info&quot; link has been added to the long
help text.&nbsp;</p>
<table>
  <caption><i><a name="Fig.2">Fig.2</a>: More Info</i></caption>
  <tr>
    <td><img border="0" src="images/CAAAfrHOLMoreInfo.jpg" width="341" height="70"></td>
  </tr>
</table>
<p align="left"> By clicking on it, a HTML page is displayed. Just above, it is an example
with the &quot;Reframe&quot; command for which the F1 key cannot be activated.&nbsp;</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->

<h3><a name="Second Part"></a>Contextual Help Mechanism</h3>
<p>On the one hand, there is a command and on the other a HTML page. The command
is in a normal Framework containing code, whereas the HTML page is in a specific
documentation file tree. The runtime link is established through a URL:</p>
<ul>
  <li>The URL link is specified in the resources file associated to the command
  <li>The address of the HTML page is associated to the URL through a mapping
    file</li>
</ul>
<p>Therefore, by transition, starting from the command, it is possible to reach
the documentation page.</p>
<h4><a name="The URL Link">The URL Link</a></h4>
<p>The URL link for a command is a resource. It can thus be
found in the CATRsc files for the commands. The keyword used to associate a URL
link is <b>LongHelpId.</b></p>
<p>Example:</p>
<p>Let's have a look at an example based on the &quot;Point&quot; command for
the CAAGeometry document used for command use cases. Here is an extract from the
CAAAfrGeometryWksHeader.CATRsc file which is the resource file associated to the
<i>CATCommandHeader</i>  class for the &quot; Point&quot; command. This file is set in the
CAAApplicationFrame.edu\CNext\resources\msgcatalog directory:</p>
<table class="code">
  <tr>
    <td>
      <pre>CAAAfrGeometryWksHeader.CAAAfrPointHdr.<b>LongHelpId</b> = &quot;CAAAfrGeometryWksHeader.CAAAfrPointHdr&quot;;</pre>
    </td>
  </tr>
</table>
<p>where:</p>
<table border="1" width="99%" cellpadding="2">
  <tr>
    <td width="29%" valign="top">CAAAfrGeometryWksHeader</td>
    <td width="137%">is the command header resource file name</td>
  </tr>
  <tr>
    <td width="29%" valign="top">CAAAfrPointHdr</td>
    <td width="137%">is the identifier of the CAAAfrGeometryWksHeader class
      instance created for the Point command</td>
  </tr>
  <tr>
    <td width="29%" valign="top">LongHelpId&nbsp;&nbsp;</td>
    <td width="137%">is the keyword dedicated to associate a URL to the command</td>
  </tr>
  <tr>
    <td width="29%" valign="top">CAAAfrGeometryWksHeader.CAAAfrPointHdr</td>
    <td width="137%">is the URL link.&nbsp;</td>
  </tr>
</table>
<p>For naming the URL link, follow the recommended rules for objects providing
contextual help. For commands, see the &quot;Creating Resources for Command
Header&quot; [<a href="#References">2</a>] technical article and for the Tools
Options pages, see the &quot;Application Property Access&quot; [<a href="#References">3</a>]
article.</p>
<h4><a name="MappingFile"></a>The Mapping File</h4>
<h5>Contents of the Mapping File</h5>
<p>The mapping file contains the equivalences between the URL links and the <b>relative</b> <b>addresses</b>
of the HTML pages in the documentation file tree.</p>
<p>Example:</p>
<p>For the same &quot;Point&quot; command like just above, in the mapping file you have the following
line:</p>
<table class="code" height="21">
  <tr>
    <td height="17">
      <pre>CAAAfrGeometryWksHeader.CAAAfrPointHdr = &quot;GeoWs_C2/GeoWspoint.htm&quot;;</pre>
    </td>
  </tr>
</table>
<p>where:</p>
<table border="1" width="100%" cellpadding="2">
  <tr>
    <td width="31%" valign="top">CAAAfrGeometryWksHeader.CAAAfrPointHdr&nbsp;&nbsp;&nbsp;</td>
    <td width="69%">URL defined in the resources file for the &quot;Point&quot;
      command -see the <a href="#The URL Link">URL link </a>section</td>
  </tr>
  <tr>
    <td width="31%" valign="top">GeoWs_C2/GeoWspoint.htm</td>
    <td width="69%">Relative position of the HTML page for the Point command in the documentation file
      tree . It is always the same syntax: <b>ModuleName/CommandPageName.htm&nbsp;</b>
      <ul>
        <li><b>ModuleName</b> is a directory in the documentation file tree which
          contains a set of HTML pages and a table of contents page. The
          directory's location in the documentation file tree is explained in the <a href="#Third part">Contents
          of the Documentation File Tree</a> section.</li>
        <li><b>CommandPageName</b>.<b>htm</b> is set in the ModuleName directory. It
          is a page which contains the information that can help the end user to better
          understand the command.</li>
      </ul>
    </td>
  </tr>
</table>
<h5>Name of the Mapping file</h5>
<p>The mapping file name is CommonId2url.CATNls.</p>
<h5>Location of the Mapping File</h5>
<p>The location of the mapping file in the documentation file tree is explained
by the [<a href="#Fig.5">Fig.5</a>]</p>
<h4><a name="Multi-Documentation">Multi-Documentation</a></h4>
<p>For Dassault Systemes commands, the documentation can be found in an
installation directory. Each DS partner has his own documentation file tree.
This is why it is possible, at runtime, to concatenate the documentation file
trees. Here is a screen shot of the Help tab page of the General option of the
Options command.&nbsp;</p>
<table>
  <caption><i><a name="Fig.3">Fig.3</a>: Concatenation of documentation
    path&nbsp;</i></caption>
  <tr>
    <td><img border="0" src="images/CAAAfrHOLToolsOptionsComment.jpg" width="501" height="185"></td>
  </tr>
</table>
<p><img border="0" src="../CAAIcons/images/warning.gif" width="30" height="30">The
order of concatenation is important: When searching for a page, the search goes
from the first to the last path, ending as soon as the page has been found.</p>
<p>Note: The CATUserDocView variable is no longer available.&nbsp;</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->

<h3><a name="Third part"></a>Contents of the Documentation File Tree</h3>
<p>At runtime, a page associated to the command is created and displayed in the
browser. This page has a frame set containing five sub-parts:</p>
<table>
  <caption><i><a name="Fig.4">Fig.4</a>: Organization of the created page</i></caption>
  <tr>
    <td><img border="0" src="images/CAAAfrHOLFrame.jpg" width="511" height="395"></td>
  </tr>
</table>
<table border="1" width="100%" cellpadding="2">
  <tr>
    <td width="21%" valign="top" style="height: 44px; text-align: left">The information page:<br />
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<strong> 1</strong></td>
    <td width="79%" valign="top" style="height: 44px">It is a HTML file which contains any
      information that can help the end user to better understand the
      command.<br />
        <br />
        Each file is located in a module directory, as explained in the [<a href="#Fig.5">Fig.5</a>].</td>
  </tr>
  <tr>
    <td width="21%" valign="top">The banner page of the current module:<br />
        <br />
        <br />
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <strong>2</strong></td>
    <td width="79%" valign="top">A module is a set of information pages for the same workbench, solution, product, etc.
      The location of the modules directories in the documentation file tree depends on the language, it is explained in the [<a href="#Fig.5">Fig.5</a>].&nbsp;&nbsp;
      <p>This banner page is a HTML page which contains information about the
      current module, that is the module where the information page is located. The workbench name, its icon ...</p>
        <p>
            For a DS product line, the name of this banner file depends on the module name
            and on the product line: &lt;<strong>ModuleName</strong>&gt;&lt;<strong>ProductLineGroup</strong>&gt;<b>bnr</b>.htm. </p>
        <p>
            <strong>&lt;ProductLineGroup&gt;</strong> represents the product line group, it depends on the product line:
        </p>
            <p>The following table presents the corresponding product line
                group for each product
                line:</p>
            <p>
                <table style="text-align: left">
                    <tr>
                        <td style="width: 145px">
                            Product Line Group</td>
                        <td style="width: 155px">
                            &nbsp; &nbsp; &nbsp; Product Line</td>
                    </tr>
                    <tr>
                        <td style="width: 145px">
                            CATIA</td>
                        <td style="width: 155px">
                            <br />
                            <ul>
                                <li style="text-align: left">CATIA_P3</li>
                                <li>CATIA_STUDENT</li>
                                <li>CATIA_PLM_Express</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td style="width: 145px; height: 21px">
                            DELMIA</td>
                        <td style="width: 155px; height: 21px">
                        <br />
                            <ul>
                                <li>DELMIA</li>
                                <li>DELMIA_Automation</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td style="width: 145px">
                            DMU</td>
                        <td style="width: 155px">
                        <br />
                            <ul>
                                <li>ENOVIA_3d_com</li>
                                <li>ENOVIA_V5_VPM</li>
                                <li>ENOVIA_DMU_Navigator</li>
                                <li>ENOVIA_CES</li>
                            </ul>
                        </td>
                    </tr>
                </table>
            </p>
            <p>For a non DS product line, the name of this banner file depends on the module name and
                on the product line name: &lt;<strong>ModuleName</strong>&gt;&lt;<strong>ProductLineName</strong>&gt;<b>bnr</b>.htm.
                Refer to the&nbsp; "What Is the Product Line Visual Identity" technical article
                [<a href="#References">4</a>], to find the name of the product line.</p>
        <p>
            This file is not located in the module directory but is located in the same directory as the banner page of
      the product line. Refer to the fourth row of this table.&nbsp;
        </p>
    </td>
  </tr>
  <tr>
    <td width="21%" valign="top">The table of contents page for the current module:<br />
        <br />
        <br />
        <br />
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <strong>3</strong></td>
    <td width="79%" valign="top">It is a HTML file which contains links to the information pages found in the same
      module. There is only one table of contents file per module. 
        <br />
        <br />
        For a DS product line, the name of this toc file depends on the module name
        and on the product line: &lt;<strong>ModuleName</strong>&gt;&lt;<strong>ProductLineGroup</strong>&gt;<b>toc</b>.htm.
        <br />
        <br />
            <strong></strong>Refer to the second row of this table to get values of 
            &lt;<strong>ProductLineGroup</strong>&gt; for each product line.<p>
        </p>
        <p>
            For a non DS product line, the name of this toc file depends on the module name and on
                the product line name: &lt;<strong>ModuleName</strong>&gt;&lt;<strong>ProductLineName</strong>&gt;<strong>toc</strong>.htm.
                Refer to the&nbsp; "What Is the Product Line Visual Identity" technical article
                [<a href="#References">4</a>], to find the name of the product line.</p>
        <p>
            This file is located in the module directory.</p>
    </td>
  </tr>
  <tr>
    <td width="21%" valign="top">The banner page of the product line:<br />
        <br />
        <br />
        <br />
        <br />
        <br />
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <strong>4</strong>
    </td>
    <td width="79%" valign="top">It is a HTML file which contains links to generic pages or functions and
      especially a link to the home page that contains information regarding all the modules.<br />
        <br />
        For a DS product line, the name of this banner file depends on the product
        line group: &lt;<strong>ProductLineGroup</strong>&gt;<b>bnr</b>.htm.
        <br />
        <br />
        <strong></strong>Refer to the second row of this table to get values of &lt;<strong>ProductLineGroup</strong>&gt;
        for each product line.<p>
        </p>
        <p>
            For a non DS product line, the name of this toc file depends on the product
            line name: &lt;<strong>ProductLineName</strong>&gt;<strong>bnr</strong>.htm. Refer
            to the&nbsp; "What Is the Product Line Visual Identity" technical article [<a href="#References">4</a>],
            to find the name of the product line.</p>
        <p>
 This banner file is, therefore, unique and is saved in a
      directory whose name depends
            on the product line:
      <ul>
        <li> CATIAfr_C2 for CATIA_P3,</li>
          <li>catsfr_C2 for CATIA_STUDENT,</li>
          <li>xatfr_C2 for CATIA_PLM_Express,&nbsp; </li>
          <li>DELMIAfr_D2 for DELMIA,</li>
          <li>wdafr_W2 for DELMIA_Automation,</li>
          <li>omdfr_O2 for ENOVIA_3d_com,</li>
          <li>lcafr_L2 for ENOVIA_V5_VPM,</li>
          <li> DMUfr_E2&nbsp;for&nbsp; ENOVIA_DMU_Navigator,</li>
          <li>vbafr_V2 for ENOVIA_CES,</li>
          <li>The name of the product line for a non DS product line [<a href="#References">4</a>]</li>
      </ul>
      <p>The location of this directory in the documentation file tree depends on the language, it is 
      explained by the [<a href="#Fig.5">Fig.5</a>]</td>
  </tr>
  <tr>
    <td width="21%" valign="top"><img border="0" src="../CAAIcons/images/hand.gif" width="31" height="15">The navigation page:<br />
        <br />
        <br />
        <br />
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <strong>5</strong></td>
    <td width="79%" valign="top">It is a HTML page which contains a
      navigation tool. This file is located in a
      directory whose name depends on the product line: icons&lt;<strong>BrandExtension</strong>&gt;. </p>
        <p>
            <strong>&lt;BrandExtension&gt;</strong> represents the brand extension, it depends on the product line:
        </p>
            <p>The following table presents the corresponding brand extension
               for each product line:</p>
            <p>
                <table style="text-align: left">
                    <tr>
                        <td style="width: 145px">
                            Brand extension</td>
                        <td style="width: 155px">
                            &nbsp; &nbsp; &nbsp; Product Line</td>
                    </tr>
                    <tr>
                        <td>
                            _C2</td>
                        <td>
                            <br />
                            <ul>
                                <li style="text-align: left">CATIA_P3</li>
                                <li>CATIA_STUDENT</li>
                                <li>CATIA_PLM_Express</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            _D2</td>
                        <td>
                        <br />
                            <ul>
                                <li>DELMIA</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td>_W2</td>
                        <td>
                        <br />
                            <ul>
                                <li>DELMIA_Automation</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td>_O2</td>
                        <td>
                        <br />
                            <ul>
                                <li>ENOVIA_3d_com</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td>_L2</td>
                        <td>
                        <br />
                            <ul>
                                <li>ENOVIA_V5_VPM</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td>_E2</td>
                        <td>
                        <br />
                            <ul>
                                <li>ENOVIA_DMU_Navigator</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td>_V2</td>
                        <td>
                        <br />
                            <ul>
                                <li>ENOVIA_CES</li>
                            </ul>
                        </td>
                    </tr>
                </table>
            </p>

        </p>
        <p>
            For a non DS product line, the name of this directory depends on the product
            line name: icons_&lt;<strong>ProductLineName</strong>&gt;. Refer
            to the&nbsp; "What Is the Product Line Visual Identity" technical article [<a href="#References">4</a>],
            to find the name of the product line.</p>
        <p>
      <p>The location of this directory in the documentation file tree depends on the language, it is 
      explained by the [<a href="#Fig.5">Fig.5</a>]</td>
  </tr>
</table>
<p>The architecture of the documentation file tree is the following:</p>
<table>
  <caption><i><a name="Fig.5">Fig.5</a>: Architecture of the Documentation File
    Tree&nbsp;</i></caption>
  <tr>
    <td style="width: 580px"><img border="0" src="images/CAAAfrHOLDirectoryEnglish.jpg" style="width: 569px; height: 365px"></td>
  </tr>

  <tr>
    <td><img border="0" src="images/CAAAfrHOLDirectoryLang.jpg" width="603" style="height: 409px"></td>
  </tr>
</table>
<p>The documentation file tree contains at the first level the online and
resources directories for the English version, and a directory for each non English version. The non
English version directory contains itself the&nbsp; resources and online directories. The contents of these two sub-directories is
the following:</p>
<ul>
  <li>The <b>resources</b> sub-directory.&nbsp;
</ul>
<blockquote>
  <p> This sub-directory always contains the <b>msgcatalog</b> directory. For
  the English version, this directory contains the mapping file, otherwise it
  contains a language
      directory containing the mapping file.</p>
</blockquote>
<ul>
  <li>The <b>online</b> sub-directory.&nbsp;
</ul>
<blockquote>
  <p>For the English version, the online directory contains:</p>
  <ul>
    <li><b>module_xxx</b>: each directory which represents a logical grouping for a workbench, a solution, a product,
    etc.&nbsp;It contains the documentation files for the commands and the table
      of contents file (toc). The online directory can have several
      modules.&nbsp;</li>
  </ul>
  <p><img border="0" src="../CAAIcons/images/warning.gif" width="30" height="30">
  The
names of these modules mustn't include the '_' character.</p>
  <ul>
    <li><b>image</b>: The images used in the documentation files.&nbsp;</li>
    <li><b>ProductLineName</b>: the directory which contains the banner file of
      the product line and the banner of each module.</li>
    <li><img border="0" src="../CAAIcons/images/hand.gif" width="31" height="15"><b>icons_xxx</b>:
    the directory which contains the no_navigation.htm
      file.&nbsp;</li>
  </ul>
  <p>For a non English version, between the online directory and all these
  above directories there is the language directory.</p>
</blockquote>

<p>Refer you to the &quot;Contextual Help for an Add-on&quot; use case [<a href="#References">6</a>]
for an example.</p>

<p align="right">[<a href="#Top">Top</a>]</p>
<hr>
<!---------------------------------comment------------------------------------->

<h3><a name="InShort"></a>In Short</h3>
<p>This article has demonstrated how to create a documentation directory and
described the mechanisms for a contextual help.</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<hr>
<!---------------------------------comment------------------------------------->

<h3><a name="References"></a>References</h3>
<table width="100%">
  <tr>
    <td valign="top">[1]</td>
    <td><a href="../CAADegTechArticles/CAADegCommandModel.htm">The CAA Command Model</a></td>
  </tr>
  <tr>
    <td valign="top">[2]</td>
    <td><a href="CAAAfrI18NHeader.htm">Creating Resources for Command Headers</a></td>
  </tr>
  <tr>
    <td valign="top">[3]</td>
    <td><a href="../CAACafTechArticles/CAACafToolsOptions.htm">Application Property Access</a></td>
  </tr>
  <tr>
    <td valign="top">[4]</td>
    <td><a href="CAAAfrVisualIdentity.htm">What Is the Product Line Visual
      Identity</a></td>
  </tr>
  <tr>
    <td valign="top">[5]</td>
    <td><a href="../CAAAfrUseCases/CAAAfrSampleVisualIdentity.htm">Creating
      a Product Line Visual Identity</a></td>
  </tr>
  <tr>
    <td valign="top">[6]</td>
    <td><a href="../CAAAfrUseCases/CAAAfrSampleContextualHelpCATIA.htm">Contextual Help for an Add-On</a></td>
  </tr>
  <tr>
    <td valign="top" align="right" colspan="2">[<a href="#Top">Top</a>]</td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->
<h3><a name="History"></a>History</h3>
<table width="100%">
  <tr>
    <td valign="top">Version: <strong>1</strong> [Mar 2002]</td>
    <td valign="top">Document created</td>
  </tr>
  <tr>
    <td valign="top">Version: <strong>2</strong> [Nov 2002]</td>
    <td valign="top">Document updated</td>
  </tr>
  <tr>
    <td valign="top">Version: <strong>3</strong> [Jan 2003]</td>
    <td valign="top">Document updated</td>
  </tr>
  <tr>
    <td valign="top">Version: <strong>4</strong> [Nov 2007]</td>
    <td valign="top">Document updated</td>
  </tr>
  <tr>
    <td valign="top">Version: <strong>5</strong> [Sep 2008]</td>
    <td valign="top">Document updated</td>
  </tr>
  <tr>
    <td valign="top" align="right" colspan="2">[<a href="#Top">Top</a>]</td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->
<p><i>Copyright © 2002, Dassault Systèmes. All rights reserved.</i></p>

</body>

</html>
