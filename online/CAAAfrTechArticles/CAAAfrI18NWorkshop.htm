<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 6.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<link rel="Stylesheet" type="text/css" href="../CAADocStyleSheets/caav5.css">
<title>Creating Resources for Workshops or Workbenches</title>
</head>

<body>

<table width="100%">
  <tr>
    <td valign="top">
      <h1>3D PLM Enterprise Architecture</h1>
    </td>
    <td valign="top">
      <h2>User Interface - Frame</h2>
    </td>
    <td rowspan="2" align="right" valign="top">
      <h3><a name="Top"></a>Creating Resources for Workshops or Workbenches</h3>
      <em>How to provide the title, help messages, and icons for workshops or
      workbenches</em></td>
  </tr>
  <tr>
    <td class="tech" colspan="2">Technical Article</td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->

<table class="abstract">
  <tr>
    <td>
      <h3>Abstract</h3>
      <p>This article shows how to create the resource files, and fill them in
      with the appropriate resources, for a workshop or a workbench.
      <ul>
        <li><a href="#100000"><strong>Creating the Resource Files</strong></a></li>
        <li><a href="#200000"><strong>Filling in the CATNls Resource File</strong></a></li>
        <li><a href="#300000"><strong>Filling in the CATRsc Resource File</strong></a></li>
        <li><a href="#400000"><strong>Providing the Icon Files</strong></a></li>
        <li><a href="#InShort"><strong>In Short</strong></a></li>
        <li><a href="#References"><strong>References</strong></a></li>
      </ul>
    </td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->

<h3><a name="100000"></a>Creating the Resource Files</h3>
<p>The resource files must have the workshop or workbench identifier as name.
This identifier is declared in the <code>CreateWorkshop</code> or <code>CreateWorkbench</code>
method of the workshop or workbench description class, as the third parameter of
the <code>NewAccess</code> macro that creates the workshop or workbench. For
example, for a workbench:</p>
<table class="code">
  <tr>
    <td>
      <pre>NewAccess(CATCmdWorkbench,pCAAAfrWorkBenchPointer,<strong>CAAAfrWorkbenchId</strong>);</pre>
    </td>
  </tr>
</table>
<p>where:</p>
<ul>
  <li><code>CATCmdWorkbench</code> is the workbench container class</li>
  <li><code>pCAAAfrWorkbenchPointer</code> is a pointer to the <code>CATCmdWorkbench</code>
    class instance that the macro creates</li>
  <li><code><b>CAAAfrWorkbenchId</b></code> is the workbench identifier.</li>
</ul>
<p>There are two workbench resource files:</p>
<ol>
  <li>The resource file containing the title and help messages in the English
    language, and that can be translated into other languages. It is suffixed
    using CATNls</li>
  <li>The resource file containing the icons and other resources that should not
    be translated. It suffixed by CATRsc. This file is required to make the
    workshop or the workbench appear in the Start menu. If a workshop has
    workbenches, these workbenches are displayed in place of the workshop in the
    <b>Start</b> menu, and this workshop resource file is unused and can be
    omitted.</li>
</ol>
<p>The two resource files for the CAAAfrWorkbenchId workshop or workbench are then:
CAAAfrWorkbenchId.CATNls and CAAAfrWorkbenchId.CATRsc. These files are located
in the CNext\resources\msgcatalog directory of the framework containing the
workshop or workbench module. This directory includes subdirectories, one for each language
into which the title and messages of the CAAAfrWorkbenchId.CATNls file can be
translated.</p>
<p>Each resource is provided using a key and a text, or a file name without
suffix, separated by the equal sign. The key is built as a concatenation of the
object identifier you defined as the third parameter of the <code>NewAccess</code>
macro, a dot, and a keyword designating the appropriate resource. The message is
enclosed using double quotes and ended using a semicolon. For example, the
workshop or workbench title is defined as follows:</p>
<table class="code">
  <tr>
    <td>
      <pre>CAAAfrWorkbenchId.Title = &quot;CAA V5: Geometrical Creation&quot;;</pre>
    </td>
  </tr>
</table>
<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->

<h3><a name="200000"></a>Filling in the CATNls Resource File</h3>
<p>This file contains:
<ul>
  <li>The resources for the workshop or workbench itself: the title used in the <strong>Start
    menu</strong>, its associated help message, the short help and the help
    messages repectively displayed in a balloon and in the status bar when the
    mouse is over the workshop or workbench icon, and the long help message displayed in a
    ballon when the end user clicks <img border="0" src="../CAAIcons/images/I_WhatsThisP2.gif" width="24" height="24">and
    then clicks the workshop or workbench icon.
    <table class="code">
      <tr>
        <td>
          <pre>CAAAfrWorkbenchId.<b>Title</b>     = &quot;CAA V5: Geometrical Creation&quot;;
CAAAfrWorkbenchId.<b>ShortHelp</b> = &quot;Workbench to create Geometrical Elements&quot;;
CAAAfrWorkbenchId.<b>Help</b>      = &quot;Workbench to create Geometrical, Solid and Surfacic Elements&quot;;
CAAAfrWorkbenchId.<b>LongHelp</b>  = &quot;This is the CAA V5: Geometrical Creation Workbench. 
It is used to demonstrate workbenches.
It contains two toolsbars:
- One for some Solid Elements
- The other for some Surfacic Elements&quot;;
...</pre>
        </td>
      </tr>
    </table>
  </li>
  <li>The titles of the toolbars and icon boxes
    <table class="code">
      <tr>
        <td>
          <pre>...
// For a toolbar
CAAAfrToolbarId.<b>Title</b>      = &quot;Select&quot;; 
// For an icon box 
CAAAfrIconBoxId.<b>Title</b>      = &quot;Icon Box&quot;;
...</pre>
        </td>
      </tr>
    </table>
  </li>
  <li>The titles and mnemonics of the menus and submenus
    <table class="code">
      <tr>
        <td>
          <pre>// For a menu
CAAAfrMenuId.<b>Title</b>         = &quot;Explore&quot;;
CAAAfrMenuId.<b>Help</b>          = &quot;Explores the document&quot;;
CAAAfrMenuId.<b>Mnemonic</b>      = &quot;x&quot;;

// For a submenu 
CAAAfrSubmenuId.<b>Title</b>      = &quot;Normal View&quot;;
CAAAfrSubmenuId.<b>Help</b>       = &quot;Defines the normal to indicate points&quot;;
CAAAfrSubmenuId.<b>Mnemonic</b>   = &quot;N&quot;;</pre>
        </td>
      </tr>
    </table>
  </li>
</ul>
<p>Below is a reminder of the keywords used in the resource keys that can be
found in the CATNls resource file.</p>
<table width="100%">
  <tr>
    <td valign="top">Title</td>
    <td valign="top">Text displayed:
      <ul>
        <li>as the name of the workshop or workbench in the <b>Start</b> menu</li>
        <li>as the toolbar title</li>
        <li>as the icon box title when the icon box is teared off</li>
        <li>as the menu or submenu title</li>
      </ul>
    </td>
  </tr>
  <tr>
    <td valign="top">Help</td>
    <td valign="top">Text displayed in the status bar when the mouse moves over
      the workshop or workbench name or icon in the Start menu, or over the icon
      in the workshop or workbench toolbar</td>
  </tr>
  <tr>
    <td valign="top">ShortHelp</td>
    <td valign="top">Text displayed in a balloon as the workshop or workbench
      short help message when the mouse moves over the icon in the workshop or
      workbench toolbar</td>
  </tr>
  <tr>
    <td valign="top">LongHelp</td>
    <td valign="top">Text displayed in a balloon when the end user clicks <img border="0" src="../CAAIcons/images/I_WhatsThisP2.gif" width="24" height="24">,
      which turns the mouse cursor as a question mark, and then clicks on the
      icon representing the workshop or workbench in the Welcome dialog box
      workshop or workbench toolbar</td>
  </tr>
  <tr>
    <td valign="top">Mnemonic</td>
    <td valign="top">An &quot;Alt+key&quot; keystroke combination that activates
      menus, submenus, and menu items. The key character is underlined in the
      menu, submenu, or menu item title, and therefore must belong to this
      title. No duplicates should exist in the set of mnemonic keys for a given
      menu or submenu. The case is ignored when using the mnemonic. The mnemonic
      is declared in the workshop or workbench resource file for menus and submenus only. It
      is declared in the command header resource file for menu items.</td>
  </tr>
</table>
<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->

<h3><a name="300000"></a>Filling in the CATRsc Resource File</h3>
<p>This file contains:</p>
<ul>
  <li>The submenu into which workshop or workbench should appear in the <b>Start</b> menu
    <table class="code">
      <tr>
        <td>
          <pre>CAAAfrWorkbenchId.<b>Category</b>    = &quot;Infrastructure&quot; ;
...</pre>
        </td>
      </tr>
    </table>
  </li>
  <li>An attribute to specify if the workbench should be displayed in 
			the <b>Start</b> menu. Set to &quot;True&quot; to hide it, &quot;False&quot; to display 
			it. The default value of this attribute is &quot;False&quot;. 
			<table class="code">
					<tr>
						<td>
							<pre>CAAAfrWorkbenchId.<b>Transient</b>    = &quot;False" ;
...</pre>
						</td>
					</tr>
				</table>
			</li>
  <li>The icon names to be associated with the workshop or workbench in the <b>Start</b> menu
    <table class="code">
      <tr>
        <td>
          <pre>...
CAAAfrWorkbenchId.<b>Icon.NormalCtx</b>   = &quot;I_CtxGeometry&quot;;
CAAAfrWorkbenchId.<b>Icon.PressedlCtx</b> = &quot;IP_CtxGeometry&quot;;
CAAAfrWorkbenchId.<b>Icon.FocusedlCtx</b> = &quot;IF_CtxGeometry&quot;;
...</pre>
        </td>
      </tr>
    </table>
  </li>
  <li>The icon names to be associated with the workshop or workbench in the Welcome window
    where the favorite workshops or worbenches are gathered
    <table class="code">
      <tr>
        <td>
          <pre>...
CAAAfrWorkbenchId.<b>Icon.NormalPnl</b>   = &quot;I_Geometry&quot;;
CAAAfrWorkbenchId.<b>Icon.PressedPnl </b> = &quot;IP_Geometry&quot;;
CAAAfrWorkbenchId.<b>Icon.FocusedPnl</b>  = &quot;IF_Geometry&quot;;
...</pre>
        </td>
      </tr>
    </table>
  </li>
  <li>The icon names to be associated with the workshop in the workshop toolbar
    <table class="code">
      <tr>
        <td>
          <pre>...
CAAAfrWorkbenchId.<b>Icon.NormalRep</b>   = &quot;I_RepGeometry&quot;;
CAAAfrWorkbenchId.<b>Icon.PressedlRep</b> = &quot;IP_RepGeometry&quot;;
CAAAfrWorkbenchId.<b>Icon.FocusedlRep</b> = &quot;IF_RepGeometry&quot;;</pre>
        </td>
      </tr>
    </table>
  </li>
  <li>If you have several workbenches, you may want to classify them in a 
  subcategory in the submenu of the <b>Start</b> menu
    . For that you have to specify this subcategory. You may also want to change 
  the position of your workbench in the menu. The &quot;Position&quot; resource sets the 
  position of the workbench in its subcategory if it has one, else in its 
  category.<table class="code" id="table1">
      <tr>
        <td>
          <pre>CAAAfrWorkbenchId.<b>Subcategory</b>    = &quot;MyInfrastructure&quot; ;
CAAAfrWorkbenchId.<b>Position </b>      = &quot;2&quot;;</pre>
          <pre>...</pre>
        </td>
      </tr>
    </table>
  <p>In this case, you have to create 2 resources files for the subcategory to 
  specify the category it belongs to and its position under this category:</p>
  <p>&nbsp;<ul>
  <li>MyInfrastructure.CATNls<table class="code" id="table3">
      <tr>
        <td>
          <pre>MyInfrastructure.<b>Title</b>    = &quot;MyInfrastructure&quot; ;
...</pre>
        </td>
      </tr>
    </table>
  </li>
</ul>
<ul>
  <li>MyInfrastructure.CATRsc<table class="code" id="table2">
      <tr>
        <td>
          <pre>MyInfrastructure.<b>Category</b>    = &quot;Infrastructure&quot; ;
MyInfrastructure.<b>Position </b>   = &quot;3&quot;;</pre>
          <pre>...</pre>
        </td>
      </tr>
    </table>
  <p><b>Remark:</b> The position resource is a string and the ordering is done 
  alphabetically. The subcategory can be at first position in its category 
  though its position resource is &quot;3&quot; if its position is the first one in the 
  alphabetical order.</li>
</ul>
  </li>
</ul>
<p>This is valid if the workshop doesn't not include any workbench. Otherwise,
those of the workbenches are used and the workshop does not appear in the <b>Start</b>
menu, in the Welcome window, and has no toolbar.</p>
<p>The files containing the icon bit maps are named, for example,
I_CtxGeometry.bmp for the icon to be displayed in the Start menu, usually
located in the CNext\resources\graphic\icons\normal.</p>
<p>Below is a reminder of the keywords used in the resource keys that can be
found in the CATRsc resource file.</p>
<table width="100%">
  <tr>
    <td valign="top">Category</td>
    <td valign="top">An attribute associated with the the workshop or workbench
      to make it appear in the proper submenu of the Start menu. This is done by
      assigning a category to the workshop or workbench. Available categories
      are:
      <ul>
        <li>Infrastructure</li>
        <li>MechanicalDesign</li>
        <li>Shape</li>
        <li>AnalysisSimulation</li>
        <li>AECPlant</li>
        <li>ProcessPlanning</li>
        <li>NCManufacturing</li>
        <li>DMUNavigator</li>
        <li>Equipments</li>
        <li>DPManufacturing</li>
        <li>VNC</li>
        <li>Inspection</li>
        <li>DenebInfrastructure</li>
        <li>IGRIP</li>
        <li>Safework</li>
      </ul>
    </td>
  </tr>
  <tr>
    <td valign="top">Subcategory</td>
    <td valign="top">An attribute associated with the workbench to classify them 
    more precisely under the previous category</td>
  </tr>
  <tr>
    <td valign="top">Position</td>
    <td valign="top">An attribute to specify the position of a workbench in its 
    subcategory if it has one, or else in its category</td>
  </tr>
  <tr>
    <td valign="top">Transient</td>
    <td valign="top">An attribute to specify if the workbench should be displayed in the <b>Start</b> menu</td>
  </tr>
  <tr>
    <td valign="top">Icon.NormalCtx</td>
    <td valign="top">Icon to display in the <b>Start</b> menu</td>
  </tr>
  <tr>
    <td valign="top">Icon.PressedCtx</td>
    <td valign="top">Icon replacing the &quot;NormalCtx&quot; icon when the end
      user clicks on it</td>
  </tr>
  <tr>
    <td valign="top">Icon.FocusedCtx</td>
    <td valign="top">Icon replacing the &quot;NormalCtx&quot; icon when the end
      user moves the mouse over it</td>
  </tr>
  <tr>
    <td valign="top">Icon.NormalPnl</td>
    <td valign="top">Icon to display in the Welcome window</td>
  </tr>
  <tr>
    <td valign="top">Icon.PressedPnl</td>
    <td valign="top">Icon replacing the &quot;NormalPnl&quot; icon when the end
      user clicks on it</td>
  </tr>
  <tr>
    <td valign="top">Icon.FocusedPnl</td>
    <td valign="top">Icon replacing the &quot;NormalPnl&quot; icon when the end
      user moves the mouse over it</td>
  </tr>
  <tr>
    <td valign="top">Icon.NormalRep</td>
    <td valign="top">Icon to display in the workshop toolbar</td>
  </tr>
  <tr>
    <td valign="top">Icon.PressedRep</td>
    <td valign="top">Icon replacing the &quot;NormalRep&quot; icon when the end
      user clicks on it</td>
  </tr>
  <tr>
    <td valign="top">Icon.FocusedRep</td>
    <td valign="top">Icon replacing the &quot;NormalRep&quot; icon when the end
      user moves the mouse over it</td>
  </tr>
</table>
<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->

<h3><a name="400000"></a>Providing the Icon Files</h3>
<p>The icons are bit map files, suffixed by bmp. They should have a size of 24
by 24 pixels. The icon files are contained in the
CNext\resources\graphic\icons\normal directory of the framework containing the
workshop module.</p>
<hr>
<!---------------------------------comment------------------------------------->

<h3><a name="InShort"></a>In Short</h3>
<p>The workshop resources are provided in two files whose names are the workshop
identifier. One file is for those that can be translated and is suffixed CATNls,
the other for the icon names and is suffixed CATRsc. The resources are provided
using keys built with the identifier of the object to which they apply.</p>
<hr>
<!---------------------------------comment------------------------------------->

<h3><a name="References"></a>References</h3>
<table width="100%">
  <tr>
    <td valign="top">[1]</td>
    <td><a href="../CAAAfrUseCases/CAAAfrSampleWorkbench.htm">Creating
      a Workbench</a></td>
  </tr>
  <tr>
    <td valign="top">[2]</td>
    <td><a href="../CAADlgTechArticles/CAADlgResources.htm">Assigning
      Resources to a Dialog Box</a></td>
  </tr>
  <tr>
    <td valign="top" align="right" colspan="2">[<a href="#Top">Top</a>]</td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->
<h3><a name="History"></a>History</h3>
<table width="100%">
  <tr>
    <td valign="top">Version: <strong>1</strong> [Jan 2000]</td>
    <td valign="top">Document created</td>
  </tr>
  <tr>
    <td valign="top">Version: <strong>2</strong> [Jun 2007]</td>
    <td valign="top">CATRsc Transient attribute addition</td>
  </tr>
  <tr>
    <td valign="top" align="right" colspan="2">[<a href="#Top">Top</a>]</td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->
<p><i>Copyright © 2000, Dassault Systèmes. All rights reserved.</i></p>

</body>

</html>
