<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<link rel="Stylesheet" type="text/css" href="../CAADocStyleSheets/caav5.css">
<title>Managing Transitions between Workbenches</title>
</head>

<body>

<table width="100%">
  <tr>
    <td valign="top">
      <h1>3D PLM Enterprise Architecture</h1>
    </td>
    <td valign="top">
      <h2>User Interface - Frame</h2>
    </td>
    <td rowspan="2" align="right" valign="top">
      <h3><a name="Top"></a>Managing Transitions between Workbenches</h3>
      <em>Making a process-driven user interface</em></td>
  </tr>
  <tr>
    <td class="use" colspan="2">Use Case</td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->

<table class="abstract">
  <tr>
    <td>
      <h3>Abstract</h3>
      <p>This article shows how to create the transition to the two workbenches
      of the Geometry workshop.
      <ul>
        <li><a href="#Learn"><strong>What You Will Learn With This Use Case</strong></a></li>
        <li><a href="#UseCase"><strong>The CAAAfrGeometryWksTransition Use Case</strong></a>
          <ul>
            <li><a href="#What">What Does CAAAfrGeometryWksTransition Do</a></li>
            <li><a href="#How">How to Launch CAAAfrGeometryWksTransition</a></li>
            <li><a href="#Where">Where to Find the CAAAfrGeometryWksTransition
              Code</a></li>
          </ul>
        </li>
        <li><a href="#Step"><strong>Step-by-Step</strong></a></li>
        <li><a href="#InShort"><strong>In Short</strong></a></li>
        <li><a href="#References"><strong>References</strong></a></li>
      </ul>
    </td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->

<h3><a name="Learn"></a>What You Will Learn With This Use Case</h3>
<p>CAAAfrGeometryWksTransition is a use case of the CAAApplicationFrame.edu
framework that illustrates the ApplicationFrame framework capabilities.</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->

<h3><a name="UseCase"></a>The CAAAfrGeometryWksTransition Use Case</h3>
<p>The CAAAfrGeometryWksTransition use case to manage the transitions between
any workbench and the workbenches of the Geometry workshop.</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->

<h4><a name="What"></a>What Does the CAAAfrGeometryWksTransition Use Case Do</h4>
<p>The CAAAfrGeometryWksTransition use case to manage the transitions between
any workbench and the workbenches of the Geometry workshop. To do this, it is
made of a class that implements the <em>CATIWorkbenchTransition</em> interface
as an extension of the <em>CAAAfrGeometryWks_trans</em> late type, <em>CAAAfrGeometryWks</em>
being the Geometry workshop description class name.</p>
<!---------------------------------comment------------------------------------->

<h4><a name="How"></a>How to Launch CAAAfrGeometryWksTransition</h4>
<p>See the section entitled &quot;How to Launch the CAAGeometry Use Case&quot;
in the &quot;<a href="../CAASysUseCases/CAASysCAAGeometryOverview.htm">The
CAAGeometry Sample</a>&quot; use case for a detailed description of how this use
case should be launched. For the specific scenario :</p>
<p>Do not type the module name on the command line, but type CNEXT instead. When
the application is ready, do the following:
<ul>
  <li>Create any type of document, for example a Part document</li>
  <li>Select a workbench of the CAAGeometry document, using the Start menu. For
    example, select Start-&gt;xxxx-&gt;CAA Geometrical Creation</li>
</ul>
<p>This creates a new CAAGeometry document with the CAA Geometrical Creation
workbench active.
<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->

<h4><a name="Where"></a>Where to Find the CAAAfrGeometryWksTransition Code</h4>
<p>The CAAAfrGeometryWksTransition use case is made of a single class named <i>CAAEAfrGeometryWksTransition</i>
located in the CAAAfrGeometryWksTransition.m module of the
CAAApplicationFrame.edu framework:</p>
<table>
  <tbody>
    <tr>
      <td>Windows</td>
      <td><code>InstallRootDirectory\CAAApplicationFrame.edu\CAAAfrGeometryWksTransition.m\</code></td>
    </tr>
    <tr>
      <td>Unix</td>
      <td><code>InstallRootDirectory/CAAApplicationFrame.edu/CAAAfrGeometryWksTransition.m/</code></td>
    </tr>
  </tbody>
</table>
<p>where <code>InstallRootDirectory</code> is the directory where the CAA CD-ROM
is installed.</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->

<h3><a name="Step"></a>Step-by-Step</h3>
<p>To manage transitions between any workbench and the workbenches of the
CAAGeometry document, there are two steps:</p>
<table width="100%">
  <tr>
    <th>#</th>
    <th>Step</th>
    <th>Where</th>
  </tr>
  <tr>
    <td valign="top"><a href="#Step1">1</a></td>
    <td valign="top">Create the extension class that implements
      CATIWorkbenchTransition</td>
    <td valign="top">CAAEAfrGeometryWksTransition class</td>
  </tr>
  <tr>
    <td valign="top"><a href="#Step2">2</a></td>
    <td valign="top">Update the interface dictionary</td>
    <td valign="top">interface dictionary</td>
  </tr>
</table>
<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->

<h4><a name="Step1"></a>Creating the Extension Class that Implements
CATIWorkbenchTransition</h4>
<p>This class is a data extension of a made of the workshop identifier suffixed
by <code>_trans</code>, that is here <code>CAAAfrGeometryWks_trans</code> for
the Geometry workshop.
<ol>
  <li>Create the CAAEAfrGeometryWksTransition.h file
    <table class="code">
      <tr>
        <td>
          <pre>#include &quot;CATExtIWorkbenchTransition.h&quot; 

class CAAEAfrGeometryWksTransition : public CATExtIWorkbenchTransition
{
  <strong>CATDeclareClass</strong>;
  public:
     CAAEAfrGeometryWksTransition();
     virtual ~CAAEAfrGeometryWksTransition();
};</pre>
        </td>
      </tr>
    </table>
    <p>The CATDeclareClass macro states that this class belongs to a component.
    The class has only a constructor and a destructor.</p>
  </li>
  <li>Create the CAAEAfrGeometryWksTransition.cpp file.
    <table class="code">
      <tr>
        <td>
          <pre>// Local FW
#include &quot;CAAEAfrGeometryWksTransition.h&quot;

<strong>CATImplementClass</strong>(CAAEAfrGeometryWksTransition, 
                  <strong>DataExtension</strong>, 
                  CATBaseUnknown,
                  CAAAfrGeometryWks_trans);

#include &lt;TIE_CATIWorkbenchTransition.h&gt; 
TIE_CATIWorkbenchTransition(CAAEAfrGeometryWksTransition);

CAAEAfrGeometryWksTransition::CAAEAfrGeometryWksTransition()
{
  _newDoc = &quot;CAAGeometry&quot; ;
}

CAAEAfrGeometryWksTransition::~CAAEAfrGeometryWksTransition() {}</pre>
        </td>
      </tr>
    </table>
    <p>The <code>CATImplementClass</code> macro reads: the <em>CAAEAfrGeometryWksTransition</em>
    class is a data extension of the late type <em>CAAAfrGeometryWks_trans</em>.
    As any extension class, its third argument is <em>CATBaseUnknown</em>. The
    constructor assigns the type CAAGeometry to the document type to create
    using the <code>_newDoc</code> data member of the base class <em>CATExtIWorkbenchTransition</em>.
    This type is the one to which the workbench is dedicated.</p>
  </li>
</ol>
<p>Since the <code>DoTransition</code> method is not implemented, the one of the
base class <em>CATExtIWorkbenchTransition</em> is executed instead. It creates a
new CAAGeometry document, except if:
<ul>
  <li>The Geometry workshop is the active workshop, and the end user requests
    another workbench of this workshop. In this case, the active document was an
    CAAGeometry document, and remains an CAAGeometry document after the
    transition.</li>
  <li>The Geometry workshop is the active workshop and the end user selects
    another workshop, or a worbench belonging to another workshop.</li>
</ul>
<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->

<h4><a name="Step2"></a>Updating the Dictionary</h4>
<p>Update the interface dictionary, that is a file named, for example,
CAAApplicationFrame.dico, whose directory's pathname is concatenated at run time
in the CATDictionaryPath environment variable, and containing the following
declaration to state that the <em>CAAAfrGeometryWks_trans</em> late type
implements the <em>CATIWorkbenchTransition</em> interface, and whose code is
located in the libCAAAfrGeometryWksTransition shared library or DLL.</p>
<table class="code">
  <tr>
    <td>
      <pre>CAAAfrGeometryWks_trans CATIWorkbenchTransition libCAAAfrGeometryWksTransition</pre>
    </td>
  </tr>
</table>
<p align="right">[<a href="#Top">Top</a>]</p>
<hr>
<!---------------------------------comment------------------------------------->
<h3><a name="InShort"></a>In Short</h3>
<p>The CAA process-centric user interface implies that the application should
know what to do when the end user selects a workbench in the Start menu. This
knowledge is provided by the workshop, or possibly the workbench, supplier by
implementing the <em>CATIWorkbenchTransition</em> interface.</p>
<p>For standalone documents, that is, documents that do not contain or are not
linked to, or that are not contained or linked by, other documents, the <em>CATIWorkbenchTransition</em>
interface is implemented once by the document's workshop supplier, and applies
to all the document's workbenches.</p>
<p>Otherwise, each workbench of the embedded or linked document should implement
the <em>CATIWorkbenchTransition</em> interface to create its incoming and
outgoing transitions, that is what should happen when it is selected, or when it
is active and when another workbench is selected.</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<hr>
<!---------------------------------comment------------------------------------->
<h3><a name="References"></a>References</h3>
<table border="0" width="100%">
  <tr>
    <td valign="top" align="right">[<a href="#Top">Top</a>]</td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->
<h3><a name="History"></a>History</h3>
<table border="0" width="100%">
  <tr>
    <td valign="top">Version: <strong>1</strong> [Jan 2000]</td>
    <td valign="top">Document created</td>
  </tr>
  <tr>
    <td valign="top" align="right" colspan="2">[<a href="#Top">Top</a>]</td>
  </tr>
</table>
<!---------------------------------comment------------------------------------->
<hr>
<p><i>Copyright © 2000, Dassault Systèmes. All rights reserved.</i></p>

</body>

</html>
