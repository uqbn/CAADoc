<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<link rel="Stylesheet" type="text/css" href="../CAADocStyleSheets/caav5.css">
<title>Defining the Combined Curve's Type</title>
</head>

<body>

<table width="100%">
  <tr>
    <td valign="top">
      <h1>Mechanical Modeler</h1>
    </td>
    <td valign="top">
      <h2></h2>
    </td>
    <td rowspan="2" align="right" valign="top">
      <h3><a name="Top"></a>Defining the Combined Curve's Type</h3>
      <em>Implementing CATIMf3DBehavior</em></td>
  </tr>
  <tr>
    <td class="use" colspan="2">Use Case</td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->

<table class="abstract">
  <tr>
    <td>
      <h3>Abstract</h3>
      <p>The main goal of this use case is to describe how to implement the <i>CATIMf3DBehavior</i>
      interface to define the type (surfacic) of the Combined Curve.
      <ul>
        <li><a href="#Learn"><strong>What You Will Learn With This Use Case</strong></a></li>
        <li><a href="#UseCase"><strong>The CAACombinedCurveMf3DBehavior Use Case</strong></a>
          <ul>
            <li><a href="#What">What Does CAACombinedCurveMf3DBehavior Do</a></li>
            <li><a href="#How">How to Launch CAACombinedCurveMf3DBehavior</a></li>
            <li><a href="#Where">Where to Find the CAACombinedCurveMf3DBehavior Code</a></li>
          </ul>
        <li><a href="#Step"><strong>Step-by-Step</strong></a></li>
        <li><a href="#InShort"><strong>In Short</strong></a></li>
        <li><a href="#References"><strong>References</strong></a></li>
      </ul>
</table>
<hr>
<!---------------------------------comment------------------------------------->
<h3><a name="Learn"></a>What You Will Learn With This Use Case</h3>
<p>The main goal of this use case is to describe how to implement the
      <em> CATIMf3DBehavior</em> interface on the Combined Curve StartUp.&nbsp;Since
the V5R14, this implementation is mandatory for a StartUp deriving from the
GeometricalElement3D StartUp [<a href="#References">1</a>].&nbsp;</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->

<h3><a name="UseCase"></a>The CAACombinedCurveMf3DBehavior Use Case</h3>
<p> CAACombinedCurveMf3DBehavior is a use case of the
CAAMechanicalModeler.edu framework that illustrates MechanicalModeler framework
capabilities.</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->

<h4><a name="What"></a>What Does CAACombinedCurveMf3DBehavior Do</h4>
<p>The use case is an implementation of the <em>CATIMf3DBehavior</em>  interface
to specify that the combined curve is a
surfacic feature.&nbsp;</p> 
<table border="0">
  <tr>
    <td><img border="0" src="images/CAAMmrCombinedCurveInstantiation.jpg" width="339" height="405"></td>
  </tr>
</table>
<p align="left">A such feature can be included into:</p>
<ul>
  <li>
    <p align="left">A solid and surfacic features set (SSS) (<code>CombinedCurve.3</code>
    into <code>Body.1</code>),&nbsp;</li>
  <li>
    <p align="left">A non ordered surfacic features set&nbsp; (<code>CombinedCurve.1</code>
    into <code>Geometrical Set.1)</code></li>
  <li>
    <p align="left">An ordered surfacic features set (<code>CombinedCurve.2</code>
    into <code>Ordered Geometrical Set.2</code>)&nbsp;&nbsp;</li>
</ul>
<p align="left">If you do not implement the <i>CATIMf3DBehavior</i>
interface, you will have wrong behaviors such as the graphic properties. Your
feature, inserted into a SSS, will be seen such as a solid feature by
the default implementation of the <i>CATIMf3DBehavior</i> interface, and for
example, the wireframe properties will not be accessible such as shown by the
picture below:</p>
<table border="0">
  <tr>
    <td><img border="0" src="images/CAAMmrMf3DBehaviorWrong.jpg" width="397" height="301"></td>
    <td>You can see that only the options in the &quot;Fill&quot; frame are
      available. The other options, included into the &quot;Edges&quot;, Lines
      and Curves&quot;, and &quot;Points&quot; frames, are unavailable.&nbsp;</td>
  </tr>
</table>
<p align="left">But, if you implement the <i>CATIMf3DBehavior</i> interface you
will have the good valid options in the same dialog box.</p>
<table border="0">
  <tr>
    <td valign="top"><img border="0" src="images/CAAMmrMf3DBehaviorOK.jpg" width="405" height="300"></td>
    <td valign="middle">Now, only the &quot;Lines and Curves&quot; frame is
      available. It
      is the frame corresponding to the wireframe objects.</td>
  </tr>
</table>
<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->
<h4><a name="How"></a>How to Launch CAACombinedCurveMf3DBehavior</h4>
<p>See the section entitled &quot;How to Launch the Combined Curve Use
Case&quot; in the &quot;<a href="CAAMmrCombinedCurveSamplesOverview.htm">Creating
a New Geometrical Feature: The Combined Curve</a>&quot; use case for a detailed
description of how this use case should be launched.</p>
<p align="right">[<a href="#Top">Top</a>]</p>

<!---------------------------------comment------------------------------------->

<h4><a name="Where"></a>Where to Find the CAACombinedCurveMf3DBehavior Code</h4>
<p>The CAACombinedCurveMf3DBehavior use case is made one class,<i>CAAEMmrCombCrvMf3DBehavior</i>,
located in the CAAMmrCombinedCurve.m module of the CAAMechanicalModeler.edu
framework:</p>
<table>
  <tbody>
    <tr>
      <td>Windows</td>
      <td><code>InstallRootDirectory\CAAMechanicalModeler.edu\CAAMmrCombinedCurve.m\</code></td>
    </tr>
    <tr>
      <td>Unix</td>
      <td><code>InstallRootDirectory/CAAMechanicalModeler.edu/CAAMmrCombinedCurve.m/</code></td>
    </tr>
  </tbody>
</table>
<p>where <code>InstallRootDirectory</code> is the directory where the CAA CD-ROM
is installed</p>

<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->

<h3><a name="Step"></a>Step-by-Step</h3>
<p>This use case is divided into two steps:</p>
<ul>
  <li><a href="#Defining the CAAEMmrCombCrvInputDescription Class">Defining the <i>CAAEMmrCombCrvMf3DBehavior</i>
    Class</a></li>
  <li>I<a href="#Implementing the CAAEMmrCombCrvInputDescription Class">mplementing
    the <i>CAAEMmrCombCrvMf3DBehavior</i> Class</a></li>
</ul>
<p>&nbsp;</p>
<h4><a name="Defining the CAAEMmrCombCrvInputDescription Class"></a>Defining the
<i>CAAEMmrCombCrvMf3DBehavior</i> Class</h4>
<table class="code">
  <tr>
    <td>
      <pre>#include &quot;CATBaseUnknown.h&quot; 

class CAAEMmrCombCrvMf3DBehavior: public CATBaseUnknown
{
    CATDeclareClass;
    
public:
    CAAEMmrCombCrvMf3DBehavior ();
    virtual ~CAAEMmrCombCrvMf3DBehavior ();
    
    virtual HRESULT IsASolid() const ;
    virtual HRESULT IsAShape() const ;
    virtual HRESULT IsADatum() const ;

private:
    CAAEMmrCombCrvMf3DBehavior (CAAEMmrCombCrvMf3DBehavior &amp;iObjectToCopy);
    CAAEMmrCombCrvMf3DBehavior&amp; operator=(CAAEMmrCombCrvMf3DBehavior &amp;iObjectToCopy);
};</pre>
    </td>
  </tr>
</table>
<p>
The <code>CATDeclareClass</code> macro declares that the <i>CAAEMmrCombCrvMf3DBehavior</i>
class belongs to a component. The copy constructor and the &quot;=&quot;
operator are set as private to prevent the compiler from automatically creating
as public.</p>
<p>The <i>CATIMf3DBehavior</i> interface contains three methods which are
exclusive. Only one must return S_OK, while the another must return E_FAIL.</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<h4><a name="Implementing the CAAEMmrCombCrvInputDescription Class"></a>Implementing
the <i>CAAEMmrCombCrvMf3DBehavior</i> Class</h4>
&nbsp;
<table class="code">
  <tr>
    <td>
      <pre>...
CATImplementClass ( CAAEMmrCombCrvMf3DBehavior ,
                   <b>DataExtension</b>       ,    
                   CATBaseUnknown      ,
                   <b>CombinedCurve</b>        );

#include &quot;TIE_CATIMf3DBehavior.h&quot;  
<b>TIE_CATIMf3DBehavior</b>( CAAEMmrCombCrvMf3DBehavior);
...</pre>
    </td>
  </tr>
</table>
The <i>CAAEMmrCombCrvMf3DBehavior</i>&nbsp; class states that it implements the <i>CATIMf3DBehavior</i>
interface thanks to the <code>TIE_</code><code>CATIMf3DBehavior&nbsp;</code><i> </i>macro.
This extension class is dedicated to this component, and the <code>CATImplementClass</code>
macro declares that the <i>CAAEMmrCombCrvMf3DBehavior</i> class is data
extension class, thanks to the <code>DataExtension</code> keyword, and that it
extends the component whose main class is CombinedCurve. The third parameter
must always be set to <i>CATBaseUnknown</i>, makes no sense, and is unused for
extensions.&nbsp;
<p>Do not forget to update the interface dictionary. Here it is an extract of
the CAAMechanicalModeler.edu.dico file located in the CNext directory of the
CAAMechanicalModeler.edu framework.</p>
<table class="code">
  <tr>
    <td>
      <pre>...
CombinedCurve               CATIMf3DBehavior                libCAAMmrCombinedCurve
...</pre>
    </td>
  </tr>
</table>
<p>The Combined Curve feature is not a solid feature, the method returns E_FAIL.</p>
<table class="code">
  <tr>
    <td>
      <pre>HRESULT CAAEMmrCombCrvMf3DBehavior::IsASolid() const
{    
    return E_FAIL ;
}</pre>
    </td>
  </tr>
</table>
<p>IsAShape&nbsp;</p>
<p>The Combined Curve feature is a surfacic feature, the method returns S_OK.</p>
<table class="code">
  <tr>
    <td>
      <pre>HRESULT CAAEMmrCombCrvMf3DBehavior::IsAShape()  const
{
    return S_OK ;
}</pre>
    </td>
  </tr>
</table>
<p><a name="GetMainInput Method">IsADatum</a></p>
<p>The Combined Curve feature is not a datum feature, the method returns E_FAIL.</p>
<table class="code">
  <tr>
    <td>
      <pre>HRESULT CAAEMmrCombCrvMf3DBehavior::IsADatum() const
                         
{
    return E_FAIL ;
}</pre>
    </td>
  </tr>
</table>
<p align="right">[<a href="#Top">Top</a>]</p>
<hr>
<!---------------------------------comment------------------------------------->
<h3><a name="InShort"></a>In Short</h3>
<p>This use case explains how to implement the <i>CATIMf3DBehavior</i>&nbsp;
interface for a
surfacic feature.</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<hr>
<!---------------------------------comment------------------------------------->

<h3><a name="References"></a>References</h3>
<table width="100%">
  <tr>
    <td valign="top">[1]</td>
    <td><a href="../CAAMmrTechArticles/CAAMmrFeatureIntegration.htm">ntegrating
      a New Mechanical Feature in V5</a></td>
  </tr>
  <tr>
    <td valign="top" align="right" colspan="2">[<a href="#Top">Top</a>]</td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->
<h3><a name="History"></a>History</h3>
<table width="100%">
  <tr>
    <td valign="top">Version: <strong>1</strong>   [Apr 2004]</td>
    <td valign="top">Document created</td>
  </tr>
  <tr>
    <td valign="top" align="right" colspan="2">[<a href="#Top">Top</a>]</td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->
<p><i>Copyright © 2004, Dassault Systèmes. All rights reserved.</i></p>

</body>

</html>
