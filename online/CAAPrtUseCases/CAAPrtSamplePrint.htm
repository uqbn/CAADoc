<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<link rel="Stylesheet" type="text/css" href="../CAADocStyleSheets/caav5.css">
<title>Adding Print Standard Functions to Your Application</title>
</head>

<body>

<table width="100%">
  <tr>
    <td valign="top">
      <h1>3D PLM Enterprise Architecture</h1>
    </td>
    <td valign="top">
      <h2>3D Visualization - Print</h2>
    </td>
    <td rowspan="2" align="right" valign="top">
      <h3><a name="Top"></a>Adding Print Standard Functions to Your Application</h3>
      <em>Taking advantage of the Print, Capture, Album, and Printer Manager
      dialog boxes</em></td>
  </tr>
  <tr>
    <td class="use" colspan="2">Use Case</td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->

<table class="abstract">
  <tr>
    <td>
      <h3>Abstract</h3>
      <p>This article shows how to print a given object on a printer.
      <ul>
        <li><a href="#Learn"><strong>What You Will Learn With This Use Case</strong></a></li>
        <li><a href="#UseCase"><strong>The CAAPrtApplicationUse Case</strong></a>
          <ul>
            <li><a href="#What">What Does CAAPrtApplication Do</a></li>
            <li><a href="#How">How to Launch CAAPrtApplication</a></li>
            <li><a href="#Where">Where to Find the CAAPrtApplication Code</a></li>
          </ul>
        </li>
        <li><a href="#Step"><strong>Step-by-Step</strong></a>
        <li><a href="#InShort"><strong>In Short</strong></a></li>
        <li><a href="#References"><strong>References</strong></a></li>
      </ul>
    </td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->

<h3><a name="Learn"></a>What You Will Learn With This Use Case</h3>
<p>This use case is intended to show you how to add the Print standard functions
to your application.</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->

<h3><a name="UseCase"></a>The CAAPrtApplication Case</h3>
<p>CAAPrtApplication is a set of use cases of the CAAPrint.edu framework that
illustrates Print framework capabilities.</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->

<h4><a name="What"></a>What Does CAAPrtApplication Do</h4>
<p>This use case shows the <a href="#Print Item">Print</a>, <a href="#Capture Item">Capture</a>,
<a href="#Album Item">Album</a>, and <a href="#Printer Manager Item"> Printer Manager</a> items of
the CAAPrtApplication. For more details about the following dialog boxes, you
can refer to the interactive documentation: CATIA Infrastructure &gt; CATIA
Infrastructure User Guide &gt; Basic Tasks &gt; Printing Document.&nbsp;Note
that the shown pictures are Window snapshots, so dialog boxes can differ on Unix
system.</p>
<p><a name="Print Item"><b>Print Item</b></a></p>
<p>In the File menu, choose the Print... Item.&nbsp;The following dialog box
appears. It enables you to print the contents of the viewer.&nbsp;For more
details about each widget of this dialog box, launch a CATIA session, open any
document, and select the Print command in the File menu. Thanks to the ? icon
you can have tool tip information.</p>
<table border="0">
  <tr>
    <td><img border="0" src="images/CAAPrtSamplePrintPrintItem.jpg" width="591" height="369"></td>
  </tr>
</table>
<p><a name="Capture Item"><b>Capture Item</b></a></p>
<p>In the File menu, choose the Capture... Item.&nbsp;The following toolbar
appears. For more details about each widget of this dialog box, launch a CATIA
session, open any document, and select the Capture command in the Image sub-menu
of the Tools menu. Thanks to the ? icon you can have tool tip information.</p>
<table border="0">
  <tr>
    <td><img border="0" src="images/CAAPrtSamplePrintCaptureItem.jpg" width="197" height="69"></td>
  </tr>
</table>
<p><a name="Album Item"><b>Album Item</b></a></p>
<p>In the File menu, choose the Album... Item.&nbsp;The following toolbar
appears. For more details about each widget of this dialog box, launch a CATIA
session, open any document, and select the Album command in the Image sub-menu
of the Tools menu. Thanks to the ? icon you can have tool tip information.</p>
<table border="0">
  <tr>
    <td><img border="0" src="images/CAAPrtSamplePrintAlbumItem.jpg" width="465" height="332"></td>
  </tr>
</table>
<p><a name="Printer Manager Item"><b>Printer Setup Item</b></a></p>
<p>In the File menu, choose the Printer Setup... Item.&nbsp;The Printers dialog
box appears. It enables you to add/configure your printers.&nbsp;&nbsp;For more
details about each widget of this dialog box, launch a CATIA session, open any
document, and select the Printer Setup command in the File menu. Thanks to the ?
icon you can have tool tip information.</p>
<table border="0">
  <tr>
    <td><img border="0" src="images/CAAPrtSamplePrintManagerItem.jpg" width="624" height="430"></td>
  </tr>
</table>
<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->
<h4><a name="How"></a>How to Launch CAAPrtApplication</h4>
<p>To launch CAAPrtApplication, you will need to set up the build time
environment, then compile CAAPrtApplication along with its prerequisites, set up
the run time environment, and then execute the use case [<a href="#References">1</a>].</p>
<p align="right">[<a href="#Top">Top</a>]</p>

<!---------------------------------comment------------------------------------->

<h4><a name="Where"></a>Where to Find the CAAPrtApplication Code</h4>
<p>The CAAPrtApplication use case is made of an application class and of a
window class whose header and source files are located in the
CAAPrtApplication.m module of the CAAPrint.edu framework:</p>
<table>
  <tr>
    <td>Windows</td>
    <td><code>InstallRootDirectory\CAAPrint.edu\CAAPrtApplication.m</code></td>
  </tr>
  <tr>
    <td>Unix</td>
    <td><code>InstallRootDirectory/CAAPrint.edu/CAAPrtApplication.m</code></td>
  </tr>
</table>
<p>where <code>InstallRootDirectory</code> is the directory where the CAA CD-ROM
is installed.</p>
<p>CAAPrtApplication includes the following files:</p>
<table width="100%">
  <tr>
    <td><b>LocalInterfaces directory</b></td>
  </tr>
  <tr>
    <td>CAAPrtApplication.h</td>
    <td>Header file for the interactive application</td>
  </tr>
  <tr>
    <td>CAAPrtDialog.h</td>
    <td>Header file for the dialog window that hosts the viewer</td>
  </tr>
  <tr>
    <td><b>src directory</b></td>
  </tr>
  <tr>
    <td>CAAPrtApplication.cpp</td>
    <td>Source file for the interactive application</td>
  </tr>
  <tr>
    <td>CAAPrtDialog.cpp</td>
    <td>Source file for the dialog window that hosts the viewer</td>
  </tr>
</table>
<p>This article explains the <code>CAAPrtDialog</code> class and its callbacks
methods.
<!---------------------------------comment------------------------------------->

<h4><a name="Step"></a>Step-by-Step</h4>
<p>To open and display a TIFF image file in a 2D viewer, there are four main
steps:</p>
<table width="100%">
  <tr>
    <th>#</th>
    <th>Step</th>
    <th>Where</th>
  </tr>
  <tr>
    <td valign="top"><a href="#Step1">1</a></td>
    <td valign="top">Adds the Print dialog box</td>
    <td valign="top">PrintCB method</td>
  </tr>
  <tr>
    <td valign="top"><a href="#Step2">2</a></td>
    <td valign="top">Adds the Capture toolbar</td>
    <td valign="top">CaptureCB method</td>
  </tr>
  <tr>
    <td valign="top"><a href="#Step3">3</a></td>
    <td valign="top">Adds the Album dialog box</td>
    <td valign="top">AlbumCB method</td>
  </tr>
  <tr>
    <td valign="top"><a href="#Step4">4</a></td>
    <td valign="top">Adds the Printer Manager dialog box</td>
    <td valign="top">PrinterManagerCB method</td>
  </tr>
</table>
<p>These capabilities are proposed to the end user as items of the File menu. A
callback set for each of these items displays the appropriate dialog box. The
control is then passed to the Print framework that manages the requested tasks.
The four methods detailed below are callback methods. Their arguments are
unused.</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->

<h4><a name="Step1"></a>Adding the Print Dialog Box</h4>
<table class="code">
  <tr>
    <td>
      <pre>void CAAPrtDialog::PrintCB(CATCommand           * iSendingCommand,
                            CATNotification      * iSentNotification,
                            CATCommandClientData   iUsefulData)
{
  _appli-&gt;<strong>SetBusyCursor</strong>(); <em>// Set the cursor as an hourglass</em>

  <em>// Instantiates the Print dialog box</em>
  CATPrintDialog * print = new <strong>CATPrintDialog</strong>(this, &quot;Print&quot;, _viewer);

  print-&gt;<strong>SetVisibility</strong>(CATDlgShow); <em>// Shows the Print dialog box</em>
}</pre>
    </td>
  </tr>
</table>
<p>The cursor is set as busy and looks like an hour glass as long as the Print
dialog box is not displayed. This is done using the <code>SetBusyCursor</code>
method. The Print dialog box constructor has the following parameters:
<ul>
  <li><code>this</code> is the dialog box parent set as the application window</li>
  <li><code>&quot;Print&quot;</code> is the dialog box identifier, unused here</li>
  <li><code>_viewer</code> is the application viewer. This object along with is
    contents will be printed.</li>
</ul>
<p>The <code>SetVisibility</code> method displays the dialog box. The Print
dialog box manages its deallocation itself<big>.</big></p>
<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->

<h4><a name="Step2"></a>Adding the Capture Toolbar</h4>
<table class="code">
  <tr>
    <td>
      <pre>void CAAPrtDialog::CaptureCB(CATCommand           * iSendingCommand,
                              CATNotification      * iSentNotification,
                              CATCommandClientData   iUsefulData)
{
  CATPrintCaptureDialog * capture = new <strong>CATPrintCaptureDialog</strong>(this, &quot;Capture&quot;, _viewer);
  capture-&gt;<b>SetVisibility</b>(CATDlgShow);
}</pre>
    </td>
  </tr>
</table>
<p>The Capture toolbar constructor has the following parameters:
<ul>
  <li><code>this</code> is the toolbar parent set as the application window</li>
  <li><code>&quot;Capture&quot;</code> is the toolbar identifier, unused here</li>
  <li><code>_viewer</code> is the application viewer. This object along with is
    contents will be captured.</li>
</ul>
<p>The <code>SetVisibility</code> method displays the dialog box. The Capture toolbar manages its deallocation itself<big>.</big></p>
<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->

<h4><a name="Step3"></a>Adding the Album Dialog Box</h4>
<p>The file conversion to a 2D representation can now take place.</p>
<table class="code">
  <tr>
    <td>
      <pre>void CAAPrtDialog::AlbumCB(CATCommand           * iSendingCommand,
                            CATNotification      * iSentNotification,
                            CATCommandClientData   iUsefulData)
{
  <em>// Instantiates the Album dialog box</em>
  CATPrintAlbumDialog *album = new <strong>CATPrintAlbumDialog</strong>(this, &quot;Album&quot;);

  album-&gt;SetVisibility(CATDlgShow); <em>// Shows the Album dialog box</em>
}</pre>
    </td>
  </tr>
</table>
<p>The Album dialog box constructor has the following parameters:
<ul>
  <li><code>this</code> is the dialog box parent set as the application window</li>
  <li><code>&quot;Album&quot;</code> is the dialog box identifier, unused here.</li>
</ul>
<p>The <code>SetVisibility</code> method displays the dialog box. The Album
dialog box manages its deallocation itself<big>.</big></p>
<p align="right">[<a href="#Top">Top</a>]</p>
<!---------------------------------comment------------------------------------->

<h4><a name="Step4"></a>Adding the Printer Manager Dialog Box</h4>
<table class="code">
  <tr>
    <td>
      <pre>void CAAPrtDialog::PrinterManagerCB(CATCommandCATCommand * iSendingCommand,
                                     CATNotification      * iSentNotification,
                                     CATCommandClientData   iUsefulData)
{
  <em>// Instantiates the Printer Manager dialog boxcommand</em> 
  CATPrinterManagerDialog *printMan = new <strong>CATPrinterManagerDialog</strong>(this, 
                                              &quot;PrintMan&quot;, CATDlgWndModal);

  printMan-&gt;<strong>SetVisibility</strong>(CATDlgShow); <em>// Shows the Printer Manager dialog box</em>
}</pre>
    </td>
  </tr>
</table>
<p>The Printer Manager dialog box constructor has the following parameters:
<ul>
  <li><code>this</code> is the dialog box parent set as the application window</li>
  <li><code>&quot;PrinMan&quot;</code> is the dialog box identifier, unused here</li>
  <li><code>CATDlgWndModal</code> is the dialog box style. Modal means that no
    interaction outsisde the dialog box is possible as long as it is displayed.</li>
</ul>
<p>The <code>SetVisibility</code> method displays the dialog box. The Printer
Manager dialog box manages its deallocation itself<big>.</big></p>
<p align="right">[<a href="#Top">Top</a>]</p>
<hr>

<!---------------------------------comment------------------------------------->
<h3><a name="InShort"></a>In Short</h3>
<p>This use case shows how to add the Print dialog boxes and toolbars to your
application. They include the Print dialog box to print the contents of a
viewer, the Capture toolbar to make a snapshot of a viewer in an image file
stored in the album, the Album toolbar to manage the album, and the Printer
Manager to set up the printer.</p>
<p align="right">[<a href="#Top">Top</a>]</p>
<hr>
<!---------------------------------comment------------------------------------->

<h3><a name="References"></a>References</h3>
<table width="100%">
  <tr>
    <td valign="top">[1]</td>
    <td><a href="../CAADocUseCases/CAADocRunSample.htm">Building
      and Lauching CAA V5 Samples</a></td>
  </tr>
  <tr>
    <td valign="top" align="right" colspan="2">[<a href="#Top">Top</a>]</td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->
<h3><a name="History"></a>History</h3>
<table width="100%">
  <tr>
    <td valign="top">Version: <strong>1</strong> [Jan 2000]</td>
    <td valign="top">Document created</td>
  </tr>
  <tr>
    <td valign="top">Version: <strong>2</strong> [Nov 2003]</td>
    <td valign="top">Document updated</td>
  </tr>
  <tr>
    <td valign="top" align="right" colspan="2">[<a href="#Top">Top</a>]</td>
  </tr>
</table>
<hr>
<!---------------------------------comment------------------------------------->
<p><i>Copyright © 2000, Dassault Systèmes. All rights reserved.</i></p>

</body>
